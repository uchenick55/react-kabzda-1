"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[205],{205:function(e,n,t){t.r(n),t.d(n,{default:function(){return we}});var r=t(9439),s="NOT_FOUND";var a=function(e,n){return e===n};function o(e,n){var t="object"===typeof n?n:{equalityCheck:n},r=t.equalityCheck,o=void 0===r?a:r,i=t.maxSize,c=void 0===i?1:i,l=t.resultEqualityCheck,u=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,s=0;s<r;s++)if(!e(n[s],t[s]))return!1;return!0}}(o),f=1===c?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:s},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(u):function(e,n){var t=[];function r(e){var r=t.findIndex((function(t){return n(e,t.key)}));if(r>-1){var a=t[r];return r>0&&(t.splice(r,1),t.unshift(a)),a.value}return s}return{get:r,put:function(n,a){r(n)===s&&(t.unshift({key:n,value:a}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(c,u);function d(){var n=f.get(arguments);if(n===s){if(n=e.apply(null,arguments),l){var t=f.getEntries().find((function(e){return l(e.value,n)}));t&&(n=t.value)}f.put(arguments,n)}return n}return d.clearCache=function(){return f.clear()},d}function i(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var a,o=0,i={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(i=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var l=i.memoizeOptions,u=void 0===l?t:l,f=Array.isArray(u)?u:[u],d=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}(r),g=e.apply(void 0,[function(){return o++,c.apply(null,arguments)}].concat(f)),h=e((function(){for(var e=[],n=d.length,t=0;t<n;t++)e.push(d[t].apply(null,arguments));return a=g.apply(null,e)}));return Object.assign(h,{resultFunc:c,memoizedResultFunc:g,dependencies:d,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),h}}var c=i(o),l=function(e){return e.usersPage.pageSize},u=function(e){return e.usersPage.totalUsersCount},f=function(e){return e.usersPage.currentPage},d=function(e){return e.usersPage.isFetching},g=function(e){return e.usersPage.followingInProgress},h=function(e){return e.auth.isAuth},p=function(e){return e.usersPage.onlyFriends},v=c((function(e){return e.usersPage.users}),(function(e){return e})),m=t(8687),x=t(5732),P=t(2791),y=t(6159),j="Users_userPhoto__5FOrl",C="Users_nameStatusCommon__IX8+8",w="Users_maxWidthcommon__XFAer",_="Users_maxWidth1Col__xpaYZ",N="Users_name__NXsmd",Z="Users_status__dd8C6",k="Users_Relative__EtQqz",F="Users_line__EXs9E",b="Users_favImage__Fih2I",U="Users_star__9qeVm",I="Users_usersOverflowAuto__bmqmJ",A="Users_usersHeaderDialogsPage__U9MWc",T="Users_usersHeaderUsersPage__kK3lQ",S=(t(7632),t(1413)),z=t(5987),E=t(1694),O=t.n(E),R=t(162),L=t(6445),W=t(184),X=["active","disabled","className","style","activeLabel","children"],q=["children"],D=P.forwardRef((function(e,n){var t=e.active,r=e.disabled,s=e.className,a=e.style,o=e.activeLabel,i=e.children,c=(0,z.Z)(e,X),l=t||r?"span":L.Z;return(0,W.jsx)("li",{ref:n,style:a,className:O()(s,"page-item",{active:t,disabled:r}),children:(0,W.jsxs)(l,(0,S.Z)((0,S.Z)({className:"page-link"},c),{},{children:[i,t&&o&&(0,W.jsx)("span",{className:"visually-hidden",children:o})]}))})}));D.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},D.displayName="PageItem";var H=D;function M(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=P.forwardRef((function(e,r){var s=e.children,a=(0,z.Z)(e,q);return(0,W.jsxs)(D,(0,S.Z)((0,S.Z)({},a),{},{ref:r,children:[(0,W.jsx)("span",{"aria-hidden":"true",children:s||n}),(0,W.jsx)("span",{className:"visually-hidden",children:t})]}))}));return r.displayName=e,r}var G=M("First","\xab"),Q=M("Prev","\u2039","Previous"),Y=M("Ellipsis","\u2026","More"),B=M("Next","\u203a"),J=M("Last","\xbb"),K=["bsPrefix","className","size"],V=P.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,s=e.size,a=(0,z.Z)(e,K),o=(0,R.vE)(t,"pagination");return(0,W.jsx)("ul",(0,S.Z)((0,S.Z)({ref:n},a),{},{className:O()(r,o,s&&"".concat(o,"-").concat(s))}))}));V.displayName="Pagination";var $=Object.assign(V,{First:G,Prev:Q,Ellipsis:Y,Item:H,Next:B,Last:J}),ee="Pagination_pagination__utrCy",ne=function(e){for(var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,s=e.onPageChanged,a=e.currentRangeLocal,o=e.onChangeRangeLocal,i=Math.ceil(n/t),c=[],l=1;l<=i;l++)c.push(l);var u=1+6*(a-1),f=6*a,d=c.filter((function(e){return e>=u&&e<=f})),g=function(e){"prevPortion"===e&&a>1&&o(-1),"nextPortion"===e&&o(1)},h=d.map((function(e){return(0,W.jsxs)($.Item,{active:e===r,onClick:function(){s(e)},children:[e," "]},e)}));return(0,W.jsx)("div",{className:ee,children:(0,W.jsxs)($,{className:"pagination align-items-center justify-content-center",children:[" ",(0,W.jsx)($.Prev,{onClick:function(){g("prevPortion")}})," ",h," ",(0,W.jsx)($.Next,{onClick:function(){g("nextPortion")}}),"  "]})})},te=t(4266),re=t(5313),se=t(3360),ae=t(9410),oe=t(2592);var ie=t.p+"static/media/star+.8f12c1f646656dcb9d3b823059f13349.svg",ce=function(e){var n=e.onChangeTerm,t=e.onChangeTermFunction,r=e.SetTermFunction,s=e.handleClick,a=e.setOnlyFriends,o=e.onlyFriends;return(0,W.jsx)("div",{children:(0,W.jsx)(re.Z,{children:(0,W.jsxs)(te.Z,{direction:"horizontal",gap:3,className:"mx-1",children:[(0,W.jsxs)(ae.Z,{children:[(0,W.jsx)(ae.Z.Text,{children:(0,W.jsx)(oe.Z,{fluid:!0,src:ie,className:b})}),(0,W.jsx)(ae.Z.Checkbox,{checked:o,onChange:function(e){e&&e.target&&a(e.target.checked)}}),(0,W.jsx)(re.Z.Control,{type:"text",value:n,onChange:function(e){t(e)},onBlur:r,placeholder:"find users..."})," "]}),(0,W.jsx)("div",{className:"vr"})," ",(0,W.jsx)(se.Z,{onClick:s,type:"submit",children:"Find"})]})})})},le=t(7022),ue=t(9743),fe=t(9603),de=t(1087),ge=t(6110);var he=t.p+"static/media/star-.0741470d42a207292c915853e443c7c4.svg",pe=function(e){var n=e.u,t=e.followUnfollowAPICallback,r=e.followingInProgress,s=e.isAuth,a=r.some((function(e){return e===n.id}));return(0,W.jsx)("span",{children:(0,W.jsx)(oe.Z,{fluid:!0,src:n.followed?ie:he,alt:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",onClick:function(){a||(s?t(n.id):alert("You are not authorized, please Login"))}})})},ve=function(e){var n=e.users,t=e.unfollowAPI,r=e.followAPI,s=e.followingInProgress,a=e.isAuth,o=e.patch,i=e.PageWidth,c="";return"users"===o&&(i<460&&(c="grid1col"),i>=460&&i<800&&(c="grid2col"),i>=800&&i<1200&&(c="grid3col"),i>=1200&&i<1600&&(c="grid4col"),i>=1600&&i<2e3&&(c="grid5col"),i>=2e3&&(c="grid6col")),"dialogs"===o&&(c="grid1col paddingTop55"),(0,W.jsxs)("div",{className:c,children:[" ",n.map((function(e){return(0,W.jsxs)("div",{className:k,children:[(0,W.jsx)("div",{className:U,children:e.followed?(0,W.jsx)(pe,{u:e,followUnfollowAPICallback:t,followingInProgress:s,isAuth:a}):(0,W.jsx)(pe,{u:e,followUnfollowAPICallback:r,followingInProgress:s,isAuth:a})}),(0,W.jsx)(de.OL,{to:"/messages/"+e.id,children:(0,W.jsxs)("div",{children:[(0,W.jsx)(oe.Z,{fluid:!0,className:j,src:null!==e.photos.small?e.photos.small:ge,alt:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,W.jsxs)("span",{className:"".concat(C," ").concat(N," ").concat("users"===o?w:_),children:[e.name&&e.name," "]}),(0,W.jsxs)("span",{className:"".concat(C," ").concat(Z," ").concat("users"===o?w:_),children:[e.status&&e.status," "]})]})})]},e.id)}))]})},me=function(e){var n=e.totalUsersCount,t=e.pageSize,s=e.currentPage,a=e.onPageChanged,o=e.users,i=e.followingInProgress,c=e.unfollowAPI,l=e.isAuth,u=e.followAPI,f=e.SetTermFunction,d=e.onChangeTerm,g=e.onChangeTermFunction,h=e.onChangeRangeLocal,p=e.currentRangeLocal,v=e.setOnlyFriends,m=e.onlyFriends,x=e.patch,y=e.PageWidth,j=(0,P.useState)({message:""}),C=(0,r.Z)(j,2),w=C[0],_=C[1];if(w.message)return w.message;try{var N=(0,W.jsxs)(ue.Z,{className:"mt-3",children:[" ",(0,W.jsx)(ne,{totalUsersCount:n,pageSize:t,currentPage:s,onPageChanged:a,currentRangeLocal:p,onChangeRangeLocal:h})]}),Z=(0,W.jsx)(ce,{onChangeTerm:d,onChangeTermFunction:g,SetTermFunction:f,handleClick:function(e){e.preventDefault(),f()},setOnlyFriends:v,onlyFriends:m}),k=(0,W.jsxs)(ue.Z,{children:[" ",(0,W.jsxs)("div",{className:"d-flex justify-content-center opacity-50 mt-2 ",children:[" Total: ",n]}),(0,W.jsx)("div",{className:F})]}),b=(0,W.jsxs)("div",{className:"my-4",children:[" ",(0,W.jsx)(ve,{users:o,unfollowAPI:c,followAPI:u,followingInProgress:i,isAuth:l,patch:x,PageWidth:y})]});return(0,W.jsx)("div",{className:I,children:(0,W.jsxs)(le.Z,{fluid:!0,children:[(0,W.jsxs)("div",{className:"users"===x?T:A,children:[(0,W.jsx)("h2",{className:fe.Z.pageHeader,children:"\u0427\u0430\u0442\u044b"})," ","users"===x&&N,Z," ","users"===x&&k," "]}),b]})})}catch(w){_(w)}},xe=t(5870),Pe=x.XU.setCurrentPage,ye=x.XU.setOnlyFriends,je=x.XU.setTerm,Ce=xe.rP.setDialog2InitialState,we=(0,m.$j)((function(e){return{users:v(e),pageSize:l(e),totalUsersCount:u(e),currentPage:f(e),isFetching:d(e),followingInProgress:g(e),isAuth:h(e),term:e.usersPage.term,onlyFriends:p(e),patch:e.app.patch,PageWidth:e.app.PageWidth}}),{setCurrentPage:Pe,getUsersThunkCreator:x.Uk,followThunkCreator:x.AC,unfollowThunkCreator:x.Ow,setTerm:je,setOnlyFriends:ye,setDialog2InitialState:Ce})((function(e){var n=e.users,t=e.pageSize,s=e.totalUsersCount,a=e.currentPage,o=e.isFetching,i=e.followingInProgress,c=e.isAuth,l=e.term,u=e.onlyFriends,f=e.patch,d=e.PageWidth,g=e.setCurrentPage,h=e.getUsersThunkCreator,p=e.followThunkCreator,v=e.unfollowThunkCreator,m=e.setTerm,x=e.setOnlyFriends,j=e.setDialog2InitialState,C=(0,P.useState)(l),w=(0,r.Z)(C,2),_=w[0],N=w[1],Z=(0,P.useState)(1),k=(0,r.Z)(Z,2),F=k[0],b=k[1];return(0,P.useEffect)((function(){h(a,t,l,u,0)}),[a,h,u,t,l]),(0,P.useEffect)((function(){g(1),b(1),h(1,t,l,u,0)}),[l,u,h,t,g]),(0,P.useEffect)((function(){j()}),[j]),(0,W.jsxs)(W.Fragment,{children:[" ",o&&(0,W.jsx)(y.Z,{}),(0,W.jsx)(me,{onPageChanged:function(e){g(e),h(e,t,l,u,0)},totalUsersCount:s,pageSize:t,currentPage:a,users:n,unfollowAPI:function(e){v(e,a,t,l,u)},followAPI:function(e){p(e,a,t,l,u)},followingInProgress:i,isAuth:c,SetTermFunction:function(){m(_)},onChangeTerm:_,onChangeTermFunction:function(e){N(e.currentTarget.value)},currentRangeLocal:F,onChangeRangeLocal:function(e){b(F+e)},setOnlyFriends:x,onlyFriends:u,patch:f,PageWidth:d})]})}))},9743:function(e,n,t){var r=t(1413),s=t(5987),a=t(1694),o=t.n(a),i=t(2791),c=t(162),l=t(184),u=["bsPrefix","className","as"],f=i.forwardRef((function(e,n){var t=e.bsPrefix,a=e.className,i=e.as,f=void 0===i?"div":i,d=(0,s.Z)(e,u),g=(0,c.vE)(t,"row"),h=(0,c.pi)(),p=(0,c.zG)(),v="".concat(g,"-cols"),m=[];return h.forEach((function(e){var n,t=d[e];delete d[e],n=null!=t&&"object"===typeof t?t.cols:t;var r=e!==p?"-".concat(e):"";null!=n&&m.push("".concat(v).concat(r,"-").concat(n))})),(0,l.jsx)(f,(0,r.Z)((0,r.Z)({ref:n},d),{},{className:o().apply(void 0,[a,g].concat(m))}))}));f.displayName="Row",n.Z=f},4266:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(3433),s=t(1413),a=t(5987),o=t(1694),i=t.n(o),c=t(2791),l=t(162),u=t(9439);function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Hz,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.cs,r=[];return Object.entries(e).forEach((function(e){var s=(0,u.Z)(e,2),a=s[0],o=s[1];null!=o&&("object"===typeof o?n.forEach((function(e){var n=o[e];if(null!=n){var s=e!==t?"-".concat(e):"";r.push("".concat(a).concat(s,"-").concat(n))}})):r.push("".concat(a,"-").concat(o)))})),r}var d=t(184),g=["as","bsPrefix","className","direction","gap"],h=c.forwardRef((function(e,n){var t=e.as,o=void 0===t?"div":t,c=e.bsPrefix,u=e.className,h=e.direction,p=e.gap,v=(0,a.Z)(e,g);c=(0,l.vE)(c,"horizontal"===h?"hstack":"vstack");var m=(0,l.pi)(),x=(0,l.zG)();return(0,d.jsx)(o,(0,s.Z)((0,s.Z)({},v),{},{ref:n,className:i().apply(void 0,[u,c].concat((0,r.Z)(f({gap:p},m,x))))}))}));h.displayName="Stack";var p=h}}]);
//# sourceMappingURL=205.f3e4e62a.chunk.js.map