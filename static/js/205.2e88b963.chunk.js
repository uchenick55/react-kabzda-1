"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[205],{205:function(e,n,r){r.r(n),r.d(n,{default:function(){return je}});var t=r(9439),a=r(6459),s="NOT_FOUND";var i=function(e,n){return e===n};function o(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,a=void 0===t?i:t,o=r.maxSize,c=void 0===o?1:o,l=r.resultEqualityCheck,u=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,a=0;a<t;a++)if(!e(n[a],r[a]))return!1;return!0}}(a),f=1===c?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:s},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(u):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var a=r[t];return t>0&&(r.splice(t,1),r.unshift(a)),a.value}return s}return{get:t,put:function(n,a){t(n)===s&&(r.unshift({key:n,value:a}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(c,u);function d(){var n=f.get(arguments);if(n===s){if(n=e.apply(null,arguments),l){var r=f.getEntries().find((function(e){return l(e.value,n)}));r&&(n=r.value)}f.put(arguments,n)}return n}return d.clearCache=function(){return f.clear()},d}function c(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];var s,i=0,o={memoizeOptions:void 0},c=t.pop();if("object"===typeof c&&(o=c,c=t.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var l=o.memoizeOptions,u=void 0===l?r:l,f=Array.isArray(u)?u:[u],d=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}(t),g=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(f)),h=e((function(){for(var e=[],n=d.length,r=0;r<n;r++)e.push(d[r].apply(null,arguments));return s=g.apply(null,e)}));return Object.assign(h,{resultFunc:c,memoizedResultFunc:g,dependencies:d,lastResult:function(){return s},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),h}}var l=c(o),u=function(e){return e.usersPage.pageSize},f=function(e){return e.usersPage.totalUsersCount},d=function(e){return e.usersPage.currentPage},g=function(e){return e.usersPage.isFetching},h=function(e){return e.usersPage.followingInProgress},v=function(e){return e.auth.isAuth},p=function(e){return e.usersPage.onlyFriends},m=l((function(e){return e.usersPage.users}),(function(e){return e})),x=r(8687),P=r(5732),j=r(2791),y=r(6159),C="Users_userPhoto__5FOrl",_="Users_nameStatusCommon__IX8+8",N="Users_maxWidthcommon__XFAer",w="Users_maxWidth1Col__xpaYZ",Z="Users_name__NXsmd",b="Users_status__dd8C6",k="Users_Relative__EtQqz",U="Users_line__EXs9E",F="Users_favImage__Fih2I",I="Users_star__9qeVm",A="Users_usersOverflowAuto__bmqmJ",E="Users_usersHeaderDialogsPage__U9MWc",z="Users_usersHeaderUsersPage__kK3lQ",R=(r(7632),r(1413)),S=r(5987),T=r(1694),O=r.n(T),L=r(162),W=r(6445),X=r(184),q=["active","disabled","className","style","activeLabel","children"],D=["children"],H=j.forwardRef((function(e,n){var r=e.active,t=e.disabled,a=e.className,s=e.style,i=e.activeLabel,o=e.children,c=(0,S.Z)(e,q),l=r||t?"span":W.Z;return(0,X.jsx)("li",{ref:n,style:s,className:O()(a,"page-item",{active:r,disabled:t}),children:(0,X.jsxs)(l,(0,R.Z)((0,R.Z)({className:"page-link"},c),{},{children:[o,r&&i&&(0,X.jsx)("span",{className:"visually-hidden",children:i})]}))})}));H.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},H.displayName="PageItem";var M=H;function G(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,t=j.forwardRef((function(e,t){var a=e.children,s=(0,S.Z)(e,D);return(0,X.jsxs)(H,(0,R.Z)((0,R.Z)({},s),{},{ref:t,children:[(0,X.jsx)("span",{"aria-hidden":"true",children:a||n}),(0,X.jsx)("span",{className:"visually-hidden",children:r})]}))}));return t.displayName=e,t}var Q=G("First","\xab"),Y=G("Prev","\u2039","Previous"),B=G("Ellipsis","\u2026","More"),J=G("Next","\u203a"),K=G("Last","\xbb"),V=["bsPrefix","className","size"],$=j.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,a=e.size,s=(0,S.Z)(e,V),i=(0,L.vE)(r,"pagination");return(0,X.jsx)("ul",(0,R.Z)((0,R.Z)({ref:n},s),{},{className:O()(t,i,a&&"".concat(i,"-").concat(a))}))}));$.displayName="Pagination";var ee=Object.assign($,{First:Q,Prev:Y,Ellipsis:B,Item:M,Next:J,Last:K}),ne="Pagination_pagination__utrCy",re=function(e){for(var n=e.totalUsersCount,r=e.pageSize,t=e.currentPage,a=e.onPageChanged,s=e.currentRangeLocal,i=e.onChangeRangeLocal,o=Math.ceil(n/r),c=[],l=1;l<=o;l++)c.push(l);var u=1+6*(s-1),f=6*s,d=c.filter((function(e){return e>=u&&e<=f})),g=function(e){"prevPortion"===e&&s>1&&i(-1),"nextPortion"===e&&i(1)},h=d.map((function(e){return(0,X.jsxs)(ee.Item,{active:e===t,onClick:function(){a(e)},children:[e," "]},e)}));return(0,X.jsx)("div",{className:ne,children:(0,X.jsxs)(ee,{className:"pagination align-items-center justify-content-center",children:[" ",(0,X.jsx)(ee.Prev,{onClick:function(){g("prevPortion")}})," ",h," ",(0,X.jsx)(ee.Next,{onClick:function(){g("nextPortion")}}),"  "]})})},te=r(4266),ae=r(5313),se=r(3360),ie=r(9410),oe=r(2592);var ce=r.p+"static/media/star+.4046d1d2bf6ba05a1ba8049a83b6ed88.svg",le=function(e){var n=e.onChangeTerm,r=e.onChangeTermFunction,t=e.SetTermFunction,a=e.handleClick,s=e.setOnlyFriends,i=e.onlyFriends,o=(0,x.I0)();return(0,X.jsx)("div",{children:(0,X.jsx)(ae.Z,{children:(0,X.jsxs)(te.Z,{direction:"horizontal",gap:3,className:"mx-1",children:[(0,X.jsxs)(ie.Z,{children:[(0,X.jsx)(ie.Z.Text,{children:(0,X.jsx)(oe.Z,{fluid:!0,src:ce,className:F})}),(0,X.jsx)(ie.Z.Checkbox,{checked:i,onChange:function(e){e&&e.target&&o(s(e.target.checked))}}),(0,X.jsx)(ae.Z.Control,{type:"text",value:n,onChange:function(e){r(e)},onBlur:t,placeholder:"find users..."})," "]}),(0,X.jsx)("div",{className:"vr"})," ",(0,X.jsx)(se.Z,{onClick:a,type:"submit",children:"Find"})]})})})},ue=r(7022),fe=r(9743),de=r(9603),ge=r(1087),he=r(6110);var ve=r.p+"static/media/star-.bad0ce863655224a286a5a44a7b01c83.svg",pe=function(e){var n=e.u,r=e.followUnfollowAPICallback,t=e.followingInProgress,a=e.isAuth,s=t.some((function(e){return e===n.id}));return(0,X.jsx)("span",{children:(0,X.jsx)(oe.Z,{fluid:!0,src:n.followed?ce:ve,alt:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",onClick:function(){s||(a?r(n.id):alert("You are not authorized, please Login"))}})})},me=function(e){var n=e.users,r=e.unfollowAPI,t=e.followAPI,a=e.followingInProgress,s=e.isAuth,i=e.patch,o=e.PageWidth,c="";return"users"===i&&(o<460&&(c="grid1col"),o>=460&&o<800&&(c="grid2col"),o>=800&&o<1200&&(c="grid3col"),o>=1200&&o<1600&&(c="grid4col"),o>=1600&&o<2e3&&(c="grid5col"),o>=2e3&&(c="grid6col")),"dialogs"===i&&(c="grid1col paddingTop55"),(0,X.jsxs)("div",{className:c,children:[" ",n.map((function(e){return(0,X.jsxs)("div",{className:k,children:[(0,X.jsx)("div",{className:I,children:e.followed?(0,X.jsx)(pe,{u:e,followUnfollowAPICallback:r,followingInProgress:a,isAuth:s}):(0,X.jsx)(pe,{u:e,followUnfollowAPICallback:t,followingInProgress:a,isAuth:s})}),(0,X.jsx)(ge.OL,{to:"/messages/"+e.id,children:(0,X.jsxs)("div",{children:[(0,X.jsx)(oe.Z,{fluid:!0,className:C,src:null!==e.photos.small?e.photos.small:he,alt:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,X.jsxs)("span",{className:"".concat(_," ").concat(Z," ").concat("users"===i?N:w),children:[e.name&&e.name," "]}),(0,X.jsxs)("span",{className:"".concat(_," ").concat(b," ").concat("users"===i?N:w),children:[e.status&&e.status," "]})]})})]},e.id)}))]})},xe=function(e){var n=e.totalUsersCount,r=e.pageSize,a=e.currentPage,s=e.onPageChanged,i=e.users,o=e.followingInProgress,c=e.unfollowAPI,l=e.isAuth,u=e.followAPI,f=e.SetTermFunction,d=e.onChangeTerm,g=e.onChangeTermFunction,h=e.onChangeRangeLocal,v=e.currentRangeLocal,p=e.setOnlyFriends,m=e.onlyFriends,x=e.patch,P=e.PageWidth,y=(0,j.useState)({message:""}),C=(0,t.Z)(y,2),_=C[0],N=C[1];if(_.message)return _.message;try{var w=(0,X.jsxs)(fe.Z,{className:"mt-3",children:[" ",(0,X.jsx)(re,{totalUsersCount:n,pageSize:r,currentPage:a,onPageChanged:s,currentRangeLocal:v,onChangeRangeLocal:h})]}),Z=(0,X.jsx)(le,{onChangeTerm:d,onChangeTermFunction:g,SetTermFunction:f,handleClick:function(e){e.preventDefault(),f()},setOnlyFriends:p,onlyFriends:m}),b=(0,X.jsxs)(fe.Z,{children:[" ",(0,X.jsxs)("div",{className:"d-flex justify-content-center opacity-50 mt-2 ",children:[" Total: ",n]}),(0,X.jsx)("div",{className:U})]}),k=(0,X.jsxs)("div",{className:"my-4",children:[" ",(0,X.jsx)(me,{users:i,unfollowAPI:c,followAPI:u,followingInProgress:o,isAuth:l,patch:x,PageWidth:P})]});return(0,X.jsx)("div",{className:A,children:(0,X.jsxs)(ue.Z,{fluid:!0,children:[(0,X.jsxs)("div",{className:"users"===x?z:E,children:[(0,X.jsx)("h2",{className:de.Z.pageHeader,children:"\u0427\u0430\u0442\u044b"})," ","users"===x&&w,Z," ","users"===x&&b," "]}),k]})})}catch(_){N(_)}},Pe=r(5870),je=function(e){(0,a.Z)(e);var n=(0,x.v9)(m),r=(0,x.v9)(u),s=(0,x.v9)(f),i=(0,x.v9)(d),o=(0,x.v9)(g),c=(0,x.v9)(h),l=(0,x.v9)(v),C=(0,x.v9)(p),_=(0,x.v9)((function(e){return e.usersPage.term})),N=(0,x.v9)((function(e){return e.app.patch})),w=(0,x.v9)((function(e){return e.app.PageWidth})),Z=(0,x.I0)(),b=P.XU.setCurrentPage,k=P.XU.setOnlyFriends,U=P.XU.setTerm,F=Pe.rP.setDialog2InitialState,I=(0,j.useState)(_),A=(0,t.Z)(I,2),E=A[0],z=A[1],R=(0,j.useState)(1),S=(0,t.Z)(R,2),T=S[0],O=S[1];return(0,j.useEffect)((function(){Z((0,P.Uk)(i,r,_,C,0))}),[i,P.Uk,C,r,_]),(0,j.useEffect)((function(){Z(b(1)),O(1),Z((0,P.Uk)(1,r,_,C,0))}),[_,C,P.Uk,r,b]),(0,j.useEffect)((function(){Z(F())}),[F]),(0,X.jsxs)(X.Fragment,{children:[" ",o&&(0,X.jsx)(y.Z,{}),(0,X.jsx)(xe,{onPageChanged:function(e){Z(b(e)),Z((0,P.Uk)(e,r,_,C,0))},totalUsersCount:s,pageSize:r,currentPage:i,users:n,unfollowAPI:function(e){Z((0,P.Ow)(e,i,r,_,C))},followAPI:function(e){Z((0,P.AC)(e,i,r,_,C))},followingInProgress:c,isAuth:l,SetTermFunction:function(){Z(U(E))},onChangeTerm:E,onChangeTermFunction:function(e){z(e.currentTarget.value)},currentRangeLocal:T,onChangeRangeLocal:function(e){O(T+e)},setOnlyFriends:k,onlyFriends:C,patch:N,PageWidth:w})]})}},9743:function(e,n,r){var t=r(1413),a=r(5987),s=r(1694),i=r.n(s),o=r(2791),c=r(162),l=r(184),u=["bsPrefix","className","as"],f=o.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,o=e.as,f=void 0===o?"div":o,d=(0,a.Z)(e,u),g=(0,c.vE)(r,"row"),h=(0,c.pi)(),v=(0,c.zG)(),p="".concat(g,"-cols"),m=[];return h.forEach((function(e){var n,r=d[e];delete d[e],n=null!=r&&"object"===typeof r?r.cols:r;var t=e!==v?"-".concat(e):"";null!=n&&m.push("".concat(p).concat(t,"-").concat(n))})),(0,l.jsx)(f,(0,t.Z)((0,t.Z)({ref:n},d),{},{className:i().apply(void 0,[s,g].concat(m))}))}));f.displayName="Row",n.Z=f},4266:function(e,n,r){r.d(n,{Z:function(){return v}});var t=r(3433),a=r(1413),s=r(5987),i=r(1694),o=r.n(i),c=r(2791),l=r(162),u=r(9439);function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Hz,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.cs,t=[];return Object.entries(e).forEach((function(e){var a=(0,u.Z)(e,2),s=a[0],i=a[1];null!=i&&("object"===typeof i?n.forEach((function(e){var n=i[e];if(null!=n){var a=e!==r?"-".concat(e):"";t.push("".concat(s).concat(a,"-").concat(n))}})):t.push("".concat(s,"-").concat(i)))})),t}var d=r(184),g=["as","bsPrefix","className","direction","gap"],h=c.forwardRef((function(e,n){var r=e.as,i=void 0===r?"div":r,c=e.bsPrefix,u=e.className,h=e.direction,v=e.gap,p=(0,s.Z)(e,g);c=(0,l.vE)(c,"horizontal"===h?"hstack":"vstack");var m=(0,l.pi)(),x=(0,l.zG)();return(0,d.jsx)(i,(0,a.Z)((0,a.Z)({},p),{},{ref:n,className:o().apply(void 0,[u,c].concat((0,t.Z)(f({gap:v},m,x))))}))}));h.displayName="Stack";var v=h}}]);
//# sourceMappingURL=205.2e88b963.chunk.js.map