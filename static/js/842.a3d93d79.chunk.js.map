{"version":3,"file":"static/js/842.a3d93d79.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Login/Login.module.css?3530","components/Login/Login.jsx","components/Login/LoginContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"loginCommon\":\"Login_loginCommon__6FyBi\",\"loginForm\":\"Login_loginForm__36Xmy\",\"legendStyle\":\"Login_legendStyle__SOIpE\",\"fieldSetStyle\":\"Login_fieldSetStyle__1oKJz\"};","import React from \"react\"; // импорт реакта\nimport {Field, reduxForm, reset} from \"redux-form\";// reduxForm для ввода новых постов\nimport classes from './Login.module.css'\nimport styles from './../common/Validation/customFields.module.css'\nimport {Input} from \"../common/Validation/customFields\";\nimport {email, Required} from \"../common/Validation/validationField\";\nimport {PointerCursor} from \"../Dark_light_theme/globalStyles\";\n\nconst LoginForm = ({handleSubmit, error, captchaURL, updateCaptcha}) => { // компонента формы\n    return (\n        <form onSubmit={handleSubmit}/*привязка сабмита формы к внутренней функции reduxForm - handleSubmit*/>\n            <fieldset >\n                <legend><div className={classes.legendStyle}>Войдите в аккаунт</div></legend>\n                <div className={classes.fieldSetStyle}>\n                    <div>\n                        <Field\n                            name=\"email\"// имя поля формы и возвращаемого свойства объекта после сабмита формы\n                            component={Input}// компонент - ввод\n                            placeholder=\"email\" // текст подсказка при пустом поле\n                            validate={[Required, email]}\n                        />\n                    </div>\n                    <div>\n                        <Field\n                            name=\"password\"// имя поля формы и возвращаемого свойства объекта после сабмита формы\n                            component={Input}// компонент - ввод\n                            placeholder=\"password\"// текст подсказка при пустом поле\n                            validate={[Required]}\n                        />\n                    </div>\n                    <div>\n                        <Field\n                            name=\"rememberme\"// имя поля формы и возвращаемого свойства объекта после сабмита формы\n                            component=\"input\"// компонент - ввод\n                            type=\"checkbox\"// тип - чекбокс\n                        />\n                        <label> запомнить меня</label>\n                    </div>\n                    {captchaURL &&\n                        <div>\n                            <PointerCursor>\n                                <img src={captchaURL} onClick={updateCaptcha}></img>\n                            </PointerCursor>\n                            <Field\n                                name=\"captcha\"// имя поля формы и возвращаемого свойства объекта после сабмита формы\n                                component={Input}// компонент - ввод\n                                placeholder=\"captcha\" // текст подсказка при пустом поле\n                                validate={[Required]}\n                            />\n                        </div>\n                    }\n                    <div>\n                        <button type=\"submit\">Submit</button>\n                        {/*кнопка*/}\n                    </div>\n                    <div className={styles.commonError}>\n                        {/*стилизация красным сообщение об общей ошибке с сервера при неверном логине или пароле*/}\n                        {error} {/*вывод сообщения ошибки после диспатча stopSubmit из auth-reducer.jsx */}\n                    </div>\n\n                </div>\n            </fieldset>\n        </form>\n    )\n}\n\n// оберточная компонента формы, задает имя подстейта \"LoginForm\"\nlet LoginReduxForm = reduxForm({form: 'loginForm'})(LoginForm)\n\nlet Login = ({postLogin, captchaURL, updateCaptcha, dispatch}) => {\n\n    let resetFormFields = () => { // альтернативный вариант сброса формы, можно подключить к сабмиту\n        dispatch(reset('loginForm')) // сброс полей формы после ввода\n\n    }\n    let onSubmit = (formData) => { // функция реакции на сабмит формы с данными от формы formData\n        const rememberme = !formData.rememberme ? false : formData.rememberme // если галочка rememberme не стоит, то false\n        postLogin(formData.email, formData.password, rememberme, formData.captcha)//вызов postLoginThunkCreator выше из LoginContainer\n        resetFormFields() // сбросить поля формы после отправки данных полей\n    }\n    return (\n        <div className={classes.loginCommon}/*стиль*/ >\n            <div className={classes.loginForm}>\n                <div><LoginReduxForm\n                    onSubmit={onSubmit}\n                    captchaURL={captchaURL} // отображение каптчи, если она не пустая\n                    updateCaptcha={updateCaptcha}\n                />{/*вызов формы логина с отсылкой на локальный обработчик сабмита*/}\n                </div>\n            </div>\n\n        </div>\n\n    )\n}\n\nexport default Login\n","import React from \"react\";\r\nimport Login from \"./Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {getCaptchaThunkCreator, postLoginThunkCreator} from \"../../redux/auth-reducer\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {getFriendsThunkCreator} from \"../../redux/sidebar-reducer\";\r\n\r\nclass LoginContainer extends React.Component {\r\n\r\n    postLogin = (email, password, rememberme, captcha) => { // email, password, rememberme берем из формы login\r\n        //метод для проброса дальше целевой компоненты для вызова postLoginThunkCreator (авторизация на сервере)\r\n        this.props.postLoginThunkCreator(email, password, rememberme, captcha);\r\n    }\r\n\r\n    updateCaptcha = () => {\r\n        this.props.getCaptchaThunkCreator()\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isAuth) { // условие что я авторизован\r\n            this.props.getFriendsThunkCreator( // получить список друзей\r\n                this.props.friendsCurrentPage,\r\n                this.props.friendsPageSize,\r\n                this.props.friendsTerm,\r\n                this.props.friend);\r\n            return <Navigate to='../profile'/>; // редирект на страницу Profile\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Login postLogin={this.postLogin}\r\n                       captchaURL={this.props.captchaURL}\r\n                       updateCaptcha={this.updateCaptcha}\r\n                       dispatch = {this.props.dispatch}\r\n                /> {/*Возврат целевой компоненты*/}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => { // флаги isAuth - \"я авторизован?\"\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        friendsCurrentPage: state.sideBar.friendsCurrentPage,\r\n        friendsPageSize: state.sideBar.friendsPageSize,\r\n        friendsTerm: state.sideBar.friendsTerm,\r\n        friend: state.sideBar.friend,\r\n        captchaURL: state.auth.captchaURL, // URL каптчи при неправильном вводе 5 раз логина\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n        postLoginThunkCreator: (email, password, rememberme, captchaURL) => { // отправить сообщение\r\n            dispatch(postLoginThunkCreator(email, password, rememberme, captchaURL))\r\n        },\r\n        getFriendsThunkCreator: (currentPage, pageSize, term, friend) => { // отправить сообщение\r\n            dispatch(getFriendsThunkCreator(currentPage, pageSize, term, friend))\r\n        },\r\n        getCaptchaThunkCreator: () => { // отправить сообщение\r\n            dispatch(getCaptchaThunkCreator())\r\n        },\r\n        dispatch: dispatch\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer)\r\n"],"names":["LoginReduxForm","reduxForm","form","handleSubmit","error","captchaURL","updateCaptcha","onSubmit","className","classes","Field","name","component","Input","placeholder","validate","Required","email","type","src","onClick","styles","postLogin","dispatch","formData","rememberme","password","captcha","reset","LoginContainer","props","postLoginThunkCreator","getCaptchaThunkCreator","this","isAuth","getFriendsThunkCreator","friendsCurrentPage","friendsPageSize","friendsTerm","friend","to","React","connect","state","auth","sideBar","currentPage","pageSize","term"],"sourceRoot":""}