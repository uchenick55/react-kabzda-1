"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[888],{6888:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var o=n(7781),i=n(8687),r=n(81),l=n(1852),s=n(3990),a=n(2791),u="photo_profilePhotoIMG__mxxH2",c="photo_FileUploadInt__yz31V",d=n(9603),f=n(2592),v=n(5313),m=n(184),h=function(e){var t=e.photo,n=e.isMyProfile,o=e.onChangeLocal;return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:d.Z.toCenter,children:(0,m.jsx)(f.Z,{fluid:!0,alt:"userPhoto",className:"".concat(u," "),src:t})}),n&&(0,m.jsx)("div",{children:(0,m.jsx)(v.Z.Control,{type:"file",onChange:o,className:c})})]})},x=n(6110),p=function(){var e,t=(0,i.I0)(),n=(0,i.v9)((function(e){return e.profilePage.profile})),o=(0,i.v9)((function(e){return e.auth.myId})),l=null!==n&&void 0!==n&&null!==(e=n.photos)&&void 0!==e&&e.large?n.photos.large:x,s=(null===n||void 0===n?void 0:n.userId)===o;return(0,m.jsx)("div",{children:(null===n||void 0===n?void 0:n.userId)&&(0,m.jsx)(h,{photo:l,isMyProfile:s,onChangeLocal:function(e){e.target&&e.target.files&&e.target.files.length>0&&t((0,r.Yr)(e.target.files[0]))}})})},j=n(9439),P=n(5705),g=n(1724),_={HeaderEditProfileForm:"EditProfile_HeaderEditProfileForm__+ggeL",EditProfile:"EditProfile_EditProfile__KCw4z",EditProfileContactsFields:"EditProfile_EditProfileContactsFields__9QV1r",errorText:"EditProfile_errorText__piK3h"},b=n(6670),E=n(3360),y=g.Ry({}),Z=function(e){var t=e.putProfile,n=e.setEditMode,o=e.profile,i=e.editProfileStatus,r=e.setEditProfileStatus,l={FullName:null===o||void 0===o?void 0:o.fullName,AboutMe:null===o||void 0===o?void 0:o.aboutMe,LookingForAJob:null===o||void 0===o?void 0:o.lookingForAJob,LookingForAJobDescription:null===o||void 0===o?void 0:o.lookingForAJobDescription,contacts:null===o||void 0===o?void 0:o.contacts};return a.createElement(P.J9,{initialValues:l,validationSchema:y,onSubmit:function(e,n){var o=n.resetForm;t(e),o()}},(function(e){var t=e.handleReset;return a.createElement(P.l0,{className:_.MyPosts},a.createElement("div",{},a.createElement("div",{className:_.HeaderEditProfileForm},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"),a.createElement(b.rZ,{label:"\u0418\u043c\u044f",autoFocus:!1,name:"FullName",type:"text",placeholder:"\u0418\u043c\u044f",leftLabelLength:"5rem"}),a.createElement(b.rZ,{label:"\u041e\u0431\u043e \u043c\u043d\u0435",autoFocus:!1,name:"AboutMe",type:"text",placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",leftLabelLength:"5rem"}),a.createElement(b.$m,{name:"LookingForAJob"},"\u0432 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"),a.createElement(b.rZ,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",autoFocus:!1,name:"LookingForAJobDescription",type:"textarea",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",leftLabelLength:"5rem"}),a.createElement("h4",{},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),a.createElement("div",{className:_.EditProfileContactsFields},(null===o||void 0===o?void 0:o.contacts)&&Object.keys(null===o||void 0===o?void 0:o.contacts).map((function(e){return a.createElement("div",{key:e},a.createElement(b.rZ,{label:e,autoFocus:!1,name:"contacts["+e+"]",type:"text",placeholder:e,leftLabelLength:"5rem"}),a.createElement("div",{},i.map((function(t){return t.toLowerCase().includes(e.toLowerCase())?a.createElement("div",{key:t,className:_.errorText},t):null}))))}))),a.createElement("br"),a.createElement(E.Z,{type:"button",variant:"warning",onClick:function(){t(),r([])}},"\u0421\u0431\u0440\u043e\u0441")," ",a.createElement(E.Z,{type:"submit"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")," ",a.createElement(E.Z,{variant:"secondary",onClick:function(){n(!1),r([])}},"\u041e\u0442\u043c\u0435\u043d\u0430")))}))},C=(n(7632),function(e){var t=e.key1,n=e.Value;return(0,m.jsxs)("div",{children:[(0,m.jsxs)("b",{children:[t,": "]})," ",(0,m.jsx)("span",{title:n,children:n})]})}),M=(0,a.memo)((function(e){var t=e.profile,n=e.setEditMode,o=e.isMyProfile;return(0,m.jsxs)("div",{className:"".concat(d.Z.textMaxWidthCommon," "),children:[" ",(0,m.jsx)("h3",{title:null===t||void 0===t?void 0:t.fullName,children:null===t||void 0===t?void 0:t.fullName}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),": ",(0,m.jsxs)("span",{title:null===t||void 0===t?void 0:t.aboutMe,children:[" ",null===t||void 0===t?void 0:t.aboutMe]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b?"})," ",(0,m.jsx)("span",{title:null!==t&&void 0!==t&&t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442",children:null!==t&&void 0!==t&&t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})," ",(0,m.jsx)("span",{title:null===t||void 0===t?void 0:t.lookingForAJobDescription,children:null===t||void 0===t?void 0:t.lookingForAJobDescription})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"userId:"})," ",(0,m.jsx)("span",{title:null===t||void 0===t?void 0:t.userId.toString(),children:null===t||void 0===t?void 0:t.userId})," "]}),(0,m.jsx)("ul",{children:t&&Object.keys(t.contacts).map((function(e,n){var o=Object.values(t.contacts)[n];return(0,m.jsxs)("li",{children:[(0,m.jsx)(C,{key1:e,Value:o})," "]},e)}))}),o&&(0,m.jsx)(E.Z,{onClick:function(){n(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c "})]})})),k=(0,a.memo)((function(e){var t=e.profile,n=e.isMyProfile,o=e.putProfile,i=e.editProfileStatus,r=e.setEditProfileStatus,l=e.isProfileEditedSuccesssfully,s=(0,a.useState)(!1),u=(0,j.Z)(s,2),c=u[0],f=u[1];(0,a.useEffect)((function(){l&&(f(!1),setTimeout((function(){r([])}),2e3))}),[i,l,r]);var v=(0,m.jsx)(M,{profile:t,setEditMode:f,isMyProfile:n}),h=(0,m.jsx)(Z,{putProfile:o,setEditMode:f,profile:t,editProfileStatus:i,setEditProfileStatus:r});return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:d.Z.pageHeader,children:"Profile"})," ",!c&&v," ",c&&h," "]})})),I=function(){var e=r.ef.setEditProfileStatus,t=(0,i.I0)(),n=(0,i.v9)((function(e){return e.profilePage.profile})),o=(0,i.v9)((function(e){return e.auth.myId})),l=(0,i.v9)((function(e){var t,n;return null===(t=e.profilePage)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.userId})),s=(0,i.v9)((function(e){return e.profilePage.editProfileStatus})),a=(0,i.v9)((function(e){return e.app.notify})),u=l===o,c=!1;return a.forEach((function(e){"Edited successfully!"===e.message&&(c=!0)})),(0,m.jsx)(k,{profile:n,isMyProfile:u,putProfile:function(e){var n=Object.assign({},{userId:o},e);t((0,r.hv)(n))},editProfileStatus:s,setEditProfileStatus:e,isProfileEditedSuccesssfully:c})},F=n(9410),S=function(e){var t=e.userId,n=e.myId,o=e.status,i=e.putStatusThunkCreator,r=(0,a.useState)(!1),l=(0,j.Z)(r,2),s=l[0],u=l[1],c=(0,a.useState)(""),d=(0,j.Z)(c,2),f=d[0],h=d[1],x=function(){u(!1),i(f)};return(0,m.jsxs)(F.Z,{className:"my-3",onClick:function(){t===n&&(u(!0),h(o))},children:[(0,m.jsx)(F.Z.Text,{id:"basic-addon1",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",(0,m.jsx)(v.Z.Control,{value:s?f:o,title:s?"\u041a\u043b\u0438\u043a/\u0441\u043c\u0435\u043d\u0430 \u0444\u043e\u043a\u0443\u0441\u0430/enter - \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f":"\u041a\u043b\u0438\u043a \u0434\u043b\u044f - \u043f\u0440\u0430\u0432\u043a\u0438",onChange:function(e){var t=e.currentTarget.value;h(t)},autoFocus:!0,onBlur:x,placeholder:s?"\u0437\u0430\u0434\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441":"\u043d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430",onKeyPress:function(e){13===e.charCode&&x()},disabled:!s})]})},N=function(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.auth.myId})),n=(0,i.v9)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.userId})),o=(0,i.v9)((function(e){return e.profilePage.status}));return(0,m.jsx)("div",{children:(0,m.jsx)(S,{myId:t,userId:n,status:o,putStatusThunkCreator:function(t){e((0,r.FY)(t))}})})},L="MyPosts_posts__v8PmM",A="MyPosts_legendStyle__kuSLI",w="MyPosts_item__No0HI",J=function(e){var t=e.message,n=e.like;return(0,m.jsxs)("div",{className:w,children:[(0,m.jsx)("img",{alt:"\u041c\u0438\u0441\u0442\u0435\u0440 \u0431\u0438\u043d \u043d\u0430 \u043f\u0440\u043e\u0433\u0443\u043b\u043a\u0435",src:"https://i.pinimg.com/originals/03/b6/fe/03b6fe528accfd011629f5271e90e9ac.jpg"}),t,(0,m.jsx)("div",{children:(0,m.jsxs)("span",{children:["Like ",n]})})]})},H=n(7022),T=function(e){var t=e.addPost,n=(0,a.useState)(""),o=(0,j.Z)(n,2),i=o[0],r=o[1];return(0,m.jsx)("div",{children:(0,m.jsxs)(F.Z,{children:[(0,m.jsx)(v.Z.Control,{value:i,onChange:function(e){return r(e.target.value)},placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",onKeyPress:function(e){13===e.charCode&&(i&&t(i),r(""))}}),(0,m.jsxs)(E.Z,{disabled:!i,onClick:function(){i&&t(i),r("")},children:[" ","Submit"]}),(0,m.jsx)(E.Z,{disabled:!i,variant:"warning",type:"button",onClick:function(){return r("")},children:"Reset"})]})})},V=function(e){var t=e.posts,n=e.addPost;return(0,m.jsxs)(H.Z,{children:[(0,m.jsx)("div",{className:A,children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"}),(0,m.jsx)(T,{addPost:n}),(0,m.jsxs)("div",{className:L,children:[t.map((function(e,t){return(0,m.jsx)(J,{message:e.message,like:e.like},t)}))," "]})]})},W=r.ef.addPostActionCreator,O=function(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.profilePage.posts}));return(0,m.jsx)(V,{posts:t,addPost:function(t){e(W(t))}})},D=n(9743),R=n(2677),K=(0,o.qC)(l.Z,s.Z)((function(e){var t=e.userId,n=(0,i.I0)(),o=(0,i.v9)((function(e){return e.profilePage.profile}));(0,a.useEffect)((function(){t!==(null===o||void 0===o?void 0:o.userId)&&n((0,r.aI)(t))}),[t,n]);var l=0===t,s=(0,a.useMemo)((function(){return(0,m.jsx)(O,{})}),[]),u=(0,a.useMemo)((function(){return(0,m.jsx)(p,{})}),[]),c=(0,a.useMemo)((function(){return(0,m.jsx)(I,{})}),[]),d=(0,a.useMemo)((function(){return(0,m.jsx)(N,{})}),[]);return(0,m.jsx)("div",{children:(t===(null===o||void 0===o?void 0:o.userId)||0===t)&&(0,m.jsxs)("div",{children:[(0,m.jsxs)(D.Z,{children:[(0,m.jsxs)(R.Z,{lg:6,md:6,sm:12,children:[u," "]}),(0,m.jsxs)(R.Z,{lg:6,md:6,sm:12,children:[c," "]})]}),d,l&&s," "]})})}))},3990:function(e,t,n){var o=n(1413),i=(n(2791),n(8687)),r=n(7689),l=n(184),s=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){return(0,i.$j)(s,null)((function(t){return t.isAuth?(0,l.jsx)(e,(0,o.Z)({},t)):(0,l.jsx)(r.Fg,{to:"../login"})}))}},1852:function(e,t,n){var o=n(1413),i=(n(2791),n(7689)),r=n(8687),l=n(184);t.Z=function(e){return(0,r.$j)(null,null)((function(t){var n={params:(0,i.UO)()},r=Number(n.params["*"]);return(0,l.jsx)(e,(0,o.Z)((0,o.Z)({},t),{},{userId:r}))}))}},9743:function(e,t,n){var o=n(1413),i=n(5987),r=n(1694),l=n.n(r),s=n(2791),a=n(162),u=n(184),c=["bsPrefix","className","as"],d=s.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,s=e.as,d=void 0===s?"div":s,f=(0,i.Z)(e,c),v=(0,a.vE)(n,"row"),m=(0,a.pi)(),h=(0,a.zG)(),x="".concat(v,"-cols"),p=[];return m.forEach((function(e){var t,n=f[e];delete f[e],t=null!=n&&"object"===typeof n?n.cols:n;var o=e!==h?"-".concat(e):"";null!=t&&p.push("".concat(x).concat(o,"-").concat(t))})),(0,u.jsx)(d,(0,o.Z)((0,o.Z)({ref:t},f),{},{className:l().apply(void 0,[r,v].concat(p))}))}));d.displayName="Row",t.Z=d},9603:function(e,t){t.Z={pageHeader:"common_pageHeader__q6GZ3",center:"common_center__il3qC",textMaxWidthCommon:"common_textMaxWidthCommon__Sc3Hi",textMaxWidthShort:"common_textMaxWidthShort__X1+BN",textMaxWidth18rem:"common_textMaxWidth18rem__Vv4xN",minwidth:"common_minwidth__MMj4g",cursorPointer:"common_cursorPointer__nfAEV",toCenter:"common_toCenter__rOaC2"}}}]);
//# sourceMappingURL=888.29dcce25.chunk.js.map