{"version":3,"file":"static/js/378.f78fbb90.chunk.js","mappings":"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","sources":["components/Chat/AddMessages/AddMessagesFormikBS.tsx","webpack://my-app/./src/components/Chat/chat.module.css?e1b9","components/Chat/Chat.tsx","assets/images/swg/dialog-black.svg","assets/images/swg/dialog-light.svg","components/Chat/ChatBookmark.tsx","components/Chat/ChatContainer.tsx","components/hoc/NavigateToLoginHoc2.jsx","../node_modules/react-bootstrap/esm/createUtilityClasses.js","../node_modules/react-bootstrap/esm/Stack.js"],"sourcesContent":["import React from \"react\";\nimport {Formik, Form, FormikHelpers} from \"formik\"; //формик с компонентами и пользовательским хуком\nimport * as Yup from 'yup' // валидация форм с помошью сторонней библиотеки Yup\n//import DisplayFormikState from \"../../../../common/formikCommon/DisplayFormikState\"\nimport {MyTextInput} from \"../../common/formikCommon/MyFieldsBS\"\nimport Button from \"react-bootstrap/Button\";\nimport Stack from \"react-bootstrap/Stack\";\n\nconst myInitialValues = { // начальные зачения форм\n    newMessage: \"\",\n}\nconst myValidationSchema = Yup.object({ // валидация форм на required, длину и заполнение полей\n})\n\ntype MyPostsFormikType = {\n    sendMessage: (newMessage:string) => void,\n    isDisabled: boolean\n\n}\ntype ValuesType = {\n    newMessage: string\n}\nconst AddMessagesFormik:React.FC<MyPostsFormikType> = ({sendMessage, isDisabled}) => { // основная компонента с входным колбэком, чтобы забрать данные с форм\n    const myOnSubmit = (values:ValuesType, {resetForm}:FormikHelpers<{ newMessage: string; }>) => { // действия по сабмиту\n        sendMessage(values.newMessage) // колбек, который принмает результат ввода формы\n        resetForm()// сбросить значение формы после ввода\n    }\n\n    return (\n        <>\n            <Formik\n                initialValues={myInitialValues}\n                validationSchema={myValidationSchema}\n                onSubmit={myOnSubmit}\n            >\n\n                {() => (\n                    <Form>\n                        <div>\n                            <MyTextInput // сообщение в MyPostsBS\n                                label=\"Новое сообщение\"\n                                autoFocus={false}\n                                name='newMessage'\n                                type='text'\n                                placeholder='Введите ваше сообщение'\n                                leftLabelLength={\"\"}\n                                isDisabled = {false}\n                            />\n\n\n                            {/*кнопка сброса к значениям по умолчанию*/}\n                            <Stack direction=\"vertical\" gap={1} className={'mt-2'}>\n                                <Button type=\"submit\"> {/*кнопка отправить форму*/}\n                                    Submit\n                                </Button>\n                            </Stack>\n\n                        </div>\n                        <div/>\n                        {/*  <DisplayFormikState/> {/*отображение всего стейта формика*/}\n                    </Form>\n\n                )}\n\n            </Formik>\n        </>\n    )\n}\n\nexport default AddMessagesFormik\n","// extracted by mini-css-extract-plugin\nexport default {\"chatBookmarkExtCommon\":\"chat_chatBookmarkExtCommon__uXZD1\",\"chatBookmarkExt\":\"chat_chatBookmarkExt__Lsg1w\",\"hideChatBookmarkExt\":\"chat_hideChatBookmarkExt__KUute\",\"chatBookmark\":\"chat_chatBookmark__H4JDn\",\"imgDialog\":\"chat_imgDialog__qsty6\",\"bookmarkText\":\"chat_bookmarkText__NKWAB\",\"ChatCommon\":\"chat_ChatCommon__XiwNc\",\"MakeChatVisible\":\"chat_MakeChatVisible__Cf2Xj\",\"MakeChatInvisible\":\"chat_MakeChatInvisible__cZ24Q\"};","import React, {useEffect, useRef, useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {GlobalStateType} from \"../../redux/store-redux\";\nimport {ChannelStatusType, ChatMessagesType} from \"../api/chat-api\";\nimport {chatActions, sendMessageThCr, startMessagesListening, stopMessagesListening} from \"../../redux/chat-reducer\";\nimport AddMessagesFormik from \"./AddMessages/AddMessagesFormikBS\";\nimport classes from \"./chat.module.css\";\nimport CloseButton from 'react-bootstrap/CloseButton';\n\nconst Messages: React.FC = () => { // отрисовка всех сообщений\n    const [shouldScroll, setShouldScroll] = useState<boolean>( false ) // маркер следует ли прокрутить контент вниз\n    const [firstScrolled, setFirstScrolled] = useState<boolean>( false ) // маркер разовой прокрутки вниз в начале\n    const messages: Array<ChatMessagesType> = useSelector( (state: GlobalStateType) => state.chat.messages ) // получить сообщения из стейта\n\n    const container = useRef<HTMLDivElement>( null )\n\n    useEffect( () => {\n        const {\n            scrollHeight, // высота всего контента с учетом прокрутки\n            offsetHeight,// высота видимого содержимого без прокрутки\n            scrollTop// высота, насколько прокручен контент\n        } =\n            container.current as HTMLDivElement\n        if (scrollHeight <= scrollTop + offsetHeight + 300) {\n            setShouldScroll( true )\n        }\n\n        if (!firstScrolled && messages.length > 0) {\n            setShouldScroll( true )\n            setFirstScrolled( true )\n        }\n\n    }, [messages] )\n\n    const scrollFn = () => {\n        const {\n            scrollHeight, // высота всего контента с учетом прокрутки\n        } =\n            container.current as HTMLDivElement\n\n        //container.current?.scrollTo( 0, scrollHeight )\n        container.current?.scrollTo( {top: scrollHeight, behavior: 'smooth'} )\n        setShouldScroll( false ) //\n        //console.log('прокрутили, меняем маркет - прокручивать больше не нужно')\n    }\n\n    useEffect( () => { // прокручиваем список сообщений\n        shouldScroll === true && scrollFn() // если маркер shouldScroll стоит в  true\n    }, [shouldScroll] )\n\n    return <div\n        ref={container}\n        style={{height: \"20rem\", overflowY: \"auto\"}}\n    >\n        {messages.map( (message: ChatMessagesType, index: number) => { // пробегаем по списку сообщений из стейта\n            return <Message key={index} message={message}/> // отрисовываем сообщения поэлементно\n        } )}\n    </div>\n}\n\nconst Message: React.FC<{ message: ChatMessagesType }> = ({message}) => { // отрисовка одного сообщения (фото, тела и имени пользователя)\n    return <div>\n        <div>\n            <img src={message.photo} alt=\"avatar\" style={{height: \"30px\"}}/>\n            <b>{message.userName}</b>{\" \"}{message.message}\n            <hr/>\n        </div>\n    </div>\n}\n\nconst AddMessages: React.FC = () => {\n    const channelStatus: ChannelStatusType = useSelector( (state: GlobalStateType) => state.chat.channelStatus ) // получить статус открытия канала\n\n    const dispatch = useDispatch()\n\n    const sendMessage = (message: string) => { // колбек отправеки сообщений\n        message && dispatch( sendMessageThCr( message ) ) // отправить сообщение\n    }\n\n    const isDisabled = channelStatus !== \"ready\"\n    return <AddMessagesFormik sendMessage={sendMessage} isDisabled={isDisabled}/>\n}\ntype ChatType = {\n    showChatBookmark: boolean // флаг отображения закладки чата на странице\n    setShowChatBookmark: (showChatBookmark: boolean) => void // функция смены флага отображения закладки чата на странице\n}\n\nconst Chat: React.FC<ChatType> = ({showChatBookmark, setShowChatBookmark}) => {\n    console.log( \"Chat\" )\n    const {switchRenderChat, setChatInitialState} = chatActions // экшн смены флага отрисовки чата\n\n    const renderChat = useSelector( (state: GlobalStateType) => state.chat.renderChat ) // флаг отрисовки чата\n\n    const [isChatVisible, setIsChatVisible] = useState<boolean>( false ) // флаг и колбек видимости чата на странице (либо за ее пределами)\n\n    const dispatch = useDispatch()\n\n    const makeChatInvisible = () => {\n        console.log( \"makeChatInvisible\" )\n        setIsChatVisible( false )\n        setTimeout( () => {\n            console.log( \"renderChat => false\" )\n            dispatch( switchRenderChat() )\n        }, 1000 )\n    }\n\n    useEffect( () => {\n        dispatch( startMessagesListening() )// открытие канала WS, создание подписок и слушателей событий\n        return () => {\n            dispatch( stopMessagesListening() ) // закрытие канала WS, удаление подписок и слушателей событий\n            dispatch( setChatInitialState() ) // зануление стейта чата при размонтировании компоненты\n        }\n    }, [] )\n\n    useEffect( () => {\n        console.log( \"Chat rendered, invisible\" )\n\n        const id = setTimeout( () => {\n            if (!renderChat) {\n                setIsChatVisible( true )\n                console.log( \"Chat rendered, visible\" )\n            }\n            return () => {\n                clearTimeout( id )\n            }\n        }, 2000 )\n\n    }, [renderChat] )\n    return <div>\n        {renderChat && <div\n            className={`${classes.ChatCommon} ${isChatVisible ? classes.MakeChatVisible : classes.MakeChatInvisible}`}\n        >\n            <CloseButton onClick={makeChatInvisible}/>\n            <Messages/> {/*отрисовка сообщений*/}\n            <AddMessages/> {/*ввод сообщений и кнопка отправки*/}\n        </div>}\n    </div>\n}\nexport default Chat\n","var _g, _g2, _g3;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgDialogBlack(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    height: \"64px\",\n    width: \"64px\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 511 511\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    enableBackground: \"new 0 0 511 511\",\n    stroke: \"#000000\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_bgCarrier\",\n    strokeWidth: 0\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_tracerCarrier\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_iconCarrier\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m287,255.5v-112c0-21.78-17.72-39.5-39.5-39.5h-208c-21.78,0-39.5,17.72-39.5,39.5v112c0,21.78 17.72,39.5 39.5,39.5h112.5v32.5c0,3.033 1.827,5.769 4.63,6.929 0.928,0.384 1.902,0.571 2.869,0.571 1.952,0 3.87-0.762 5.305-2.197l37.802-37.803h44.894c21.78,0 39.5-17.72 39.5-39.5zm-87.5,24.5c-1.989,0-3.897,0.79-5.303,2.197l-27.197,27.197v-21.894c0-4.142-3.358-7.5-7.5-7.5h-120c-13.509,0-24.5-10.991-24.5-24.5v-112c0-13.509 10.991-24.5 24.5-24.5h208c13.509,0 24.5,10.991 24.5,24.5v112c0,13.509-10.991,24.5-24.5,24.5h-48z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m47.5,159h24c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m239.5,144h-136c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h136c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m239.5,176h-192c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h192c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m239.5,208h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h24c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m47.5,223h136c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-136c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m239.5,240h-192c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h192c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m311.5,231h24c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m463.5,231c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-96c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h96z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m311.5,263h152c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-152c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m463.5,280h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h24c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m311.5,295h96c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-96c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m463.5,312h-200c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h200c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m471.5,176h-160c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h160c13.509,0 24.5,10.991 24.5,24.5v112c0,13.509-10.991,24.5-24.5,24.5h-120c-4.142,0-7.5,3.358-7.5,7.5v21.894l-27.197-27.197c-1.406-1.407-3.314-2.197-5.303-2.197h-48c-13.509,0-24.5-10.991-24.5-24.5v-8c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v8c0,21.78 17.72,39.5 39.5,39.5h44.894l37.803,37.803c1.435,1.435 3.353,2.197 5.305,2.197 0.966,0 1.941-0.187 2.869-0.571 2.803-1.161 4.63-3.896 4.63-6.929v-32.5h112.5c21.78,0 39.5-17.72 39.5-39.5v-112c-0.001-21.78-17.721-39.5-39.501-39.5z\"\n  })))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDialogBlack);\nexport default __webpack_public_path__ + \"static/media/dialog-black.58ab178e86bc68d0b3914e5972d809b0.svg\";\nexport { ForwardRef as ReactComponent };","var _g, _g2, _g3;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgDialogLight(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#ffffff\",\n    height: \"64px\",\n    width: \"64px\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 511 511\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    enableBackground: \"new 0 0 511 511\",\n    stroke: \"#ffffff\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_bgCarrier\",\n    strokeWidth: 0\n  })), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_tracerCarrier\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"SVGRepo_iconCarrier\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m287,255.5v-112c0-21.78-17.72-39.5-39.5-39.5h-208c-21.78,0-39.5,17.72-39.5,39.5v112c0,21.78 17.72,39.5 39.5,39.5h112.5v32.5c0,3.033 1.827,5.769 4.63,6.929 0.928,0.384 1.902,0.571 2.869,0.571 1.952,0 3.87-0.762 5.305-2.197l37.802-37.803h44.894c21.78,0 39.5-17.72 39.5-39.5zm-87.5,24.5c-1.989,0-3.897,0.79-5.303,2.197l-27.197,27.197v-21.894c0-4.142-3.358-7.5-7.5-7.5h-120c-13.509,0-24.5-10.991-24.5-24.5v-112c0-13.509 10.991-24.5 24.5-24.5h208c13.509,0 24.5,10.991 24.5,24.5v112c0,13.509-10.991,24.5-24.5,24.5h-48z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m47.5,159h24c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m239.5,144h-136c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h136c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m239.5,176h-192c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h192c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m239.5,208h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h24c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m47.5,223h136c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-136c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m239.5,240h-192c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h192c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m311.5,231h24c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m463.5,231c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-96c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h96z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m311.5,263h152c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-152c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m463.5,280h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h24c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m311.5,295h96c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-96c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m463.5,312h-200c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h200c4.142,0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m471.5,176h-160c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5 7.5,7.5h160c13.509,0 24.5,10.991 24.5,24.5v112c0,13.509-10.991,24.5-24.5,24.5h-120c-4.142,0-7.5,3.358-7.5,7.5v21.894l-27.197-27.197c-1.406-1.407-3.314-2.197-5.303-2.197h-48c-13.509,0-24.5-10.991-24.5-24.5v-8c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v8c0,21.78 17.72,39.5 39.5,39.5h44.894l37.803,37.803c1.435,1.435 3.353,2.197 5.305,2.197 0.966,0 1.941-0.187 2.869-0.571 2.803-1.161 4.63-3.896 4.63-6.929v-32.5h112.5c21.78,0 39.5-17.72 39.5-39.5v-112c-0.001-21.78-17.721-39.5-39.501-39.5z\"\n  })))));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDialogLight);\nexport default __webpack_public_path__ + \"static/media/dialog-light.41903a6d132ae6aee8e10dd798d9b5e0.svg\";\nexport { ForwardRef as ReactComponent };","import React, {useState} from \"react\";\nimport classes from \"./chat.module.css\"\nimport dialogBlack from \"../../assets/images/swg/dialog-black.svg\"\nimport dialogLight from \"../../assets/images/swg/dialog-light.svg\"\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {GlobalStateType} from \"../../redux/store-redux\";\nimport {chatActions} from \"../../redux/chat-reducer\";\n\nconst ChatBookmark:React.FC = () => {\n    console.log(\"ChatBookmark\")\n\n    const dispatch = useDispatch()\n\n    const {switchRenderChat} = chatActions // экшн смены флага отрисовки чата\n\n    const renderChat = useSelector((state:GlobalStateType) => state.chat.renderChat) // флаг отрисовки чата\n\n    const theme = useSelector((state:GlobalStateType) => state.theme.themeBLL) // тема\n    return <div>\n        <div\n            className={`${classes.chatBookmarkExtCommon} ${renderChat?classes.hideChatBookmarkExt:classes.chatBookmarkExt}`}\n            onClick={()=>dispatch( switchRenderChat() )}\n        >\n            <div className={classes.chatBookmark}>\n                <div className={classes.bookmarkText}>Общий чат</div>\n\n            </div>\n            <img src={theme === \"light\" ? dialogBlack : dialogLight} alt={\"Задать вопрос\"}\n                 title={\"Задать вопрос\"} className={classes.imgDialog}/>\n        </div>\n    </div>\n}\nexport default ChatBookmark\n","import React, {useMemo, useState} from \"react\";\nimport Chat from \"./Chat\";\nimport {compose} from \"redux\";\nimport NavigateToLoginHoc2 from \"../hoc/NavigateToLoginHoc2\";\nimport ChatBookmark from \"./ChatBookmark\";\n\nconst ChatContainer:React.FC = () => {\n    const [showChatBookmark, setShowChatBookmark] = useState<boolean>(true)\n\n    return <div>\n        <ChatBookmark/>  {/*вкладка вызова чата*/}\n\n        {useMemo(()=><Chat showChatBookmark={showChatBookmark} setShowChatBookmark={setShowChatBookmark}/>,[])}\n    </div>\n}\nexport default compose<React.ComponentType>(\n    NavigateToLoginHoc2// проверка, залогинен ли я\n)( ChatContainer )\n","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {Navigate} from \"react-router-dom\";\n\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuth: state.auth.isAuth, // текущий флаг авторизации\n    }\n}\n\nconst NavigateToLoginHoc2 = (Component) => {\n    const NavigateToLoginHocWithAuth2 = (props) => {\n        if (!props.isAuth) {\n            return <Navigate to='../login'/>;\n        }\n        return <Component {...props}/>;\n    }\n\n    return connect(mapStateToProps, null)(NavigateToLoginHocWithAuth2);\n}\n\nexport default NavigateToLoginHoc2\n","import PropTypes from 'prop-types';\nimport { DEFAULT_BREAKPOINTS, DEFAULT_MIN_BREAKPOINT } from './ThemeProvider';\nexport function responsivePropType(propType) {\n  return PropTypes.oneOfType([propType, PropTypes.shape({\n    xs: propType,\n    sm: propType,\n    md: propType,\n    lg: propType,\n    xl: propType,\n    xxl: propType\n  })]);\n}\nexport default function createUtilityClassName(utilityValues, breakpoints = DEFAULT_BREAKPOINTS, minBreakpoint = DEFAULT_MIN_BREAKPOINT) {\n  const classes = [];\n  Object.entries(utilityValues).forEach(([utilName, utilValue]) => {\n    if (utilValue != null) {\n      if (typeof utilValue === 'object') {\n        breakpoints.forEach(brkPoint => {\n          const bpValue = utilValue[brkPoint];\n          if (bpValue != null) {\n            const infix = brkPoint !== minBreakpoint ? `-${brkPoint}` : '';\n            classes.push(`${utilName}${infix}-${bpValue}`);\n          }\n        });\n      } else {\n        classes.push(`${utilName}-${utilValue}`);\n      }\n    }\n  });\n  return classes;\n}","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix, useBootstrapBreakpoints, useBootstrapMinBreakpoint } from './ThemeProvider';\nimport createUtilityClassName, { responsivePropType } from './createUtilityClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst Stack = /*#__PURE__*/React.forwardRef(({\n  as: Component = 'div',\n  bsPrefix,\n  className,\n  direction,\n  gap,\n  ...props\n}, ref) => {\n  bsPrefix = useBootstrapPrefix(bsPrefix, direction === 'horizontal' ? 'hstack' : 'vstack');\n  const breakpoints = useBootstrapBreakpoints();\n  const minBreakpoint = useBootstrapMinBreakpoint();\n  return /*#__PURE__*/_jsx(Component, {\n    ...props,\n    ref: ref,\n    className: classNames(className, bsPrefix, ...createUtilityClassName({\n      gap\n    }, breakpoints, minBreakpoint))\n  });\n});\nStack.displayName = 'Stack';\nexport default Stack;"],"names":["myInitialValues","newMessage","myValidationSchema","Yup","_ref","sendMessage","isDisabled","_jsx","_Fragment","children","Formik","initialValues","validationSchema","onSubmit","values","_ref2","resetForm","_jsxs","Form","MyTextInput","label","autoFocus","name","type","placeholder","leftLabelLength","Stack","direction","gap","className","Button","Messages","_useState","useState","_useState2","_slicedToArray","shouldScroll","setShouldScroll","_useState3","_useState4","firstScrolled","setFirstScrolled","messages","useSelector","state","chat","container","useRef","useEffect","current","scrollHeight","offsetHeight","scrollTop","length","_container$current","scrollTo","top","behavior","scrollFn","ref","style","height","overflowY","map","message","index","Message","_ref3","src","photo","alt","userName","AddMessages","channelStatus","dispatch","useDispatch","AddMessagesFormik","sendMessageThCr","_ref4","showChatBookmark","setShowChatBookmark","console","log","switchRenderChat","chatActions","setChatInitialState","renderChat","_useState5","_useState6","isChatVisible","setIsChatVisible","startMessagesListening","stopMessagesListening","id","setTimeout","clearTimeout","concat","classes","CloseButton","onClick","theme","themeBLL","dialogBlack","dialogLight","title","compose","NavigateToLoginHoc2","ChatBookmark","useMemo","Chat","mapStateToProps","isAuth","auth","Component","connect","props","_objectSpread","Navigate","to","createUtilityClassName","utilityValues","breakpoints","arguments","undefined","DEFAULT_BREAKPOINTS","minBreakpoint","DEFAULT_MIN_BREAKPOINT","Object","entries","forEach","utilName","utilValue","brkPoint","bpValue","infix","push","React","_ref$as","as","bsPrefix","_objectWithoutProperties","_excluded","useBootstrapPrefix","useBootstrapBreakpoints","useBootstrapMinBreakpoint","classNames","_toConsumableArray","displayName"],"sourceRoot":""}