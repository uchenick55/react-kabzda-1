{"version":3,"file":"static/js/114.87d110a1.chunk.js","mappings":"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","sources":["components/Rest/Krestiki-Noliki/krestiki-noliki.jsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./krestiki-noliki.css\";\r\nimport commonClasses from \"../../common/CommonClasses/common.module.css\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nconst Square = (props) => {\r\n    // отрисовка квадрата (отдельной клетки)\r\n    return (\r\n        <button\r\n            className=\"square\" // класс кнопки/клетки\r\n            onClick={() => {\r\n                // по клику\r\n                props.handleSquare(props.i); // выполнить функцию из пропсов сверху\r\n            }}\r\n        >\r\n            {props.value} {/* значение внутри клетки X, O или пустота (null)*/}\r\n        </button>\r\n    );\r\n};\r\n\r\nclass Board extends React.Component {\r\n    // все игровое поле из 9 клеток\r\n    renderSquare(i) {\r\n        // обращение к отрисовке отдельной клетки Square\r\n        return (\r\n            <Square // отрисовать Square отдельную клетку\r\n                value={this.props.squares[i]} // значение X, O или пусто (null)\r\n                handleSquare={this.props.handleSquare} // обработчик кликов по кнопке, пришел сверху из пропсов\r\n                i={i} // номер текущей клетки\r\n            />\r\n        );\r\n    }\r\n\r\n    render() {\r\n        let status; // существует переменная status\r\n        const Winner = calculateWinner(this.props.squares); // проверка, появился ли победитель\r\n        if (this.props.history.length < 10) {\r\n            status = this.props.xIsNext ? \"Сейчас ходит: X \" : \"Сейчас ходит: O \";\r\n            // задать статусу кто ходит следующим X или O\r\n        }\r\n        if (Winner) {// определен победитель\r\n            status = \"Победитель: \" + Winner; // вывести победителя\r\n        }\r\n        if (this.props.history.length >= 10 && !Winner) {\r\n            status = \"Ничья\"; // заполнены все клетки и нет победителя\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"status\">{status}</div>\r\n                {/*вывести статус в отрисовке*/}\r\n                <div className=\"board-row\">\r\n                    {this.renderSquare(0)} {/*задание 3 клеток с порядковым номером i*/}\r\n                    {this.renderSquare(1)}\r\n                    {this.renderSquare(2)}\r\n                </div>\r\n                <div className=\"board-row\">\r\n                    {/*перенос строки, задание еще 3 клеток*/}\r\n                    {this.renderSquare(3)}\r\n                    {this.renderSquare(4)}\r\n                    {this.renderSquare(5)}\r\n                </div>\r\n                <div className=\"board-row\">\r\n                    {/*перенос строки, задание еще 3 клеток*/}\r\n                    {this.renderSquare(6)}\r\n                    {this.renderSquare(7)}\r\n                    {this.renderSquare(8)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction calculateWinner(squares) {\r\n    // функция определения победителя (squares - весь текущий массив клеток)\r\n    const lines = [\r\n        [0, 1, 2], // задание комбинаций a, b, c при которых определяется победитель\r\n        [3, 4, 5],\r\n        [6, 7, 8],\r\n        [0, 3, 6],\r\n        [1, 4, 7],\r\n        [2, 5, 8],\r\n        [0, 4, 8],\r\n        [2, 4, 6]\r\n    ];\r\n    for (let n = 0; n < lines.length; n = n + 1) {\r\n        // перебор элементов squares\r\n        const [a, b, c] = lines[n]; // переменным a, b, с присваивают поочередно\r\n        // комбинации возможной победы\r\n        if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n            // если комбинации победы совпадают с текущим расположением на поле\r\n            return squares[a]; // выводится текущий игрок (X или O) как победитель\r\n        }\r\n    }\r\n    return null; // если комбинации победы не совпадают, победитель не определен\r\n}\r\n\r\nclass KrestikiNoliki extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            xIsNext: true, // что вводим X или O (true/false)\r\n            history: [{squaresNew: Array(9).fill(null)}] // массив объектов - истории ходов\r\n        };\r\n    }\r\n\r\n    handleSquare = (i) => {\r\n        // обработчик кликов\r\n        let currentStep = this.state.history.length - 1; // текущий ход в массиве ходов (-1 поскольку счет идет с 0)\r\n        let squaresNew = this.state.history[currentStep].squaresNew.slice(); // делаем копию текущего массива\r\n\r\n        const Winner = calculateWinner(squaresNew); // попытка определения победитея\r\n\r\n        if (squaresNew[i] || Winner) {\r\n            //если текущая кнопка ранее была заполнена, или победитель уже определен\r\n            return; // ничего не делаем\r\n        }\r\n        squaresNew[i] = this.state.xIsNext ? \"X\" : \"O\";\r\n        // заносим в массив текущего хода X или O в зависимости от xIsNext\r\n        this.setState({xIsNext: !this.state.xIsNext});\r\n        // передаем ход следующему игроку\r\n\r\n        const historyNew2 = this.state.history.concat({squaresNew});\r\n        // добавить в локальный массив historyNew2 данные из основного массива history и новый массив squaresNew\r\n\r\n        this.setState({history: historyNew2}); // внести в history обновленный  historyNew2\r\n    };\r\n\r\n    newGame = () => {\r\n        this.setState({\r\n            xIsNext: true,\r\n            history: [{squaresNew: Array(9).fill(null)}]\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n        let currentStep = this.state.history.length - 1; // текущий ход в массиве ходов (-1 поскольку счет идет с 0)\r\n        let squaresNew = this.state.history[currentStep].squaresNew.slice(); // делаем копию текущего массива\r\n        return (\r\n            <div>\r\n                <h2 className={commonClasses.pageHeader}>Крестики нолики</h2>\r\n                <div>\r\n                    <Board\r\n                        squares={squaresNew} // пропсами передаем вглубь текущий массив клеток\r\n                        xIsNext={this.state.xIsNext} // статус кто ходит\r\n                        handleSquare={this.handleSquare} // обработчик кликов\r\n                        history={this.state.history}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <Button className=\"new-game-button\" onClick={this.newGame}>Начать заново</Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default KrestikiNoliki;\r\n\r\n\r\n"],"names":["Square","props","_jsxs","className","onClick","handleSquare","i","children","value","Board","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","_jsx","this","squares","status","Winner","calculateWinner","history","length","xIsNext","renderSquare","React","lines","n","_lines$n","_slicedToArray","a","b","c","_React$Component2","KrestikiNoliki","_super2","_this","call","currentStep","state","squaresNew","slice","setState","historyNew2","concat","newGame","Array","fill","commonClasses","Button"],"sourceRoot":""}