{"version":3,"file":"static/js/114.87d110a1.chunk.js","mappings":"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","sources":["components/Rest/Krestiki-Noliki/krestiki-noliki.jsx"],"sourcesContent":["import React from \"react\";\nimport \"./krestiki-noliki.css\";\nimport commonClasses from \"../../common/CommonClasses/common.module.css\";\nimport Button from \"react-bootstrap/Button\";\n\nconst Square = (props) => {\n    // отрисовка квадрата (отдельной клетки)\n    return (\n        <button\n            className=\"square\" // класс кнопки/клетки\n            onClick={() => {\n                // по клику\n                props.handleSquare(props.i); // выполнить функцию из пропсов сверху\n            }}\n        >\n            {props.value} {/* значение внутри клетки X, O или пустота (null)*/}\n        </button>\n    );\n};\n\nclass Board extends React.Component {\n    // все игровое поле из 9 клеток\n    renderSquare(i) {\n        // обращение к отрисовке отдельной клетки Square\n        return (\n            <Square // отрисовать Square отдельную клетку\n                value={this.props.squares[i]} // значение X, O или пусто (null)\n                handleSquare={this.props.handleSquare} // обработчик кликов по кнопке, пришел сверху из пропсов\n                i={i} // номер текущей клетки\n            />\n        );\n    }\n\n    render() {\n        let status; // существует переменная status\n        const Winner = calculateWinner(this.props.squares); // проверка, появился ли победитель\n        if (this.props.history.length < 10) {\n            status = this.props.xIsNext ? \"Сейчас ходит: X \" : \"Сейчас ходит: O \";\n            // задать статусу кто ходит следующим X или O\n        }\n        if (Winner) {// определен победитель\n            status = \"Победитель: \" + Winner; // вывести победителя\n        }\n        if (this.props.history.length >= 10 && !Winner) {\n            status = \"Ничья\"; // заполнены все клетки и нет победителя\n        }\n        return (\n            <div>\n                <div className=\"status\">{status}</div>\n                {/*вывести статус в отрисовке*/}\n                <div className=\"board-row\">\n                    {this.renderSquare(0)} {/*задание 3 клеток с порядковым номером i*/}\n                    {this.renderSquare(1)}\n                    {this.renderSquare(2)}\n                </div>\n                <div className=\"board-row\">\n                    {/*перенос строки, задание еще 3 клеток*/}\n                    {this.renderSquare(3)}\n                    {this.renderSquare(4)}\n                    {this.renderSquare(5)}\n                </div>\n                <div className=\"board-row\">\n                    {/*перенос строки, задание еще 3 клеток*/}\n                    {this.renderSquare(6)}\n                    {this.renderSquare(7)}\n                    {this.renderSquare(8)}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction calculateWinner(squares) {\n    // функция определения победителя (squares - весь текущий массив клеток)\n    const lines = [\n        [0, 1, 2], // задание комбинаций a, b, c при которых определяется победитель\n        [3, 4, 5],\n        [6, 7, 8],\n        [0, 3, 6],\n        [1, 4, 7],\n        [2, 5, 8],\n        [0, 4, 8],\n        [2, 4, 6]\n    ];\n    for (let n = 0; n < lines.length; n = n + 1) {\n        // перебор элементов squares\n        const [a, b, c] = lines[n]; // переменным a, b, с присваивают поочередно\n        // комбинации возможной победы\n        if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n            // если комбинации победы совпадают с текущим расположением на поле\n            return squares[a]; // выводится текущий игрок (X или O) как победитель\n        }\n    }\n    return null; // если комбинации победы не совпадают, победитель не определен\n}\n\nclass KrestikiNoliki extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            xIsNext: true, // что вводим X или O (true/false)\n            history: [{squaresNew: Array(9).fill(null)}] // массив объектов - истории ходов\n        };\n    }\n\n    handleSquare = (i) => {\n        // обработчик кликов\n        let currentStep = this.state.history.length - 1; // текущий ход в массиве ходов (-1 поскольку счет идет с 0)\n        let squaresNew = this.state.history[currentStep].squaresNew.slice(); // делаем копию текущего массива\n\n        const Winner = calculateWinner(squaresNew); // попытка определения победитея\n\n        if (squaresNew[i] || Winner) {\n            //если текущая кнопка ранее была заполнена, или победитель уже определен\n            return; // ничего не делаем\n        }\n        squaresNew[i] = this.state.xIsNext ? \"X\" : \"O\";\n        // заносим в массив текущего хода X или O в зависимости от xIsNext\n        this.setState({xIsNext: !this.state.xIsNext});\n        // передаем ход следующему игроку\n\n        const historyNew2 = this.state.history.concat({squaresNew});\n        // добавить в локальный массив historyNew2 данные из основного массива history и новый массив squaresNew\n\n        this.setState({history: historyNew2}); // внести в history обновленный  historyNew2\n    };\n\n    newGame = () => {\n        this.setState({\n            xIsNext: true,\n            history: [{squaresNew: Array(9).fill(null)}]\n        });\n\n    }\n\n    render() {\n        let currentStep = this.state.history.length - 1; // текущий ход в массиве ходов (-1 поскольку счет идет с 0)\n        let squaresNew = this.state.history[currentStep].squaresNew.slice(); // делаем копию текущего массива\n        return (\n            <div>\n                <h2 className={commonClasses.pageHeader}>Крестики нолики</h2>\n                <div>\n                    <Board\n                        squares={squaresNew} // пропсами передаем вглубь текущий массив клеток\n                        xIsNext={this.state.xIsNext} // статус кто ходит\n                        handleSquare={this.handleSquare} // обработчик кликов\n                        history={this.state.history}\n                    />\n                </div>\n                <div>\n                    <Button className=\"new-game-button\" onClick={this.newGame}>Начать заново</Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default KrestikiNoliki;\n\n\n"],"names":["Square","props","_jsxs","className","onClick","handleSquare","i","children","value","Board","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","_jsx","this","squares","status","Winner","calculateWinner","history","length","xIsNext","renderSquare","React","lines","n","_lines$n","_slicedToArray","a","b","c","_React$Component2","KrestikiNoliki","_super2","_this","call","currentStep","state","squaresNew","slice","setState","historyNew2","concat","newGame","Array","fill","commonClasses","Button"],"sourceRoot":""}