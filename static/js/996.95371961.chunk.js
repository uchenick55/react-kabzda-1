"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[996],{9996:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var i=n(7781),r=n(8687),o=n(81),l=n(1852),s=n(3990),a=n(2791),u=n(6159),d="photo_profilePhotoIMG__mxxH2",c="photo_FileUploadInt__yz31V",f=n(9603),v=n(2592),m=n(5313),h=n(184),p=function(e){var t=e.photo,n=e.isMyProfile,i=e.onChangeLocal;return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:f.Z.toCenter,children:(0,h.jsx)(v.Z,{fluid:!0,alt:"userPhoto",className:"".concat(d," "),src:t})}),n&&(0,h.jsx)("div",{children:(0,h.jsx)(m.Z.Control,{type:"file",onChange:i,className:c})})]})},x=n(6110),j=function(){var e,t=(0,r.I0)(),n=(0,r.v9)((function(e){return e.profilePage.profile})),i=(0,r.v9)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.userId})),l=(0,r.v9)((function(e){return e.auth.myId})),s=null!==n&&void 0!==n&&null!==(e=n.photos)&&void 0!==e&&e.large?n.photos.large:x,a=i===l;return(0,h.jsx)(p,{photo:s,isMyProfile:a,onChangeLocal:function(e){e.target.files&&t((0,o.Yr)(e.target.files[0]))}})},g=n(9439),P=n(5705),b=n(1724),E={HeaderEditProfileForm:"EditProfile_HeaderEditProfileForm__+ggeL",EditProfile:"EditProfile_EditProfile__KCw4z",EditProfileContactsFields:"EditProfile_EditProfileContactsFields__9QV1r",errorText:"EditProfile_errorText__piK3h"},y=n(6670),I=n(3360),Z=b.Ry({}),k=function(e){var t=e.putProfile,n=e.setEditMode,i=e.profile,r=e.editProfileStatus,o=e.setEditProfileStatus,l={FullName:null===i||void 0===i?void 0:i.fullName,AboutMe:null===i||void 0===i?void 0:i.aboutMe,LookingForAJob:null===i||void 0===i?void 0:i.lookingForAJob,LookingForAJobDescription:null===i||void 0===i?void 0:i.lookingForAJobDescription,contacts:null===i||void 0===i?void 0:i.contacts};return a.createElement(P.J9,{initialValues:l,validationSchema:Z,onSubmit:function(e,n){var i=n.resetForm;t(e),i()}},(function(e){var t=e.handleReset;return a.createElement(P.l0,{className:E.MyPosts},a.createElement("div",{},a.createElement("div",{className:E.HeaderEditProfileForm},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"),a.createElement(y.rZ,{label:"\u0418\u043c\u044f",autoFocus:!1,name:"FullName",type:"text",placeholder:"\u0418\u043c\u044f",leftLabelLength:"5rem"}),a.createElement(y.rZ,{label:"\u041e\u0431\u043e \u043c\u043d\u0435",autoFocus:!1,name:"AboutMe",type:"text",placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",leftLabelLength:"5rem"}),a.createElement(y.$m,{name:"LookingForAJob"},"\u0432 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"),a.createElement(y.rZ,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",autoFocus:!1,name:"LookingForAJobDescription",type:"textarea",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",leftLabelLength:"5rem"}),a.createElement("h4",{},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),a.createElement("div",{className:E.EditProfileContactsFields},(null===i||void 0===i?void 0:i.contacts)&&Object.keys(null===i||void 0===i?void 0:i.contacts).map((function(e){return a.createElement("div",{key:e},a.createElement(y.rZ,{label:e,autoFocus:!1,name:"contacts["+e+"]",type:"text",placeholder:e,leftLabelLength:"5rem"}),a.createElement("div",{},r.map((function(t){return t.toLowerCase().includes(e.toLowerCase())?a.createElement("div",{key:t,className:E.errorText},t):null}))))}))),a.createElement("br"),a.createElement(I.Z,{type:"button",variant:"warning",onClick:function(){t(),o([])}},"\u0421\u0431\u0440\u043e\u0441")," ",a.createElement(I.Z,{type:"submit"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")," ",a.createElement(I.Z,{variant:"secondary",onClick:function(){n(!1),o([])}},"\u041e\u0442\u043c\u0435\u043d\u0430")))}))},_=(n(7632),function(e){var t=e.key1,n=e.Value;return(0,h.jsxs)("div",{children:[(0,h.jsxs)("b",{children:[t,": "]})," ",(0,h.jsx)("span",{title:n,children:n})]})}),C=(0,a.memo)((function(e){var t=e.profile,n=e.setEditMode,i=e.userId,r=e.myId;return(0,h.jsxs)("div",{className:"".concat(f.Z.textMaxWidthCommon," "),children:[" ",(0,h.jsx)("h3",{title:null===t||void 0===t?void 0:t.fullName,children:null===t||void 0===t?void 0:t.fullName}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),": ",(0,h.jsxs)("span",{title:null===t||void 0===t?void 0:t.aboutMe,children:[" ",null===t||void 0===t?void 0:t.aboutMe]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b?"})," ",(0,h.jsx)("span",{title:null!==t&&void 0!==t&&t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442",children:null!==t&&void 0!==t&&t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})," ",(0,h.jsx)("span",{title:null===t||void 0===t?void 0:t.lookingForAJobDescription,children:null===t||void 0===t?void 0:t.lookingForAJobDescription})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"userId:"})," ",(0,h.jsx)("span",{title:null===t||void 0===t?void 0:t.userId.toString(),children:null===t||void 0===t?void 0:t.userId})," "]}),(0,h.jsx)("ul",{children:t&&Object.keys(t.contacts).map((function(e,n){var i=Object.values(t.contacts)[n];return(0,h.jsxs)("li",{children:[(0,h.jsx)(_,{key1:e,Value:i})," "]},e)}))}),i===r&&(0,h.jsx)(I.Z,{onClick:function(){n(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c "})]})})),F="ProfileInfo_editProfileStatus__NQ0VV",S=(0,a.memo)((function(e){var t=e.profile,n=e.myId,i=e.userId,r=e.putProfile,o=e.editProfileStatus,l=e.setEditProfileStatus;console.log("ProfileInfo");var s=(0,a.useState)(!1),u=(0,g.Z)(s,2),d=u[0],c=u[1],v=o.length>0&&"Edited successfully!"===o[0];(0,a.useEffect)((function(){v&&(c(!1),setTimeout((function(){l([])}),2e3))}),[o,v,l]);var m=(0,h.jsx)(C,{profile:t,setEditMode:c,userId:i,myId:n}),p=(0,h.jsx)(k,{putProfile:r,setEditMode:c,profile:t,editProfileStatus:o,setEditProfileStatus:l});return(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:f.Z.pageHeader,children:"Profile"})," ",(0,h.jsxs)("div",{children:[!d&&(0,h.jsxs)("div",{children:[m," ",v&&(0,h.jsxs)("div",{className:F,children:[o[0]," "]})]}),d&&p," "]})]})})),N=function(){var e=o.ef.setEditProfileStatus,t=(0,r.I0)(),n=(0,r.v9)((function(e){return e.profilePage.profile})),i=(0,r.v9)((function(e){return e.auth.myId})),l=(0,r.v9)((function(e){var t,n;return null===(t=e.profilePage)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.userId})),s=(0,r.v9)((function(e){return e.profilePage.editProfileStatus}));return(0,h.jsx)(S,{profile:n,myId:i,userId:l,putProfile:function(e){var n=Object.assign({},{userId:i},e);t((0,o.hv)(n))},editProfileStatus:s,setEditProfileStatus:e})},L=n(9410),M=function(e){var t=e.userId,n=e.myId,i=e.status,r=e.putStatusThunkCreator,o=(0,a.useState)(!1),l=(0,g.Z)(o,2),s=l[0],u=l[1],d=(0,a.useState)(""),c=(0,g.Z)(d,2),f=c[0],v=c[1],p=function(){u(!1),r(f)};return(0,h.jsxs)(L.Z,{className:"my-3",onClick:function(){t===n&&(u(!0),v(i))},children:[(0,h.jsx)(L.Z.Text,{id:"basic-addon1",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",(0,h.jsx)(m.Z.Control,{value:s?f:i,title:s?"\u041a\u043b\u0438\u043a/\u0441\u043c\u0435\u043d\u0430 \u0444\u043e\u043a\u0443\u0441\u0430/enter - \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f":"\u041a\u043b\u0438\u043a \u0434\u043b\u044f - \u043f\u0440\u0430\u0432\u043a\u0438",onChange:function(e){var t=e.currentTarget.value;v(t)},autoFocus:!0,onBlur:p,placeholder:s?"\u0437\u0430\u0434\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441":"\u043d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430",onKeyPress:function(e){13==e.charCode&&p()},disabled:!s})]})},A=function(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.auth.myId})),n=(0,r.v9)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.userId})),i=(0,r.v9)((function(e){return e.profilePage.status}));return(0,h.jsx)("div",{children:(0,h.jsx)(M,{myId:t,userId:n,status:i,putStatusThunkCreator:function(t){e((0,o.FY)(t))}})})},J="MyPosts_posts__v8PmM",T="MyPosts_legendStyle__kuSLI",w="MyPosts_item__No0HI",V=function(e){var t=e.message,n=e.like;return(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)("img",{alt:"\u041c\u0438\u0441\u0442\u0435\u0440 \u0431\u0438\u043d \u043d\u0430 \u043f\u0440\u043e\u0433\u0443\u043b\u043a\u0435",src:"https://i.pinimg.com/originals/03/b6/fe/03b6fe528accfd011629f5271e90e9ac.jpg"}),t,(0,h.jsx)("div",{children:(0,h.jsxs)("span",{children:["Like ",n]})})]})},H=n(7022),D=function(e){var t=e.addPost,n=(0,a.useState)(""),i=(0,g.Z)(n,2),r=i[0],o=i[1];return(0,h.jsx)("div",{children:(0,h.jsxs)(L.Z,{children:[(0,h.jsx)(m.Z.Control,{value:r,onChange:function(e){return o(e.target.value)},placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435..."}),(0,h.jsxs)(I.Z,{disabled:!r,onClick:function(){r&&t(r),o("")},children:[" ","Submit"]}),(0,h.jsx)(I.Z,{disabled:!r,variant:"warning",type:"button",onClick:function(){return o("")},children:"Reset"})]})})},O=function(e){var t=e.posts,n=e.addPost;return(0,h.jsxs)(H.Z,{children:[(0,h.jsx)("div",{className:T,children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"}),(0,h.jsx)(D,{addPost:n}),(0,h.jsxs)("div",{className:J,children:[t.map((function(e,t){return(0,h.jsx)(V,{message:e.message,like:e.like},t)}))," "]})]})},K=o.ef.addPostActionCreator,R=function(){console.log("MyPostsContainer");var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.profilePage.posts}));return(0,h.jsx)(O,{posts:t,addPost:function(t){e(K(t))}})},$=n(9743),z=n(2677),Q=(0,i.qC)(l.Z,s.Z)((function(e){var t=e.userId,n=(0,r.v9)((function(e){return e.app.isFetching})),i=(0,r.I0)();(0,a.useEffect)((function(){i((0,o.aI)(t))}),[t,i]);var l=0===t;return(0,h.jsxs)("div",{children:[n&&(0,h.jsx)(u.Z,{})," ",(0,h.jsxs)($.Z,{children:[(0,h.jsxs)(z.Z,{lg:6,md:6,sm:12,children:[(0,h.jsx)(j,{})," "]}),(0,h.jsxs)(z.Z,{lg:6,md:6,sm:12,children:[(0,h.jsx)(N,{})," "]})]}),(0,h.jsx)(A,{})," ",l&&(0,h.jsx)(R,{})," "]})}))},3990:function(e,t,n){var i=n(1413),r=(n(2791),n(8687)),o=n(7689),l=n(184),s=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){return(0,r.$j)(s,null)((function(t){return t.isAuth?(0,l.jsx)(e,(0,i.Z)({},t)):(0,l.jsx)(o.Fg,{to:"../login"})}))}},1852:function(e,t,n){var i=n(1413),r=(n(2791),n(7689)),o=n(8687),l=n(184);t.Z=function(e){return(0,o.$j)(null,null)((function(t){var n={params:(0,r.UO)()},o=Number(n.params["*"]);return(0,l.jsx)(e,(0,i.Z)((0,i.Z)({},t),{},{userId:o}))}))}}}]);
//# sourceMappingURL=996.95371961.chunk.js.map