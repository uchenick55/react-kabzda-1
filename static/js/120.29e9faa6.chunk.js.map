{"version":3,"file":"static/js/120.29e9faa6.chunk.js","mappings":"oOAKMA,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAsBD,OAtBCA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACFC,MAAQ,CAEJC,KAAM,CAAEC,KAAM,IACdC,MAAO,QACPC,cAAe,SAJX,EAORC,cAAgB,SAACC,GAEb,EAAKC,SAAS,CAAEH,cAAeE,EAAME,cAAcC,OAEtD,IAEDC,cAAgB,WACZ,EAAKH,SAAS,CAAEJ,MAAO,EAAKH,MAAMI,eAErC,IAEDO,QAAU,SAACC,GAEP,MAAM,8CAAN,OAAqDA,EACxD,IA8EA,OA9EA,iEAED,WAAaA,GAAb,uFAEyBC,IAAMC,KAAKH,QAAQC,IAF5C,OAEUG,EAFV,OAGID,KAAKP,SAAS,CAAEN,KAAMc,EAAOd,OAHjC,mGAFC,IAED,+BAMA,WACIa,KAAKE,OAAOF,KAAKd,MAAMG,MAE1B,mCAED,SAAmBc,EAAWC,GAEtBJ,KAAKd,MAAMG,QAAUe,EAAUf,OAE/BW,KAAKE,OAAOF,KAAKd,MAAMG,MAE9B,uBAED,WAAU,IAAD,OACDgB,GAAK,4BACL,kDACA,6BAEI,kBACIV,MAAOK,KAAKd,MAAMI,cAClBgB,SAAU,SAACd,GAEP,EAAKD,cAAcC,EACtB,KAEL,mBACIe,QAAS,SAACC,GAENA,EAAEC,iBACF,EAAKb,eAER,EANL,wBAYJ,wBACKI,KAAKd,MAAMC,KAAKC,OACb,yBACKY,KAAKd,MAAMC,KAAKC,KAAKsB,KAAI,SAEtBC,GAFsB,OAItB,0BACK,KAED,eAAGC,KAAMD,EAAEE,IAAX,UACKF,EAAEG,MACFH,EAAEI,iBALFJ,EAAEK,SAJW,WAkB1C,OAAY,4BACJ,SAAC,IAAD,CACIC,MAAOZ,EACPa,OAAQC,OAAOC,OAAOC,YAAY,IAClCC,qBAAsB,UACtBC,sBAAuB,YACvBC,iBAAkB,kBANlB,MAYf,OApGCvC,CAAawC,EAAAA,WAsGnB,W","sources":["components/News/News.jsx"],"sourcesContent":["//Реализация async и await на классовых кмпонентах\nimport axios from \"axios\"; // библиотека асинхронных запросов\nimport React from \"react\";\nimport ScrollContainer from \"../common/Scroll/ScrollContainer\"; // пишем в любой компоненте с JSX\n\nclass News extends React.Component {\n    state = {\n        // локальный стейт\n        data: { hits: [] }, // пока пустой массив, сюда придут данные с сервера\n        query: \"react\", // поисковый запрос\n        onChangeQuery: \"react\" // временное значение поиска, обновляется через onChange\n    };\n\n    inputOnChange = (event) => {\n        //\n        this.setState({ onChangeQuery: event.currentTarget.value });\n        // задаем временное значение стейта по onChange input\n    };\n\n    buttonOnClick = () => {\n        this.setState({ query: this.state.onChangeQuery }); // реакция на кнопку\n        //задание в поле поиска query значение из временного onChangeQuery\n    };\n\n    callURL = (props) => {\n        // вынесли в отдельнюю функцию получение URL запроса\n        return `https://hn.algolia.com/api/v1/search?query=${props}`;\n    };\n\n    async AsyncF(props) {\n        // асинхронный запрос\n        const result = await axios(this.callURL(props));\n        this.setState({ data: result.data }); // задание с массив hits данных с сервера\n    }\n\n    componentDidMount() {\n        this.AsyncF(this.state.query);\n        // вызов асинхронного запроса по начальному значению поиска query\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        // при ререндере\n        if (this.state.query !== prevState.query) {\n            // если запрос query изменился\n            this.AsyncF(this.state.query); // запрос по новым данным\n        }\n    }\n\n    render() {\n        let hn = <div>\n            <h3>Search by HackerNews</h3>\n            <form>\n                {/* объединяем input и button*/}\n                <input // поле поиска\n                    value={this.state.onChangeQuery} // привязали value к значению из стейта\n                    onChange={(event) => {\n                        // при изменении\n                        this.inputOnChange(event); // задаем временное значение стейта по onChange input\n                    }}\n                />\n                <button // кнопка\n                    onClick={(e) => {\n                        // по клику\n                        e.preventDefault(); // отменяем действие по умолчанию (отправка формы)\n                        this.buttonOnClick();\n                        //задание в поле поиска query значение из временного onChangeQuery\n                    }}\n                >\n                    Search\n                </button>\n            </form>\n\n            <ul>\n                {this.state.data.hits &&\n                    <div>\n                        {this.state.data.hits.map((\n                            //мапим\n                            d\n                        ) => (\n                            <li key={d.objectID}>\n                                {\" \"}\n                                {/* key привязываем к map id*/}\n                                <a href={d.url} >\n                                    {d.title}\n                                    {d.story_title}\n                                </a>\n                                {/* список ссылок с URL*/}\n                            </li>\n                        ))}\n                    </div>\n                }\n            </ul>\n        </div>\n        return (    <div>\n                <ScrollContainer\n                    child={hn}\n                    height={window.screen.availHeight-218}\n                    firstInsideContainer={\"UsersUp\"}\n                    secondInsideContainer={\"UsersDown\"}\n                    containerElement={\"UserContainer\"}\n                /> {/*отрисовка Users в скрол контейнере*/}\n\n\n            </div>\n        );\n    }\n}\nexport default News;\n"],"names":["News","state","data","hits","query","onChangeQuery","inputOnChange","event","setState","currentTarget","value","buttonOnClick","callURL","props","axios","this","result","AsyncF","prevProps","prevState","hn","onChange","onClick","e","preventDefault","map","d","href","url","title","story_title","objectID","child","height","window","screen","availHeight","firstInsideContainer","secondInsideContainer","containerElement","React"],"sourceRoot":""}