"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[702],{6702:function(e,t,r){r.r(t),r.d(t,{default:function(){return K}});var s=r(7781),i=r(8687),n=r(81),o=r(1852),a=r(3990),l=r(2791),c={item:"Profile_item__G-3+o",posts:"Profile_posts__ne6BS",toCenter:"Profile_toCenter__wCKFF",FileUploadInt:"Profile_FileUploadInt__di9LB",posRelative:"Profile_posRelative__iO7VR",editProfileStatus:"Profile_editProfileStatus__274H9",profilePhotoIMG:"Profile_profilePhotoIMG__w2wQ+"},u=r(9439),d=r(6159),f=r(1413),m=(r(7632),r(9410)),p=r(5313),h=r(184),x=(0,l.memo)((function(e){var t=e.status,r=e.userId,s=e.myId,i=e.putStatusThunkCreator,n="SET_MODIFY_STATUS_TRUE",o="SET_MODIFY_STATUS_FALSE",a=(0,l.useReducer)((function(e,r){switch(r.type){case n:return(0,f.Z)((0,f.Z)({},e),{},{modifyStatus2:!0,statusTmpInput2:t});case o:return(0,f.Z)((0,f.Z)({},e),{},{modifyStatus2:!1});case"SET_STATUS_TMP_INPUT":return(0,f.Z)((0,f.Z)({},e),{},{statusTmpInput2:r.text});default:throw new Error}}),{modifyStatus2:!1,statusTmpInput2:""}),c=(0,u.Z)(a,2),d=c[0],x=c[1],v=function(){x({type:o}),i(d.statusTmpInput2)},j=function(e){var t=e.isDisabled,r=e.onClickMethod,s=e.value;return s||(s=""),(0,h.jsxs)(m.Z,{className:"my-3",onClick:r,children:[" ",(0,h.jsx)(m.Z.Text,{id:"basic-addon1",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",(0,h.jsx)(p.Z.Control,{title:s,onClick:r,value:s,onChange:function(e){return function(e){var t=e.target.value;x({type:"SET_STATUS_TMP_INPUT",text:t})}(e)},onBlur:v,autoFocus:!0,placeholder:"\u0437\u0430\u0434\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441",onKeyPress:function(e){return function(e){13===e.charCode&&v()}(e)},disabled:t})]})};return(0,h.jsx)("div",{children:d.modifyStatus2?(0,h.jsx)(j,{isDisabled:!1,onClickMethod:v,value:d.statusTmpInput2}):(0,h.jsx)(j,{isDisabled:!0,onClickMethod:function(){r===s&&x({type:n})},value:t})})})),v=r(6110),j=r(5705),P=r(1724),_={HeaderEditProfileForm:"EditProfile_HeaderEditProfileForm__+ggeL",EditProfile:"EditProfile_EditProfile__KCw4z",EditProfileContactsFields:"EditProfile_EditProfileContactsFields__9QV1r",errorText:"EditProfile_errorText__piK3h"},b=r(6670),g=r(3360),E=P.Ry({}),y=function(e){var t=e.putProfile,r=e.setEditMode,s=e.profile,i=e.editProfileStatus,n=e.setEditProfileStatus,o={FullName:s.fullName,AboutMe:s.aboutMe,LookingForAJob:s.lookingForAJob,LookingForAJobDescription:s.lookingForAJobDescription,contacts:s.contacts};return l.createElement(j.J9,{initialValues:o,validationSchema:E,onSubmit:function(e,r){var s=r.resetForm;t(e),s()}},(function(e){var t=e.handleReset;return l.createElement(j.l0,{className:_.MyPosts},l.createElement("div",{},l.createElement("div",{className:_.HeaderEditProfileForm},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"),l.createElement(b.rZ,{label:"\u0418\u043c\u044f",autoFocus:!1,name:"FullName",type:"text",placeholder:"\u0418\u043c\u044f",leftLabelLength:"5rem"}),l.createElement(b.rZ,{label:"\u041e\u0431\u043e \u043c\u043d\u0435",autoFocus:!1,name:"AboutMe",type:"text",placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",leftLabelLength:"5rem"}),l.createElement(b.$m,{name:"LookingForAJob"},"\u0432 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"),l.createElement(b.rZ,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",autoFocus:!1,name:"LookingForAJobDescription",type:"textarea",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",leftLabelLength:"5rem"}),l.createElement("h4",{},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),l.createElement("div",{className:_.EditProfileContactsFields},Object.keys(s.contacts).map((function(e){return l.createElement("div",{key:e},l.createElement(b.rZ,{label:e,autoFocus:!1,name:"contacts["+e+"]",type:"text",placeholder:e,leftLabelLength:"5rem"}),l.createElement("div",{},i.map((function(t){return t.toLowerCase().includes(e.toLowerCase())?l.createElement("div",{key:t,className:_.errorText},t):null}))))}))),l.createElement("br"),l.createElement(g.Z,{type:"button",variant:"warning",onClick:function(){t(),n([])}},"\u0421\u0431\u0440\u043e\u0441")," ",l.createElement(g.Z,{type:"submit"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")," ",l.createElement(g.Z,{variant:"secondary",onClick:function(){r(!1),n([])}},"\u041e\u0442\u043c\u0435\u043d\u0430")))}))},I=r(9743),S=r(2677),Z=r(7022),k=r(2592),C=r(9603),F=function(e){var t=e.key1,r=e.Value;return(0,h.jsxs)("div",{children:[(0,h.jsxs)("b",{children:[t,": "]})," ",(0,h.jsx)("span",{title:r,children:r})]})},T=(0,l.memo)((function(e){var t=e.profile,r=e.setEditMode,s=e.userId;e.myId;return(0,h.jsxs)("div",{className:"".concat(C.Z.textMaxWidthCommon," ").concat(C.Z.textMaxWidth18rem),children:[(0,h.jsx)("h3",{title:t.fullName,children:t.fullName}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),": ",(0,h.jsxs)("span",{title:t.aboutMe,children:[" ",t.aboutMe]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b?"})," ",(0,h.jsx)("span",{title:t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442",children:t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})," ",(0,h.jsx)("span",{title:t.lookingForAJobDescription,children:t.lookingForAJobDescription})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"userId:"})," ",(0,h.jsx)("span",{title:t.userId.toString(),children:t.userId})," "]}),(0,h.jsx)("ul",{children:t&&Object.keys(t.contacts).map((function(e,r){var s=Object.values(t.contacts)[r];return(0,h.jsxs)("li",{children:[(0,h.jsx)(F,{key1:e,Value:s})," "]},e)}))}),0===s&&(0,h.jsx)(g.Z,{onClick:function(){r(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c "})]})})),N=(0,l.memo)((function(e){var t=e.profile,r=e.myId,s=e.status,i=e.putStatusThunkCreator,n=e.uploadImage,o=e.userId,a=e.putProfile,f=e.editProfileStatus,m=e.setEditProfileStatus;console.log("ProfileInfo");var j=(0,l.useState)(!1),P=(0,u.Z)(j,2),_=P[0],b=P[1],g=f.length>0&&"Edited successfully!"===f[0];if((0,l.useEffect)((function(){g&&(b(!1),setTimeout((function(){m([])}),2e3))}),[f,g,m]),!t)return(0,h.jsx)(d.Z,{});var E=(0,h.jsx)(x,{myId:r,userId:t.userId,status:s,putStatusThunkCreator:i}),F=(0,h.jsx)(T,{profile:t,setEditMode:b,userId:o,myId:r}),N=(0,h.jsx)(y,{putProfile:a,setEditMode:b,profile:t,editProfileStatus:f,setEditProfileStatus:m}),M=0===o&&(0,h.jsx)("div",{className:c.toCenter,children:(0,h.jsx)(p.Z.Control,{type:"file",onChange:function(e){n(e.target.files[0])},className:c.FileUploadInt})}),A=(0,h.jsx)("div",{className:c.toCenter,children:(0,h.jsx)(k.Z,{fluid:!0,alt:"userPhoto",className:"".concat(c.profilePhotoIMG," "),src:t.photos.large?t.photos.large:v})});return(0,h.jsx)("div",{children:(0,h.jsxs)(Z.Z,{fluid:"sm",children:[(0,h.jsx)("h2",{className:C.Z.pageHeader,children:"Profile"})," ",(0,h.jsxs)(I.Z,{children:[(0,h.jsxs)(S.Z,{xs:12,md:5,children:[A," ",M," "]}),(0,h.jsxs)(S.Z,{xs:12,md:7,children:[!_&&(0,h.jsxs)("div",{className:c.posRelative,children:[F," ",g&&(0,h.jsxs)("div",{className:c.editProfileStatus,children:[f[0]," "]})]}),_&&N," ",E," "]})]})]})})})),M="MyPosts_posts__v8PmM",A="MyPosts_postsBlock__Vokae",L="MyPosts_legendStyle__kuSLI",w="Post_item__yvb5C",R=function(e){var t=e.message,r=e.like;return(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)("img",{alt:"\u041c\u0438\u0441\u0442\u0435\u0440 \u0431\u0438\u043d \u043d\u0430 \u043f\u0440\u043e\u0433\u0443\u043b\u043a\u0435",src:"https://i.pinimg.com/originals/03/b6/fe/03b6fe528accfd011629f5271e90e9ac.jpg"}),t,(0,h.jsx)("div",{children:(0,h.jsxs)("span",{children:["Like ",r]})})]})},J="MyPosts_MyPosts__FZcZt",U=r(4266),D={newPost:""},O=P.Ry({}),V=function(e){var t=e.addPost;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(j.J9,{initialValues:D,validationSchema:O,onSubmit:function(e,r){var s=r.resetForm;t(e.newPost),s()},children:function(e){var t=e.handleReset;return(0,h.jsxs)(j.l0,{className:J,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)(b.rZ,{label:"\u041f\u043e\u0441\u0442",autoFocus:!1,name:"newPost",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",leftLabelLength:""}),(0,h.jsxs)(U.Z,{direction:"vertical",gap:1,className:"mt-2",children:[(0,h.jsxs)(g.Z,{type:"submit",children:[" ","Submit"]}),(0,h.jsx)(g.Z,{variant:"warning",type:"button",onClick:t,children:"Reset"})]})]}),(0,h.jsx)("div",{})]})}})})},H=function(e){var t=e.userId,r=e.posts,s=e.addPost,i=r.map((function(e,t){return(0,h.jsx)(R,{message:e.message,like:e.like},t)}));return(0,h.jsx)("div",{className:A,children:(0,h.jsx)(Z.Z,{children:0===t&&(0,h.jsx)("div",{children:(0,h.jsxs)("fieldset",{children:[(0,h.jsx)("legend",{children:(0,h.jsx)("div",{className:L,children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"})}),(0,h.jsx)(V,{addPost:s})," ",(0,h.jsxs)("div",{className:M,children:[i," "]})]})})})})},G=n.ef.addPostActionCreator,z=(0,i.$j)((function(e){return{posts:e.profilePage.posts}}),{addPostActionCreator:G})((function(e){var t=e.posts,r=e.addPostActionCreator,s=e.userId;return(0,h.jsx)(H,{userId:s,posts:t,addPost:function(e){r(e)}})})),B=(0,l.memo)((function(e){var t=e.profile,r=e.status,s=e.myId,i=e.putStatusThunkCreator,n=e.uploadImage,o=e.userId,a=e.putProfile,l=e.editProfileStatus,u=e.setEditProfileStatus,d=(0,h.jsx)("div",{className:c.ProfileRender,children:(0,h.jsx)(N,{profile:t,status:r,myId:s,putStatusThunkCreator:i,uploadImage:n,userId:o,putProfile:a,editProfileStatus:l,setEditProfileStatus:u})});return(0,h.jsxs)("div",{children:[d," ",(0,h.jsx)(z,{userId:o})]})})),K=(0,s.qC)(o.Z,a.Z)((function(e){var t=e.userId,r=(0,i.v9)((function(e){return e.profilePage.profile})),s=(0,i.v9)((function(e){return e.profilePage.editProfileStatus})),o=(0,i.v9)((function(e){return e.app.isFetching})),a=(0,i.v9)((function(e){return e.auth.myId})),c=(0,i.v9)((function(e){return e.profilePage.status})),u=(0,i.I0)(),f=n.ef.setEditProfileStatus;return(0,l.useEffect)((function(){u((0,n.aI)(t))}),[t,u]),(0,h.jsxs)("div",{children:[o&&(0,h.jsx)(d.Z,{}),(0,h.jsx)(B,{status:c,myId:a,userId:t,profile:r,editProfileStatus:s,putProfile:function(e){var t=Object.assign({},{userId:a},e);u((0,n.hv)(t))},uploadImage:function(e){u((0,n.Yr)(e))},putStatusThunkCreator:function(e){u((0,n.FY)(e))},setEditProfileStatus:function(e){u(f(e))}})]})}))},3990:function(e,t,r){var s=r(1413),i=(r(2791),r(8687)),n=r(7689),o=r(184),a=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){return(0,i.$j)(a,null)((function(t){return t.isAuth?(0,o.jsx)(e,(0,s.Z)({},t)):(0,o.jsx)(n.Fg,{to:"../login"})}))}},1852:function(e,t,r){var s=r(1413),i=(r(2791),r(7689)),n=r(8687),o=r(184);t.Z=function(e){return(0,n.$j)(null,null)((function(t){var r={params:(0,i.UO)()},n=Number(r.params["*"]);return(0,o.jsx)(e,(0,s.Z)((0,s.Z)({},t),{},{userId:n}))}))}},4266:function(e,t,r){r.d(t,{Z:function(){return h}});var s=r(3433),i=r(1413),n=r(5987),o=r(1694),a=r.n(o),l=r(2791),c=r(162),u=r(9439);function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Hz,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.cs,s=[];return Object.entries(e).forEach((function(e){var i=(0,u.Z)(e,2),n=i[0],o=i[1];null!=o&&("object"===typeof o?t.forEach((function(e){var t=o[e];if(null!=t){var i=e!==r?"-".concat(e):"";s.push("".concat(n).concat(i,"-").concat(t))}})):s.push("".concat(n,"-").concat(o)))})),s}var f=r(184),m=["as","bsPrefix","className","direction","gap"],p=l.forwardRef((function(e,t){var r=e.as,o=void 0===r?"div":r,l=e.bsPrefix,u=e.className,p=e.direction,h=e.gap,x=(0,n.Z)(e,m);l=(0,c.vE)(l,"horizontal"===p?"hstack":"vstack");var v=(0,c.pi)(),j=(0,c.zG)();return(0,f.jsx)(o,(0,i.Z)((0,i.Z)({},x),{},{ref:t,className:a().apply(void 0,[u,l].concat((0,s.Z)(d({gap:h},v,j))))}))}));p.displayName="Stack";var h=p}}]);
//# sourceMappingURL=702.6a6c615b.chunk.js.map