{"version":3,"file":"static/js/616.30a6c779.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/DialogItem/DialogItem.jsx","webpack://my-app/./src/components/Dialogs/Message/Message.module.css?72d0","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/common/Validation/customFields.jsx","components/common/Validation/validationField.jsx","components/hoc/NavigateToLoginHoc.js","webpack://my-app/./src/components/common/Validation/customFields.module.css?2ef1"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__dM24o\",\"dialogList\":\"Dialogs_dialogList__DRCp9\",\"knopka\":\"Dialogs_knopka__xT3Jx\",\"dialog\":\"Dialogs_dialog__YZmRT\",\"dialogCurrent\":\"Dialogs_dialogCurrent__ICI5E\",\"dialogImg\":\"Dialogs_dialogImg__H5UvS\",\"FieldLeft\":\"Dialogs_FieldLeft__5h4r2\",\"buttonRight\":\"Dialogs_buttonRight__XYfP1\",\"FieldButtonGreed\":\"Dialogs_FieldButtonGreed__pgs7l\",\"dialogContainer\":\"Dialogs_dialogContainer__4-aI+\",\"x\":\"Dialogs_x__6nHnv\"};","import React from 'react';\r\nimport classes from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {bedug_mode} from \"../../../redux/store-redux\";\r\nimport x from \"../../../assets/images/x.png\";\r\n\r\n\r\nconst DialogItem = ({deleteDialog, dialogId, userPhoto, userName, userId, dialogUserID}) => {\r\n    let onMouseOverAction = () => {\r\n\r\n    }\r\n    return <div className={userId===dialogUserID?classes.dialogCurrent:classes.dialog} >\r\n        <NavLink to={'/dialogs/' + userId}> {/*навигация на диалог*/}\r\n            <div className={classes.knopka}>\r\n                <div className={classes.dialogList}>\r\n                    <div>\r\n                        <img src={userPhoto} className={classes.dialogImg}/>\r\n                    </div>\r\n                    {/*фото профиля*/}\r\n                    <div>\r\n                        <div>{userName}</div>\r\n                        <img src={x} className={classes.x} onMouseOver={onMouseOverAction} onClick={()=>{deleteDialog(dialogId, userId )}} title ={\"Удалить из своего диалогЛиста\"}/>\r\n                        <div>{userId}</div>\r\n                    </div>\r\n                </div>\r\n    </div>\r\n        </NavLink>\r\n\r\n    </div>\r\n}\r\n\r\nexport default DialogItem;\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"messageCommon\":\"Message_messageCommon__JBI1k\",\"timeStyle\":\"Message_timeStyle__nW8fG\",\"x\":\"Message_x__9QsEg\",\"messageswrapper\":\"Message_messageswrapper__KRV1p\",\"messageMyId\":\"Message_messageMyId__w6TOo\",\"messageNotMyId\":\"Message_messageNotMyId__wjpf9\"};","import React from 'react';\r\nimport classes from './Message.module.css';\r\nimport {bedug_mode} from \"../../../redux/store-redux\";\r\nimport x from \"../../../assets/images/x.png\";\r\n\r\n\r\nconst Message = ({message, myID, userId, Date, MessageId, deleteMessage}) => {\r\n\r\n    let onMouseOverAction = () => {\r\n\r\n    }\r\n    return <div className={classes.messageswrapper}> {/*разделить сообщения на мои и собеседника поровну (право-лево)*/}\r\n        <div className={myID === userId ? classes.messageMyId : classes.messageNotMyId}> {/*в зависимости от того кто пишет, доп стили к тексту*/}\r\n            <span>{message}</span>\r\n            <img src={x} className={classes.x} onMouseOver={onMouseOverAction} onClick={()=>{deleteMessage(MessageId)}} title = {\"Удалить сообщение у всех\"}/>\r\n            <span className={classes.timeStyle}>{Date.Hour}{\":\"}{Date.Minutes}</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Message;\r\n\r\n","import React, {useEffect} from 'react'; // импорт реакта\r\nimport classes from './Dialogs.module.css';// css обработка\r\nimport DialogItem from \"./DialogItem/DialogItem\";// подкомпонента отрисовки диалогов через map\r\nimport Message from \"./Message/Message\";// подкомпонента отрисовки сообщений через map\r\nimport {Field, reduxForm, reset} from \"redux-form\";\r\nimport {Input, Textarea} from \"../common/Validation/customFields\";\r\nimport {maxLengthCreator, Required} from \"../common/Validation/validationField\";\r\nimport {bedug_mode} from \"../../redux/store-redux\";\r\nimport ScrollContainer from \"../common/Scroll/ScrollContainer\";\r\nimport userPhotoAva from \"../../assets/images/no-image3.png\";\r\n\r\n\r\n\r\nconst newMessageForm = ({handleSubmit}) => {// компонента формы\r\n    return (\r\n        <form onSubmit={handleSubmit} /*привязка сабмита формы к внутренней функции reduxForm - handleSubmit*/>\r\n            <div className={classes.FieldButtonGreed}>\r\n                <div className={classes.FieldLeft}>\r\n                    <Field\r\n                        name={\"newMessageData\"}// имя поля формы и возвращаемого свойства объекта после сабмита формы\r\n                        component={Input}//настраиваемый компонент текстовое поле для вывода ошибок ввода\r\n                        validate={[maxLengthCreator(100)]}//Required убрал\r\n                        placeholder={\"newMessage\"}// текст подсказка при пустом поле\r\n                    />\r\n                </div>\r\n                <div className={classes.buttonRight}>\r\n                    <button type=\"submit\">Submit</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n// оберточная компонента формы, задает имя подстейта \"newMessageForm\"\r\nconst NewMessageReduxForm = reduxForm({form: \"newMessageForm\"})(newMessageForm)\r\n\r\nconst Dialogs = ({deleteDialog, dialogUserID, getDialogList, dialogs2, messages2, dispatch, sendMessage, getDialogLastUpdateTime, myID, deleteMessage}) => { // основная компонента отрисовки диалогов\r\n\r\n    let dialogElements = dialogs2.map((d) => // подкомпонента отрисовки всех диалогов через map\r\n        {\r\n            let userPhoto = d.userPhoto ? d.userPhoto : userPhotoAva; // если аватарки с сервера нет, подставить заглушку\r\n            return <DialogItem userName={d.userName} userId={d.userId}\r\n                               userPhoto={userPhoto} dialogUserID={dialogUserID}\r\n                               deleteDialog={deleteDialog} dialogId={d.dialogId}\r\n            />\r\n        }\r\n    );\r\n\r\n    let messagesElements = messages2.map((m) => // подкомпонента отрисовки всех сообщений через map\r\n        <Message message={m.message} myID={myID} userId={m.userId} Date={m.Date} MessageId={m.id}\r\n                 deleteMessage={deleteMessage}/>);\r\n\r\n    let onSendMessageClick = (formDataNewMessage) => {// функция отправления данных формы нового сообщения в стейт\r\n        dispatch(reset('newMessageForm'))\r\n        sendMessage(formDataNewMessage.newMessageData);\r\n    };\r\n\r\n    useEffect(() => { // при очередном ререндере\r\n        const id = setInterval(() => { // задать цикл с интервалом в 1 сек\r\n            getDialogLastUpdateTime() // получить время обновления текущего диалога\r\n            getDialogList()// получить диалогЛист (мне кто то написал, или я начал диалог)\r\n        }, 1000)\r\n        return (() => {\r\n            clearInterval(id)\r\n        }) // для сброса цикла при очередном рендере\r\n    }, []) // useEffect без зависимостей\r\n\r\n    return (\r\n        <div className={classes.dialogs} /*стиль всех диалогов*/>\r\n            <div className={classes.dialogContainer}>\r\n                <ScrollContainer // обернуть сообщения скролом\r\n                    child={dialogElements}\r\n                    height={window.screen.availHeight - 280} // высота поля скрола\r\n                    firstInsideContainer={\"DialogsUp\"}\r\n                    secondInsideContainer={\"DialogsDown\"}\r\n                    containerElement={\"DialogsContainer123\"}\r\n                /> {/*отрисовка диалогов в скрол контейнере*/}\r\n            </div>\r\n            <div>\r\n                <ScrollContainer // обернуть сообщения скролом\r\n                    child={messagesElements}\r\n                    height={window.screen.availHeight - 280} // высота поля скрола\r\n                    firstInsideContainer={\"MessagesUp\"}\r\n                    secondInsideContainer={\"MessagesDown\"}\r\n                    containerElement={\"MessagesContainer\"}\r\n                /> {/*отрисовка сообщений в скрол контейнере*/}\r\n                <div><NewMessageReduxForm\r\n                    onSubmit={onSendMessageClick}/> {/*вызов формы сообщений с отсылкой на локальный обработчик сабмита*/}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Dialogs;\r\n\r\n","import React from 'react';\r\nimport Dialogs from \"./Dialogs\";\r\nimport {\r\n    deleteDialogThunkCreator,\r\n    deleteMessageThunkCreator,\r\n    getDialogLastUpdateTimeTnkCrt,\r\n    getDialogsThunkCreator, getFollowThunkCreator, getMyDialogListThunkCreator,\r\n    sendDialogsThunkCreator,\r\n    setdialogUserID,\r\n    setMessages, updateDialogListThunkCreator\r\n} from \"../../redux/dialogs-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {NavigateToLoginHoc} from \"../hoc/NavigateToLoginHoc\";\r\nimport {compose} from \"redux\";\r\nimport {bedug_mode} from \"../../redux/store-redux\";\r\nimport {useParams} from \"react-router\";\r\nimport {getProfileThunkCreator} from \"../../redux/profile-reducer\";\r\n\r\nclass DialogsContainer extends React.Component {\r\n    commonPartMountUpdate = () => {// общая часть для componentDidMount и componentDidUpdate\r\n        if (!this.props.userID) { // если перешли на вкладку Dialogs с нулевым userID\r\n            if (this.props.messages2.length>0) { // если массив сообщений непустой\r\n                this.props.setMessages([]); // занулить массив сообщений (очистить список сообщений)\r\n                this.props.setdialogUserID(null) // занулить userID (убрать выделение диалога)\r\n            }\r\n            return\r\n        }\r\n        if ( this.props.dialogUserID!==this.props.userID) { // если считаный из URL userID не равен тому, что в BLL\r\n            this.props.setdialogUserID(this.props.userID) // задать в BLL считаный из URL ID\r\n            //здесь запросить профиль выбранного userId через getProfileThunkCreator\r\n            this.props.getProfileThunkCreator(this.props.userID)// при переходе в диалог любого пользователя считать его данные профиля с сервера\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.getDialogList()\r\n        //      console.log(\"DialogsContainer -> componentDidMount\")\r\n        this.commonPartMountUpdate();// общая часть для componentDidMount и componentDidUpdate\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        //       console.log(\"DialogsContainer -> componentDidUpdate\")\r\n        this.commonPartMountUpdate(); // общая часть для componentDidMount и componentDidUpdate\r\n        if  (this.props.dialogLastUpdateTime!==prevProps.dialogLastUpdateTime) { // если время обновления диалога изменилось\r\n            this.getDialogs()// запросить новые сообщения по диалогу\r\n        }\r\n    }\r\n\r\n    getDialogs = () => {\r\n        const {match, getDialogsThunkCreator} = this.props;// пропсы\r\n        if (this.props.userID === \"\") {return}// при клике просто по вкладке Dialogs\r\n        this.props.getDialogsThunkCreator(this.props.myID, this.props.userID);// получить диалоги\r\n    }\r\n\r\n    getDialogLastUpdateTime = () => {\r\n        if (this.props.userID === \"\") {return}// при клике просто по вкладке Dialogs\r\n        this.props.getDialogLastUpdateTimeTnkCrt(this.props.myID, this.props.userID); // получить время последенего обновления диалога\r\n      //  this.getDialogList()\r\n    }\r\n\r\n    getDialogList = () => {\r\n        this.props.getMyDialogListThunkCreator(this.props.myID)\r\n    }\r\n\r\n    sendMessage = (NewMessage) => { // отправка сообщения\r\n        let profilePage = this.props.profilePage // локальный стейт страницы пользователя\r\n        let userName = 0 // задаем переменную имени пользователя\r\n        let userPhoto = 0 // и его фото для отображения в диалоглисте\r\n        if (profilePage!==null) { // если профиль пользователя уже загружен\r\n            userName = this.props.profilePage.profile.fullName; // переопределить имя пользователя\r\n            userPhoto = this.props.profilePage.profile.photos.small; // и его фото и стейта\r\n        }\r\n\r\n        if (!this.props.userID) { // при клике просто по вкладке Dialogs\r\n            alert(\"Выберите диалог\") // предупреждение если диалог не выбран\r\n            return\r\n        }\r\n\r\n        this.props.sendDialogsThunkCreator( // отправить сообщение\r\n            NewMessage,\r\n            this.props.auth.myID, // мой ID для формирования DialogList собеседника\r\n            this.props.auth.myLogin, // мой логин  для формирования DialogList собеседника\r\n            this.props.auth.myProfile.photos.small, // мое фото  для формирования DialogList собеседника\r\n            this.props.userID, // ID собеседника для формирования моего DialogList\r\n        ); // отправить сообщение\r\n\r\n        this.props.updateDialogListThunkCreator( // обновление диалогЛиста\r\n            this.props.auth.myID, // мой ID\r\n            this.props.userID, // ID с кем веду диалог\r\n            userName, // его имя\r\n            userPhoto // и фото\r\n        )\r\n        //userId1, userId2, Name2, Photo2\r\n    }\r\n\r\n    deleteMessage = (messageID) => { // удалить сообщение по его ID в списке\r\n        this.props.deleteMessageThunkCreator(messageID, this.props.myID, this.props.userID);\r\n    }\r\n\r\n    deleteDialog = (dialogId, userId2) => {\r\n        this.props.deleteDialogThunkCreator(dialogId, this.props.myID, userId2)\r\n    }\r\n\r\n\r\n    render () {\r\n        return <div>\r\n            <Dialogs\r\n                messages2 ={this.props.messages2}// массив сообщений текущего диалога\r\n                dialogs ={this.props.dialogs} // список диалогов\r\n                dialogs2 ={this.props.dialogs2} // список диалогов с LocalStorage\r\n                {...this.props} // все входящие пропсы пробросили дальше\r\n                sendMessage={this.sendMessage} // проброс местного метода отправки сообщений\r\n                getDialogs={this.getDialogs}  // проброс местного метода получить диалоги\r\n                getDialogLastUpdateTime={this.getDialogLastUpdateTime} // проброс метода - получить время обновления текущего диалога\r\n                myID={this.props.myID} // мой ID\r\n                deleteMessage = {this.deleteMessage} // удалить сообщение\r\n                getDialogList={this.getDialogList} // периодическая проверка написал ли кто мне, или я с кем диалог начал\r\n                dialogUserID = {this.props.dialogUserID}\r\n                deleteDialog = {this.deleteDialog}\r\n            />\r\n        </div>\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps  = (dispatch) => {\r\n    return {\r\n\r\n        sendDialogsThunkCreator: (formDataNewMessage, myID, MyName, MyPhoto, userID) => { // отправить сообщение\r\n            dispatch(sendDialogsThunkCreator(formDataNewMessage, myID, MyName, MyPhoto, userID))\r\n        },\r\n        getDialogsThunkCreator: (myID, userID) => { // получить данные по текущему диалогу\r\n            dispatch(getDialogsThunkCreator(myID, userID))\r\n        },\r\n        setdialogUserID: (dialogUserID) => { // задать ID собеседника в BLL\r\n            dispatch(setdialogUserID(dialogUserID))\r\n        },\r\n        setMessages: (updatedMessages) => { // задать сообщения напрямую (для зануления)\r\n            dispatch(setMessages(updatedMessages))\r\n        },\r\n        getDialogLastUpdateTimeTnkCrt: (myID, userID) => { // получить время последнего обновления текущего диалога\r\n            dispatch(getDialogLastUpdateTimeTnkCrt(myID, userID))\r\n        },\r\n        deleteMessageThunkCreator: (messageID, myID, userID) => { // удалить сообщение из диалога\r\n            dispatch(deleteMessageThunkCreator(messageID, myID, userID))\r\n        },\r\n        getProfileThunkCreator: (dialogUserID) => { // удалить сообщение из диалога\r\n            dispatch(getProfileThunkCreator(dialogUserID))\r\n        },\r\n        getFollowThunkCreator: (dialogUserID) => { // удалить сообщение из диалога\r\n            dispatch(getFollowThunkCreator(dialogUserID))\r\n        },\r\n        getMyDialogListThunkCreator: (myID) => { // удалить сообщение из диалога\r\n            dispatch(getMyDialogListThunkCreator(myID))\r\n        },\r\n        updateDialogListThunkCreator: (userId1, userId2, Name2, Photo2) => { // удалить сообщение из диалога\r\n            dispatch(updateDialogListThunkCreator(userId1, userId2, Name2, Photo2))\r\n        },\r\n        deleteDialogThunkCreator: (dialogId, userId1, userId2) => { // удалить сообщение из диалога\r\n            dispatch(deleteDialogThunkCreator(dialogId, userId1, userId2))\r\n        },\r\n        dispatch: dispatch // для зануления redux-form\r\n    }\r\n}\r\n//updateDialogListThunkCreator\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth, // флаг, авторизован ли я сейчас,\r\n        myID: state.auth.myID, // мой ID (авторизованного пользователя)\r\n        dialogUserID: state.dialogsPage.dialogUserID, // ID пользователя, с кем сейчас идет диалог\r\n        messages2: state.dialogsPage.messages2, // массив сообщений текущего диалога\r\n        dialogs: state.dialogsPage.dialogs, // список диалогов\r\n        dialogLastUpdateTime: state.dialogsPage.dialogLastUpdateTime,// время последнего времени обновления текущего диалога\r\n        dialogs2: state.dialogsPage.dialogs2, // список диалогов с LocalStorage\r\n\r\n        profilePage:state.profilePage, // страница профиля пользователя для создания dialogList\r\n        auth: state.auth,// страница моего профиля для создания dialogList\r\n    }\r\n}\r\n\r\nfunction withRouter (Children) { // функция получения данных из URL браузера\r\n    return (props) => {\r\n        let match = {params: useParams()} // получить данные ID из URL браузера\r\n        let userID = Number(match.params[\"*\"]); // получить локальный userId из URL браузера\r\n        return <Children {...props} match = {match} userID={userID}/>// добавить данные в оборачиваемую компоненту\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withRouter, // получить данные ID из URL браузера и добавить в пропсы\r\n    NavigateToLoginHoc // проверка, залогинен ли я\r\n)\r\n(DialogsContainer);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\nimport classes from \"./customFields.module.css\"\nimport {bedug_mode} from \"../../../redux/store-redux\"; // стили красная граница для textarea и красный цвет текста если ошибка\n\nexport const Textarea = ({input, meta, ...restProps}) => {\n    const isError = meta.touched && meta.error; // объединение наличия ошибки в meta и поле уже трогали\n    return (\n        <div>\n            <div >\n                <textarea {...input} // формат задан в redux field validation\n                          placeholder={restProps.placeholder} // проброс пропсов с плейсхолдером\n                          className={isError?classes.textAreaError:classes.textArea}\n                    //границу textarea подсветить красным если ошибка в meta\n                />\n            </div>\n            <div >\n                {isError?<span className={classes.textError}>{meta.error}</span>:null}\n{/*                если ошибка в meta и поле тронули, то отобразить текс ошибки*/}\n            </div>\n        </div>\n    )\n}\nexport const Input = ({input, meta, ...restProps}) => {\n    const isError = meta.touched && meta.error; // объединение наличия ошибки в meta и поле уже трогали\n    return (\n        <span>\n            <span >\n                <input {...input} // формат задан в redux field validation\n                          placeholder={restProps.placeholder} // проброс пропсов с плейсхолдером\n                          className={isError?classes.InputError:classes.Input}\n                    //границу login подсветить красным если ошибка в meta\n                />\n            </span>\n            <div >\n                {isError?<span className={classes.textError}>{meta.error}</span>:null}\n{/*                если ошибка в meta и поле тронули, то отобразить текс ошибки*/}\n            </div>\n        </span>\n    )\n}\n\n\n\n\n\n\n","import React from \"react\";\r\nimport {bedug_mode} from \"../../../redux/store-redux\";\r\n\r\nexport const Required = (value) => {\r\n    if (value) {\r\n        return undefined // возврет нет ошибки, если поле не пустое\r\n    } else {\r\n        return \"Field is required\" // предупреддение, поле требуется\r\n    }\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value)=> {\r\n    // делаем замыкание, передаем максимальную длину поля во внутреннюю функцию проверки макс длины\r\n    if (value && value.length>maxLength) { // если что то ввели и количество символов\r\n        return `MaxLength is ${maxLength}` // возврат ошибки превышено максимальная длина\r\n    } else {\r\n        return undefined // ошибки нет, поле в пределах заданной длины\r\n    }\r\n}\r\n\r\nexport const email = value =>\r\n    value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value) ?\r\n        'Invalid email address' : undefined\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {bedug_mode} from \"../../redux/store-redux\";\r\n\r\nlet mapStateToProps = (state) => { // флаги isAuth - \"я авторизован?\"\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport let NavigateToLoginHoc = (Component) => { // оберточная компонента проверки на Login, оборачивающая целевую компоненту\r\n    class NavigateToLoginHocWithAuth extends React.Component { // внутренняя компонента уже с данными isAuth\r\n        render () {\r\n            if (!this.props.isAuth) { // условие что я не авторизован\r\n                return <Navigate to='../login'/>; // редирект на страницу Login\r\n            }\r\n            return <Component {...this.props}/> /// возврат целевой компоненты, если редиректа не было на Login\r\n        }\r\n    }\r\n    return connect(mapStateToProps)(NavigateToLoginHocWithAuth)// добавляем в стейт флаги isAuth - \"я авторизован?\"\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"textAreaError\":\"customFields_textAreaError__R-r1L\",\"textArea\":\"customFields_textArea__DhXBS\",\"textError\":\"customFields_textError__koMT7\",\"commonError\":\"customFields_commonError__Um+7V\",\"Input\":\"customFields_Input__lhbLD\",\"InputError\":\"customFields_InputError__9Zp9E\"};"],"names":["deleteDialog","dialogId","userPhoto","userName","userId","dialogUserID","className","classes","to","src","x","onMouseOver","onClick","title","message","myID","Date","MessageId","deleteMessage","Hour","Minutes","NewMessageReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","name","component","Input","validate","maxLengthCreator","placeholder","type","getDialogList","dialogs2","messages2","dispatch","sendMessage","getDialogLastUpdateTime","dialogElements","map","d","userPhotoAva","messagesElements","m","id","useEffect","setInterval","clearInterval","ScrollContainer","child","height","window","screen","availHeight","firstInsideContainer","secondInsideContainer","containerElement","formDataNewMessage","reset","newMessageData","DialogsContainer","commonPartMountUpdate","props","userID","setdialogUserID","getProfileThunkCreator","length","setMessages","getDialogs","match","getDialogsThunkCreator","getDialogLastUpdateTimeTnkCrt","getMyDialogListThunkCreator","NewMessage","profilePage","profile","fullName","photos","small","sendDialogsThunkCreator","auth","myLogin","myProfile","updateDialogListThunkCreator","alert","messageID","deleteMessageThunkCreator","userId2","deleteDialogThunkCreator","this","prevProps","prevState","snapshot","dialogLastUpdateTime","dialogs","React","compose","connect","state","isAuth","dialogsPage","MyName","MyPhoto","updatedMessages","getFollowThunkCreator","userId1","Name2","Photo2","Children","params","useParams","Number","NavigateToLoginHoc","Textarea","input","meta","restProps","isError","touched","error","Required","value","maxLength","email","test","undefined","mapStateToProps","Component","NavigateToLoginHocWithAuth"],"sourceRoot":""}