"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[256],{2435:function(e,t,n){n.r(t),n.d(t,{default:function(){return xt}});var r=n(1413),o=n(5671),s=n(3144),a=n(136),i=n(9388),l=n(2791),u="DialogList_dialogList__OAyfE",c="DialogList_knopka__uJ-qW",d="DialogList_dialogItemGreed__D2-cZ",g="DialogList_dialog__T3CKZ",f="DialogList_dialogCurrent__ZenxF",p="DialogList_dialogImg__0wTiE",h="DialogList_x__PwR4a",m="DialogList_BgStyle__2iEaj",v="DialogList_inputFixed__xsJy-",y="DialogList_photoFixed__KaeYd",b="DialogList_userPhoto__0CLsE",_="DialogList_linkNoDecoration__hNHxk",D=n(1087),j=n.p+"static/media/x.bef5ed280aeab3840a3e.png",x=n(2056),I=n(184),k=function(e){var t=e.deleteDialog,n=e.dialogId,r=e.userPhoto,o=e.userName,s=e.userId,a=e.dialogUserID,i=(0,I.jsxs)(D.OL,{to:"/dialogs/"+s,children:[" ",(0,I.jsx)("div",{className:c,children:(0,I.jsxs)("div",{className:u,children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("img",{src:r,alt:"userPhoto",className:p})," "]}),(0,I.jsx)("div",{children:(0,I.jsx)("div",{children:o})})]})})]}),l=(0,I.jsxs)(x.j,{children:[" ",(0,I.jsx)("img",{src:j,alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u0432\u043e\u0435\u0433\u043e \u0434\u0438\u0430\u043b\u043e\u0433\u041b\u0438\u0441\u0442\u0430",className:h,onClick:function(){t(n,s)},title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u0432\u043e\u0435\u0433\u043e \u0434\u0438\u0430\u043b\u043e\u0433\u041b\u0438\u0441\u0442\u0430"})]});return(0,I.jsx)("div",{className:s===a?f:g,children:(0,I.jsxs)("div",{className:d,children:["  ",(0,I.jsxs)("div",{children:[i," "]}),(0,I.jsxs)("div",{children:[l," "]})]})})},C=(n(1083),n(6110)),Z=n(2807),M=n(8687),N=n(7781),T=n(1852),w="Message_messagesCommon__y3ALJ",E="Message_messageMyId__2lyA3",L="Message_messageNotMyId__wlQ5a",P="Message_insideToastMy__uNjRB",A="Message_insideToastNotMy__Z0gRy",O="Message_time__A+UPN",U="Message_closeButton__YmmdJ",B="transitionend",S=function(e){return null===e||void 0===e?"".concat(e):Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()},R=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,o=Number.parseFloat(n),s=Number.parseFloat(r);return o||s?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0},F=function(e){e.dispatchEvent(new Event(B))},Y=function(e){return!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType)},H=function(e){return Y(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(e):null},K=function(){return window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null},q=[],V=function(e){"function"===typeof e&&e()},J=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){var r=5,o=R(t)+r,s=!1,a=function n(r){r.target===t&&(s=!0,t.removeEventListener(B,n),V(e))};t.addEventListener(B,a),setTimeout((function(){s||F(t)}),o)}else V(e)},Q=n(9439),W=n(7762),z=/[^.]*(?=\..*)\.|.*/,$=/\..*/,G=/::\d+$/,X={},ee=1,te={mouseenter:"mouseover",mouseleave:"mouseout"},ne=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function re(e,t){return t&&"".concat(t,"::").concat(ee++)||e.uidEvent||ee++}function oe(e){var t=re(e);return e.uidEvent=t,X[t]=X[t]||{},X[t]}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find((function(e){return e.callable===t&&e.delegationSelector===n}))}function ae(e,t,n){var r="string"===typeof t,o=r?n:t||n,s=ce(e);return ne.has(s)||(s=e),[r,o,s]}function ie(e,t,n,r,o){if("string"===typeof t&&e){var s=ae(t,n,r),a=(0,Q.Z)(s,3),i=a[0],l=a[1],u=a[2];if(t in te){l=function(e){return function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}}(l)}var c=oe(e),d=c[u]||(c[u]={}),g=se(d,l,i?n:null);if(g)g.oneOff=g.oneOff&&o;else{var f=re(l,t.replace(z,"")),p=i?function(e,t,n){return function r(o){for(var s=e.querySelectorAll(t),a=o.target;a&&a!==this;a=a.parentNode){var i,l=(0,W.Z)(s);try{for(l.s();!(i=l.n()).done;)if(i.value===a)return ge(o,{delegateTarget:a}),r.oneOff&&de.off(e,o.type,t,n),n.apply(a,[o])}catch(u){l.e(u)}finally{l.f()}}}}(e,n,l):function(e,t){return function n(r){return ge(r,{delegateTarget:e}),n.oneOff&&de.off(e,r.type,t),t.apply(e,[r])}}(e,l);p.delegationSelector=i?n:null,p.callable=l,p.oneOff=o,p.uidEvent=f,d[f]=p,e.addEventListener(u,p,i)}}}function le(e,t,n,r,o){var s=se(t[n],r,o);s&&(e.removeEventListener(n,s,Boolean(o)),delete t[n][s.uidEvent])}function ue(e,t,n,r){for(var o=t[n]||{},s=0,a=Object.keys(o);s<a.length;s++){var i=a[s];if(i.includes(r)){var l=o[i];le(e,t,n,l.callable,l.delegationSelector)}}}function ce(e){return e=e.replace($,""),te[e]||e}var de={on:function(e,t,n,r){ie(e,t,n,r,!1)},one:function(e,t,n,r){ie(e,t,n,r,!0)},off:function(e,t,n,r){if("string"===typeof t&&e){var o=ae(t,n,r),s=(0,Q.Z)(o,3),a=s[0],i=s[1],l=s[2],u=l!==t,c=oe(e),d=c[l]||{},g=t.startsWith(".");if("undefined"===typeof i){if(g)for(var f=0,p=Object.keys(c);f<p.length;f++){ue(e,c,p[f],t.slice(1))}for(var h=0,m=Object.keys(d);h<m.length;h++){var v=m[h],y=v.replace(G,"");if(!u||t.includes(y)){var b=d[v];le(e,c,l,b.callable,b.delegationSelector)}}}else{if(!Object.keys(d).length)return;le(e,c,l,i,a?n:null)}}},trigger:function(e,t,n){if("string"!==typeof t||!e)return null;var r=K(),o=null,s=!0,a=!0,i=!1;t!==ce(t)&&r&&(o=r.Event(t,n),r(e).trigger(o),s=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),i=o.isDefaultPrevented());var l=new Event(t,{bubbles:s,cancelable:!0});return l=ge(l,n),i&&l.preventDefault(),a&&e.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function ge(e,t){for(var n=function(){var t=(0,Q.Z)(o[r],2),n=t[0],s=t[1];try{e[n]=s}catch(a){Object.defineProperty(e,n,{configurable:!0,get:function(){return s}})}},r=0,o=Object.entries(t||{});r<o.length;r++)n();return e}var fe=de,pe=n(2963),he=n(7326),me=new Map,ve=function(e,t,n){me.has(e)||me.set(e,new Map);var r=me.get(e);r.has(t)||0===r.size?r.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},ye=function(e,t){return me.has(e)&&me.get(e).get(t)||null},be=function(e,t){if(me.has(e)){var n=me.get(e);n.delete(t),0===n.size&&me.delete(e)}};function _e(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!==typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function De(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}var je={setDataAttribute:function(e,t,n){e.setAttribute("data-bs-".concat(De(t)),n)},removeDataAttribute:function(e,t){e.removeAttribute("data-bs-".concat(De(t)))},getDataAttributes:function(e){if(!e)return{};var t,n={},r=Object.keys(e.dataset).filter((function(e){return e.startsWith("bs")&&!e.startsWith("bsConfig")})),o=(0,W.Z)(r);try{for(o.s();!(t=o.n()).done;){var s=t.value,a=s.replace(/^bs/,"");n[a=a.charAt(0).toLowerCase()+a.slice(1,a.length)]=_e(e.dataset[s])}}catch(i){o.e(i)}finally{o.f()}return n},getDataAttribute:function(e,t){return _e(e.getAttribute("data-bs-".concat(De(t))))}},xe=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"_getConfig",value:function(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}},{key:"_configAfterMerge",value:function(e){return e}},{key:"_mergeConfigObj",value:function(e,t){var n=Y(t)?je.getDataAttribute(t,"config"):{};return(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},this.constructor.Default),"object"===typeof n?n:{}),Y(t)?je.getDataAttributes(t):{}),"object"===typeof e?e:{})}},{key:"_typeCheckConfig",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType,n=0,r=Object.keys(t);n<r.length;n++){var o=r[n],s=t[o],a=e[o],i=Y(a)?"element":S(a);if(!new RegExp(s).test(i))throw new TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(o,'" provided type "').concat(i,'" but expected type "').concat(s,'".'))}}}],[{key:"Default",get:function(){return{}}},{key:"DefaultType",get:function(){return{}}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}}]),e}(),Ie=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(e,r){var s;return(0,o.Z)(this,n),s=t.call(this),(e=H(e))?(s._element=e,s._config=s._getConfig(r),ve(s._element,s.constructor.DATA_KEY,(0,he.Z)(s)),s):(0,pe.Z)(s)}return(0,s.Z)(n,[{key:"dispose",value:function(){be(this._element,this.constructor.DATA_KEY),fe.off(this._element,this.constructor.EVENT_KEY);var e,t=(0,W.Z)(Object.getOwnPropertyNames(this));try{for(t.s();!(e=t.n()).done;){this[e.value]=null}}catch(n){t.e(n)}finally{t.f()}}},{key:"_queueCallback",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];J(e,t,n)}},{key:"_getConfig",value:function(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}}],[{key:"getInstance",value:function(e){return ye(H(e),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}},{key:"VERSION",get:function(){return"5.2.3"}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}},{key:"eventName",value:function(e){return"".concat(e).concat(this.EVENT_KEY)}}]),n}(xe),ke=Ie,Ce=".".concat("bs.button"),Ze='[data-bs-toggle="button"]',Me="click".concat(Ce).concat(".data-api"),Ne=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}],[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(e){return this.each((function(){var t=n.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}]),n}(ke);fe.on(document,Me,Ze,(function(e){e.preventDefault();var t=e.target.closest(Ze);Ne.getOrCreateInstance(t).toggle()})),function(e){var t;t=function(){var t=K();if(t){var n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=function(){return t.fn[n]=r,e.jQueryInterface}}},"loading"===document.readyState?(q.length||document.addEventListener("DOMContentLoaded",(function(){for(var e=0,t=q;e<t.length;e++)(0,t[e])()})),q.push(t)):t()}(Ne);var Te=n(5987),we=n(1694),Ee=n.n(we),Le=n(5746),Pe=n(1683),Ae=Math.pow(2,31)-1;function Oe(e,t,n){var r=n-Date.now();e.current=r<=Ae?setTimeout(t,r):setTimeout((function(){return Oe(e,t,n)}),Ae)}function Ue(){var e=(0,Le.Z)(),t=(0,l.useRef)();return(0,Pe.Z)((function(){return clearTimeout(t.current)})),(0,l.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,o){void 0===o&&(o=0),e()&&(n(),o<=Ae?t.current=setTimeout(r,o):Oe(t,r,Date.now()+o))},clear:n}}),[])}var Be,Se=n(4942),Re=n(5090),Fe=n(2709),Ye=(Be={},(0,Se.Z)(Be,Re.d0,"showing"),(0,Se.Z)(Be,Re.Ix,"showing show"),Be),He=l.forwardRef((function(e,t){return(0,I.jsx)(Fe.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,transitionClasses:Ye}))}));He.displayName="ToastFade";var Ke=He,qe=n(9007),Ve=n(162),Je=n(473),Qe=l.createContext({onClose:function(){}}),We=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],ze=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.closeLabel,s=e.closeVariant,a=e.closeButton,i=e.className,u=e.children,c=(0,Te.Z)(e,We);n=(0,Ve.vE)(n,"toast-header");var d=(0,l.useContext)(Qe),g=(0,qe.Z)((function(e){null==d||null==d.onClose||d.onClose(e)}));return(0,I.jsxs)("div",(0,r.Z)((0,r.Z)({ref:t},c),{},{className:Ee()(n,i),children:[u,a&&(0,I.jsx)(Je.Z,{"aria-label":o,variant:s,onClick:g,"data-dismiss":"toast"})]}))}));ze.displayName="ToastHeader",ze.defaultProps={closeLabel:"Close",closeButton:!0};var $e=ze,Ge=(0,n(6543).Z)("toast-body"),Xe=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","bg"],et=l.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,s=e.transition,a=void 0===s?Ke:s,i=e.show,u=void 0===i||i,c=e.animation,d=void 0===c||c,g=e.delay,f=void 0===g?5e3:g,p=e.autohide,h=void 0!==p&&p,m=e.onClose,v=e.bg,y=(0,Te.Z)(e,Xe);n=(0,Ve.vE)(n,"toast");var b=(0,l.useRef)(f),_=(0,l.useRef)(m);(0,l.useEffect)((function(){b.current=f,_.current=m}),[f,m]);var D=Ue(),j=!(!h||!u),x=(0,l.useCallback)((function(){j&&(null==_.current||_.current())}),[j]);(0,l.useEffect)((function(){D.set(x,b.current)}),[D,x]);var k=(0,l.useMemo)((function(){return{onClose:m}}),[m]),C=!(!a||!d),Z=(0,I.jsx)("div",(0,r.Z)((0,r.Z)({},y),{},{ref:t,className:Ee()(n,o,v&&"bg-".concat(v),!C&&(u?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,I.jsx)(Qe.Provider,{value:k,children:C&&a?(0,I.jsx)(a,{in:u,unmountOnExit:!0,children:Z}):Z})}));et.displayName="Toast";var tt=Object.assign(et,{Body:Ge,Header:$e}),nt=function(e){var t=e.message,n=e.myId,r=e.userId,o=e.Date,s=e.MessageId,a=e.deleteMessage;return(0,I.jsxs)("div",{children:[" ",(0,I.jsx)("div",{className:"".concat(w," ").concat(n===r?E:L),children:(0,I.jsx)(tt,{className:n===r?P:A,children:(0,I.jsx)(tt.Body,{children:(0,I.jsxs)("div",{className:"d-flex d-inline-block",children:[(0,I.jsxs)("big",{children:[t," "]}),(0,I.jsxs)("div",{className:O,children:[o.Hour,":",o.Minutes]}),(0,I.jsx)(Je.Z,{className:U,onClick:function(){a(s)}})]})})})})]})},rt=function(e){var t=e.messages2,n=e.myId,r=e.deleteMessage;return t.map((function(e){return(0,I.jsx)(nt,{message:e.message,myId:n,userId:e.userId,Date:e.Date,MessageId:e.id,deleteMessage:r},e.id+e.message)}))},ot=n(2506),st=n(1724),at=n(6670),it=n(3360),lt=n(2592);var ut=n.p+"static/media/send-svg2.bf250e69b5830be8d34d1dd3f2cbf9ac.svg",ct="Dialog_sendSwg__vWWca",dt={newMessage:""},gt=st.Ry({}),ft=function(e){var t=e.sendMessage,n=e.scrollBottom;return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(ot.J9,{initialValues:dt,validationSchema:gt,onSubmit:function(e,n){var r=n.resetForm;t(e.newMessage),r()},children:function(e){e.handleReset;var t=e.values;return(0,I.jsx)(ot.l0,{children:(0,I.jsxs)("div",{className:"d-flex d-inline-block justify-content-center align-items-center",children:[(0,I.jsx)("div",{className:"col-9",children:(0,I.jsx)(at.rZ,{label:"",name:"newMessage",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",autoFocus:!0})}),(0,I.jsx)("div",{children:(0,I.jsx)(it.Z,{variant:"light",className:"mx-2",type:"submit",onClick:n,disabled:!t.newMessage,children:(0,I.jsx)(lt.Z,{src:ut,className:ct,alt:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})})})]})})}})})},pt=n(9743),ht=function(e){var t=e.messages2,n=e.myId,r=e.deleteMessage,o=e.sendMessage,s=e.scrollBottom,a=e.profilePage,i=(0,I.jsx)("div",{className:y,children:a.profile&&(0,I.jsxs)(D.OL,{to:"/profile/".concat(a.profile.userId),children:[" ",(0,I.jsx)(lt.Z,{src:a.profile.photos.small?a.profile.photos.small:C,className:b,title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",alt:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,I.jsx)("span",{className:_,children:a.profile.fullName})]})});return(0,I.jsxs)("div",{className:m,children:[(0,I.jsx)(pt.Z,{children:(0,I.jsx)(rt,{messages2:t,myId:n,deleteMessage:r})}),i,(0,I.jsxs)("div",{className:v,children:[" ",(0,I.jsxs)("div",{children:[(0,I.jsx)(ft,{sendMessage:o,scrollBottom:s})," "]})]})]})},mt=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).sendMessage=function(t){if(e.props.userId){if(t){var n=0,r=0;null!==e.props.profilePage&&(n=e.props.profilePage.profile.fullName,r=e.props.profilePage.profile.photos.small),e.props.sendDialogsThunkCreator(t,e.props.auth.myId,e.props.auth.myLogin,e.props.auth.myProfile.photos.small,e.props.userId),e.props.updateDialogListThunkCreator(e.props.auth.myId,e.props.userId,n,r)}}else alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433")},e.deleteMessage=function(t){e.props.deleteMessageThunkCreator(t,e.props.myId,e.props.userId)},e.scrollBottom=function(){var e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);window.scrollTo(0,e)},e}return(0,s.Z)(n,[{key:"render",value:function(){return(0,I.jsx)("div",{children:(0,I.jsx)(ht,{messages2:this.props.messages2,myId:this.props.myId,deleteMessage:this.deleteMessage,sendMessage:this.sendMessage,scrollBottom:this.scrollBottom,profilePage:this.props.profilePage})})}}]),n}(l.Component),vt=(0,N.qC)((0,M.$j)((function(e){return{myId:e.auth.myId,dialogUserID:e.dialogsPage.dialogUserID,messages2:e.dialogsPage.messages2,profilePage:e.profilePage,auth:e.auth}}),{sendDialogsThunkCreator:Z.nB,deleteMessageThunkCreator:Z.EF,updateDialogListThunkCreator:Z.wB}),T.Z)(mt),yt=(n(9603),n(2677)),bt=function(e){var t=e.deleteDialog,n=e.dialogUserID,r=e.getDialogList,o=e.dialogs2,s=e.getDialogLastUpdateTime;o.map((function(e){var r=e.userPhoto?e.userPhoto:C;return(0,I.jsx)(k,{userName:e.userName,userId:e.userId,userPhoto:r,dialogUserID:n,deleteDialog:t,dialogId:e.dialogId},e.userId)}));(0,l.useEffect)((function(){var e=setInterval((function(){s(),r()}),1e3);return function(){clearInterval(e)}}),[s,r]);return(0,I.jsx)(pt.Z,{children:(0,I.jsxs)(yt.Z,{children:[(0,I.jsx)(vt,{})," "]})})},_t=n(8859),Dt=n(3990),jt=function(e){(0,a.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).commonPartMountUpdate=function(){e.props.userId?e.props.dialogUserID!==e.props.userId&&(e.props.setdialogUserID(e.props.userId),e.props.getProfileThunkCreator(e.props.userId,!0,e.props.myId)):e.props.messages2.length>0&&(e.props.setMessages([]),e.props.setdialogUserID(null))},e.getDialogs=function(){""!==e.props.userId&&e.props.getDialogsThunkCreator(e.props.myId,e.props.userId)},e.getDialogLastUpdateTime=function(){""!==e.props.userId&&e.props.getDialogLastUpdateTimeTnkCrt(e.props.myId,e.props.userId)},e.getDialogList=function(){e.props.getMyDialogListThunkCreator(e.props.myId)},e.deleteDialog=function(t,n){e.props.deleteDialogThunkCreator(t,e.props.myId,n)},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.getDialogList(),this.commonPartMountUpdate()}},{key:"componentDidUpdate",value:function(e,t,n){this.commonPartMountUpdate(),this.props.dialogLastUpdateTime!==e.dialogLastUpdateTime&&this.getDialogs()}},{key:"render",value:function(){return(0,I.jsx)("div",{children:(0,I.jsx)(bt,(0,r.Z)((0,r.Z)({messages2:this.props.messages2,dialogs:this.props.dialogs,dialogs2:this.props.dialogs2},this.props),{},{getDialogs:this.getDialogs,getDialogLastUpdateTime:this.getDialogLastUpdateTime,myId:this.props.myId,getDialogList:this.getDialogList,dialogUserID:this.props.dialogUserID,deleteDialog:this.deleteDialog}))})}}]),n}(l.Component),xt=(0,N.qC)((0,M.$j)((function(e){return{isAuth:e.auth.isAuth,myId:e.auth.myId,dialogUserID:e.dialogsPage.dialogUserID,messages2:e.dialogsPage.messages2,dialogLastUpdateTime:e.dialogsPage.dialogLastUpdateTime,dialogs2:e.dialogsPage.dialogs2,profilePage:e.profilePage,auth:e.auth}}),{getDialogsThunkCreator:Z.kp,setdialogUserID:Z.Pg,setMessages:Z.Z,getDialogLastUpdateTimeTnkCrt:Z.kB,getProfileThunkCreator:_t.aI,getFollowThunkCreator:Z.fB,getMyDialogListThunkCreator:Z.l,deleteDialogThunkCreator:Z.LZ}),T.Z,Dt.Z)(jt)}}]);
//# sourceMappingURL=256.b5472f6b.chunk.js.map