"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[205],{205:function(e,n,r){r.r(n),r.d(n,{default:function(){return je}});var t=r(9439),s="NOT_FOUND";var a=function(e,n){return e===n};function o(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,o=void 0===t?a:t,i=r.maxSize,c=void 0===i?1:i,l=r.resultEqualityCheck,u=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,s=0;s<t;s++)if(!e(n[s],r[s]))return!1;return!0}}(o),f=1===c?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:s},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(u):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var a=r[t];return t>0&&(r.splice(t,1),r.unshift(a)),a.value}return s}return{get:t,put:function(n,a){t(n)===s&&(r.unshift({key:n,value:a}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(c,u);function d(){var n=f.get(arguments);if(n===s){if(n=e.apply(null,arguments),l){var r=f.getEntries().find((function(e){return l(e.value,n)}));r&&(n=r.value)}f.put(arguments,n)}return n}return d.clearCache=function(){return f.clear()},d}function i(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];var a,o=0,i={memoizeOptions:void 0},c=t.pop();if("object"===typeof c&&(i=c,c=t.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var l=i.memoizeOptions,u=void 0===l?r:l,f=Array.isArray(u)?u:[u],d=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}(t),g=e.apply(void 0,[function(){return o++,c.apply(null,arguments)}].concat(f)),h=e((function(){for(var e=[],n=d.length,r=0;r<n;r++)e.push(d[r].apply(null,arguments));return a=g.apply(null,e)}));return Object.assign(h,{resultFunc:c,memoizedResultFunc:g,dependencies:d,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),h}}var c=i(o),l=function(e){return e.usersPage.pageSize},u=function(e){return e.usersPage.totalUsersCount},f=function(e){return e.usersPage.currentPage},d=function(e){return e.usersPage.isFetching},g=function(e){return e.usersPage.followingInProgress},h=function(e){return e.auth.isAuth},p=function(e){return e.usersPage.onlyFriends},v=c((function(e){return e.usersPage.users}),(function(e){return e})),m=r(8687),x=r(5732),P=r(2791),y=r(6159),j="Users_userPhoto__5FOrl",C="Users_nameStatusCommon__IX8+8",w="Users_maxWidthcommon__XFAer",_="Users_maxWidth1Col__xpaYZ",N="Users_name__NXsmd",Z="Users_status__dd8C6",k="Users_Relative__EtQqz",F="Users_line__EXs9E",b="Users_favImage__Fih2I",U="Users_star__9qeVm",A="Users_usersOverflowAuto__bmqmJ",I="Users_usersHeaderDialogsPage__U9MWc",T="Users_usersHeaderUsersPage__kK3lQ",z=(r(7632),r(1413)),E=r(5987),S=r(1694),O=r.n(S),R=r(162),L=r(6445),W=r(184),X=["active","disabled","className","style","activeLabel","children"],q=["children"],H=P.forwardRef((function(e,n){var r=e.active,t=e.disabled,s=e.className,a=e.style,o=e.activeLabel,i=e.children,c=(0,E.Z)(e,X),l=r||t?"span":L.Z;return(0,W.jsx)("li",{ref:n,style:a,className:O()(s,"page-item",{active:r,disabled:t}),children:(0,W.jsxs)(l,(0,z.Z)((0,z.Z)({className:"page-link"},c),{},{children:[i,r&&o&&(0,W.jsx)("span",{className:"visually-hidden",children:o})]}))})}));H.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},H.displayName="PageItem";var D=H;function M(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,t=P.forwardRef((function(e,t){var s=e.children,a=(0,E.Z)(e,q);return(0,W.jsxs)(H,(0,z.Z)((0,z.Z)({},a),{},{ref:t,children:[(0,W.jsx)("span",{"aria-hidden":"true",children:s||n}),(0,W.jsx)("span",{className:"visually-hidden",children:r})]}))}));return t.displayName=e,t}var G=M("First","\xab"),Q=M("Prev","\u2039","Previous"),Y=M("Ellipsis","\u2026","More"),B=M("Next","\u203a"),J=M("Last","\xbb"),K=["bsPrefix","className","size"],V=P.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,s=e.size,a=(0,E.Z)(e,K),o=(0,R.vE)(r,"pagination");return(0,W.jsx)("ul",(0,z.Z)((0,z.Z)({ref:n},a),{},{className:O()(t,o,s&&"".concat(o,"-").concat(s))}))}));V.displayName="Pagination";var $=Object.assign(V,{First:G,Prev:Q,Ellipsis:Y,Item:D,Next:B,Last:J}),ee="Pagination_pagination__utrCy",ne=function(e){for(var n=e.totalUsersCount,r=e.pageSize,t=e.currentPage,s=e.onPageChanged,a=e.currentRangeLocal,o=e.onChangeRangeLocal,i=Math.ceil(n/r),c=[],l=1;l<=i;l++)c.push(l);var u=1+6*(a-1),f=6*a,d=c.filter((function(e){return e>=u&&e<=f})),g=function(e){"prevPortion"===e&&a>1&&o(-1),"nextPortion"===e&&o(1)},h=d.map((function(e){return(0,W.jsxs)($.Item,{active:e===t,onClick:function(){s(e)},children:[e," "]},e)}));return(0,W.jsx)("div",{className:ee,children:(0,W.jsxs)($,{className:"pagination align-items-center justify-content-center",children:[" ",(0,W.jsx)($.Prev,{onClick:function(){g("prevPortion")}})," ",h," ",(0,W.jsx)($.Next,{onClick:function(){g("nextPortion")}}),"  "]})})},re=r(4266),te=r(5313),se=r(3360),ae=r(9410),oe=r(2592);var ie=r.p+"static/media/star+.8f12c1f646656dcb9d3b823059f13349.svg",ce=function(e){var n=e.onChangeTerm,r=e.onChangeTermFunction,t=e.SetTermFunction,s=e.handleClick,a=e.setOnlyFriends,o=e.onlyFriends;return(0,W.jsx)("div",{children:(0,W.jsx)(te.Z,{children:(0,W.jsxs)(re.Z,{direction:"horizontal",gap:3,className:"mx-1",children:[(0,W.jsxs)(ae.Z,{children:[(0,W.jsx)(ae.Z.Text,{children:(0,W.jsx)(oe.Z,{fluid:!0,src:ie,className:b})}),(0,W.jsx)(ae.Z.Checkbox,{checked:o,onChange:function(e){e&&e.target&&a(e.target.checked)}}),(0,W.jsx)(te.Z.Control,{type:"text",value:n,onChange:function(e){r(e)},onBlur:t,placeholder:"find users..."})," "]}),(0,W.jsx)("div",{className:"vr"})," ",(0,W.jsx)(se.Z,{onClick:s,type:"submit",children:"Find"})]})})})},le=r(7022),ue=r(9743),fe=r(9603),de=r(1087),ge=r(6110);var he=r.p+"static/media/star-.0741470d42a207292c915853e443c7c4.svg",pe=function(e){var n=e.u,r=e.followUnfollowAPICallback,t=e.followingInProgress,s=e.isAuth,a=t.some((function(e){return e===n.id}));return(0,W.jsx)("span",{children:(0,W.jsx)(oe.Z,{fluid:!0,src:n.followed?ie:he,alt:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",onClick:function(){a||(s?r(n.id):alert("You are not authorized, please Login"))}})})},ve=function(e){var n=e.users,r=e.unfollowAPI,t=e.followAPI,s=e.followingInProgress,a=e.isAuth,o=e.patch,i=e.PageWidth,c="";return"users"===o&&(i<460&&(c="grid1col"),i>=460&&i<800&&(c="grid2col"),i>=800&&i<1200&&(c="grid3col"),i>=1200&&i<1600&&(c="grid4col"),i>=1600&&i<2e3&&(c="grid5col"),i>=2e3&&(c="grid6col")),"dialogs"===o&&(c="grid1col paddingTop55"),(0,W.jsxs)("div",{className:c,children:[" ",n.map((function(e){return(0,W.jsxs)("div",{className:k,children:[(0,W.jsx)("div",{className:U,children:e.followed?(0,W.jsx)(pe,{u:e,followUnfollowAPICallback:r,followingInProgress:s,isAuth:a}):(0,W.jsx)(pe,{u:e,followUnfollowAPICallback:t,followingInProgress:s,isAuth:a})}),(0,W.jsx)(de.OL,{to:"/dialogs/"+e.id,children:(0,W.jsxs)("div",{children:[(0,W.jsx)(oe.Z,{fluid:!0,className:j,src:null!==e.photos.small?e.photos.small:ge,alt:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,W.jsxs)("span",{className:"".concat(C," ").concat(N," ").concat("users"===o?w:_),children:[e.name&&e.name," "]}),(0,W.jsxs)("span",{className:"".concat(C," ").concat(Z," ").concat("users"===o?w:_),children:[e.status&&e.status," "]})]})})]},e.id)}))]})},me=function(e){var n=e.totalUsersCount,r=e.pageSize,s=e.currentPage,a=e.onPageChanged,o=e.users,i=e.followingInProgress,c=e.unfollowAPI,l=e.isAuth,u=e.followAPI,f=e.SetTermFunction,d=e.onChangeTerm,g=e.onChangeTermFunction,h=e.onChangeRangeLocal,p=e.currentRangeLocal,v=e.setOnlyFriends,m=e.onlyFriends,x=e.patch,y=e.PageWidth,j=(0,P.useState)({message:""}),C=(0,t.Z)(j,2),w=C[0],_=C[1];if(w.message)return w.message;try{var N=(0,W.jsxs)(ue.Z,{className:"mt-3",children:[" ",(0,W.jsx)(ne,{totalUsersCount:n,pageSize:r,currentPage:s,onPageChanged:a,currentRangeLocal:p,onChangeRangeLocal:h})]}),Z=(0,W.jsx)(ce,{onChangeTerm:d,onChangeTermFunction:g,SetTermFunction:f,handleClick:function(e){e.preventDefault(),f()},setOnlyFriends:v,onlyFriends:m}),k=(0,W.jsxs)(ue.Z,{children:[" ",(0,W.jsxs)("div",{className:"d-flex justify-content-center opacity-50 mt-2 ",children:[" Total: ",n]}),(0,W.jsx)("div",{className:F})]}),b=(0,W.jsxs)("div",{className:"my-4",children:[" ",(0,W.jsx)(ve,{users:o,unfollowAPI:c,followAPI:u,followingInProgress:i,isAuth:l,patch:x,PageWidth:y})]});return(0,W.jsx)("div",{className:A,children:(0,W.jsxs)(le.Z,{fluid:!0,children:[(0,W.jsxs)("div",{className:"users"===x?T:I,children:[(0,W.jsx)("h2",{className:fe.Z.pageHeader,children:"\u0427\u0430\u0442\u044b"})," ","users"===x&&N,Z," ","users"===x&&k," "]}),b]})})}catch(w){_(w)}},xe=x.XU.setCurrentPage,Pe=x.XU.setOnlyFriends,ye=x.XU.setTerm,je=(0,m.$j)((function(e){return{users:v(e),pageSize:l(e),totalUsersCount:u(e),currentPage:f(e),isFetching:d(e),followingInProgress:g(e),isAuth:h(e),term:e.usersPage.term,onlyFriends:p(e),patch:e.app.patch,PageWidth:e.app.PageWidth}}),{setCurrentPage:xe,getUsersThunkCreator:x.Uk,followThunkCreator:x.AC,unfollowThunkCreator:x.Ow,setTerm:ye,setOnlyFriends:Pe})((function(e){var n=e.users,r=e.pageSize,s=e.totalUsersCount,a=e.currentPage,o=e.isFetching,i=e.followingInProgress,c=e.isAuth,l=e.term,u=e.onlyFriends,f=e.patch,d=e.PageWidth,g=e.setCurrentPage,h=e.getUsersThunkCreator,p=e.followThunkCreator,v=e.unfollowThunkCreator,m=e.setTerm,x=e.setOnlyFriends,j=(0,P.useState)(l),C=(0,t.Z)(j,2),w=C[0],_=C[1],N=(0,P.useState)(1),Z=(0,t.Z)(N,2),k=Z[0],F=Z[1];return(0,P.useEffect)((function(){h(a,r,l,u,0)}),[a,h,u,r,l]),(0,P.useEffect)((function(){g(1),F(1),h(1,r,l,u,0)}),[l,u,h,r,g]),(0,W.jsxs)(W.Fragment,{children:[" ",o&&(0,W.jsx)(y.Z,{}),(0,W.jsx)(me,{onPageChanged:function(e){g(e),h(e,r,l,u,0)},totalUsersCount:s,pageSize:r,currentPage:a,users:n,unfollowAPI:function(e){v(e,a,r,l,u)},followAPI:function(e){p(e,a,r,l,u)},followingInProgress:i,isAuth:c,SetTermFunction:function(){m(w)},onChangeTerm:w,onChangeTermFunction:function(e){_(e.currentTarget.value)},currentRangeLocal:k,onChangeRangeLocal:function(e){F(k+e)},setOnlyFriends:x,onlyFriends:u,patch:f,PageWidth:d})]})}))},9743:function(e,n,r){var t=r(1413),s=r(5987),a=r(1694),o=r.n(a),i=r(2791),c=r(162),l=r(184),u=["bsPrefix","className","as"],f=i.forwardRef((function(e,n){var r=e.bsPrefix,a=e.className,i=e.as,f=void 0===i?"div":i,d=(0,s.Z)(e,u),g=(0,c.vE)(r,"row"),h=(0,c.pi)(),p=(0,c.zG)(),v="".concat(g,"-cols"),m=[];return h.forEach((function(e){var n,r=d[e];delete d[e],n=null!=r&&"object"===typeof r?r.cols:r;var t=e!==p?"-".concat(e):"";null!=n&&m.push("".concat(v).concat(t,"-").concat(n))})),(0,l.jsx)(f,(0,t.Z)((0,t.Z)({ref:n},d),{},{className:o().apply(void 0,[a,g].concat(m))}))}));f.displayName="Row",n.Z=f},4266:function(e,n,r){r.d(n,{Z:function(){return p}});var t=r(3433),s=r(1413),a=r(5987),o=r(1694),i=r.n(o),c=r(2791),l=r(162),u=r(9439);function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Hz,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.cs,t=[];return Object.entries(e).forEach((function(e){var s=(0,u.Z)(e,2),a=s[0],o=s[1];null!=o&&("object"===typeof o?n.forEach((function(e){var n=o[e];if(null!=n){var s=e!==r?"-".concat(e):"";t.push("".concat(a).concat(s,"-").concat(n))}})):t.push("".concat(a,"-").concat(o)))})),t}var d=r(184),g=["as","bsPrefix","className","direction","gap"],h=c.forwardRef((function(e,n){var r=e.as,o=void 0===r?"div":r,c=e.bsPrefix,u=e.className,h=e.direction,p=e.gap,v=(0,a.Z)(e,g);c=(0,l.vE)(c,"horizontal"===h?"hstack":"vstack");var m=(0,l.pi)(),x=(0,l.zG)();return(0,d.jsx)(o,(0,s.Z)((0,s.Z)({},v),{},{ref:n,className:i().apply(void 0,[u,c].concat((0,t.Z)(f({gap:p},m,x))))}))}));h.displayName="Stack";var p=h}}]);
//# sourceMappingURL=205.67682d2f.chunk.js.map