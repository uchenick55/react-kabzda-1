"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[902],{3902:function(e,n,t){t.r(n),t.d(n,{default:function(){return ye}});var r="NOT_FOUND";var a=function(e,n){return e===n};function s(e,n){var t="object"===typeof n?n:{equalityCheck:n},s=t.equalityCheck,i=void 0===s?a:s,c=t.maxSize,o=void 0===c?1:c,u=t.resultEqualityCheck,l=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e(n[a],t[a]))return!1;return!0}}(i),f=1===o?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:r},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(l):function(e,n){var t=[];function a(e){var a=t.findIndex((function(t){return n(e,t.key)}));if(a>-1){var s=t[a];return a>0&&(t.splice(a,1),t.unshift(s)),s.value}return r}return{get:a,put:function(n,s){a(n)===r&&(t.unshift({key:n,value:s}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(o,l);function d(){var n=f.get(arguments);if(n===r){if(n=e.apply(null,arguments),u){var t=f.getEntries().find((function(e){return u(e.value,n)}));t&&(n=t.value)}f.put(arguments,n)}return n}return d.clearCache=function(){return f.clear()},d}function i(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s,i=0,c={memoizeOptions:void 0},o=r.pop();if("object"===typeof o&&(c=o,o=r.pop()),"function"!==typeof o)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof o+"]");var u=c.memoizeOptions,l=void 0===u?t:u,f=Array.isArray(l)?l:[l],d=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}(r),v=e.apply(void 0,[function(){return i++,o.apply(null,arguments)}].concat(f)),p=e((function(){for(var e=[],n=d.length,t=0;t<n;t++)e.push(d[t].apply(null,arguments));return s=v.apply(null,e)}));return Object.assign(p,{resultFunc:o,memoizedResultFunc:v,dependencies:d,lastResult:function(){return s},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),p}}var c=i(s),o=function(e){return e.usersPage.pageSize},u=function(e){return e.usersPage.totalUsersCount},l=function(e){return e.usersPage.currentPage},f=function(e){return e.usersPage.isFetching},d=function(e){return e.usersPage.followingInProgress},v=function(e){return e.auth.isAuth},p=function(e){return e.usersPage.onlyFriends},h=c((function(e){return e.usersPage.users}),(function(e){return e})),g=t(8687),m=t(5732),x=t(2791),j=t(6159),y="Users_userPhoto__5FOrl",P="Users_nameStatusCommon__IX8+8",_="Users_maxWidthcommon__XFAer",N="Users_maxWidth1Col__xpaYZ",C="Users_name__NXsmd",b="Users_status__dd8C6",Z="Users_Relative__EtQqz",k="Users_line__EXs9E",w="Users_favImage__Fih2I",I="Users_star__9qeVm",F="Users_usersHeaderDialogsPage__U9MWc",U=t(9603),E=t(9439),z=(t(7632),t(1413)),A=t(5987),O=t(1694),R=t.n(O),S=t(162),T=t(6445),L=t(184),W=["active","disabled","className","style","activeLabel","children"],q=["children"],B=x.forwardRef((function(e,n){var t=e.active,r=e.disabled,a=e.className,s=e.style,i=e.activeLabel,c=e.children,o=(0,A.Z)(e,W),u=t||r?"span":T.Z;return(0,L.jsx)("li",{ref:n,style:s,className:R()(a,"page-item",{active:t,disabled:r}),children:(0,L.jsxs)(u,(0,z.Z)((0,z.Z)({className:"page-link"},o),{},{children:[c,t&&i&&(0,L.jsx)("span",{className:"visually-hidden",children:i})]}))})}));B.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},B.displayName="PageItem";var M=B;function X(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=x.forwardRef((function(e,r){var a=e.children,s=(0,A.Z)(e,q);return(0,L.jsxs)(B,(0,z.Z)((0,z.Z)({},s),{},{ref:r,children:[(0,L.jsx)("span",{"aria-hidden":"true",children:a||n}),(0,L.jsx)("span",{className:"visually-hidden",children:t})]}))}));return r.displayName=e,r}var D=X("First","\xab"),H=X("Prev","\u2039","Previous"),Y=X("Ellipsis","\u2026","More"),G=X("Next","\u203a"),Q=X("Last","\xbb"),V=["bsPrefix","className","size"],J=x.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.size,s=(0,A.Z)(e,V),i=(0,S.vE)(t,"pagination");return(0,L.jsx)("ul",(0,z.Z)((0,z.Z)({ref:n},s),{},{className:R()(r,i,a&&"".concat(i,"-").concat(a))}))}));J.displayName="Pagination";var K=Object.assign(J,{First:D,Prev:H,Ellipsis:Y,Item:M,Next:G,Last:Q}),$="Pagination_pagination__utrCy",ee=function(e){var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,a=e.onPageChanged,s=e.currentRangeLocal,i=e.onChangeRangeLocal;console.log("PaginationByCourse");for(var c=Math.ceil(n/t),o=[],u=1;u<=c;u++)o.push(u);var l=1+6*(s-1),f=6*s,d=o.filter((function(e){return e>=l&&e<=f})),v=function(e){"prevPortion"===e&&s>1&&i(-1),"nextPortion"===e&&i(1)},p=d.map((function(e){return(0,L.jsxs)(K.Item,{active:e===r,onClick:function(){a(e)},children:[e," "]},e)}));return(0,L.jsx)("div",{className:$,children:(0,L.jsxs)(K,{className:"pagination align-items-center justify-content-center",children:[" ",(0,L.jsx)(K.Prev,{onClick:function(){v("prevPortion")}})," ",p," ",(0,L.jsx)(K.Next,{onClick:function(){v("nextPortion")}})," "]})})},ne=function(){var e=(0,g.I0)(),n=m._B.setCurrentPage,t=(0,g.v9)(u),r=(0,g.v9)(o),a=(0,g.v9)(l),s=(0,g.v9)(p),i=(0,g.v9)((function(e){return e.usersPage.term})),c=(0,x.useState)(1),f=(0,E.Z)(c,2),d=f[0],v=f[1],h=function(t){e(n(t))};return(0,x.useEffect)((function(){h(1),v(1)}),[s,i]),(0,L.jsx)("div",{children:(0,L.jsx)(ee,{totalUsersCount:t,pageSize:r,currentPage:a,onPageChanged:h,currentRangeLocal:d,onChangeRangeLocal:function(e){v(d+e)}})})},te=t(3433);function re(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Hz,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S.cs,r=[];return Object.entries(e).forEach((function(e){var a=(0,E.Z)(e,2),s=a[0],i=a[1];null!=i&&("object"===typeof i?n.forEach((function(e){var n=i[e];if(null!=n){var a=e!==t?"-".concat(e):"";r.push("".concat(s).concat(a,"-").concat(n))}})):r.push("".concat(s,"-").concat(i)))})),r}var ae=["as","bsPrefix","className","direction","gap"],se=x.forwardRef((function(e,n){var t=e.as,r=void 0===t?"div":t,a=e.bsPrefix,s=e.className,i=e.direction,c=e.gap,o=(0,A.Z)(e,ae);a=(0,S.vE)(a,"horizontal"===i?"hstack":"vstack");var u=(0,S.pi)(),l=(0,S.zG)();return(0,L.jsx)(r,(0,z.Z)((0,z.Z)({},o),{},{ref:n,className:R().apply(void 0,[s,a].concat((0,te.Z)(re({gap:c},u,l))))}))}));se.displayName="Stack";var ie=se,ce=t(5313),oe=t(3360),ue=t(9410),le=t(2592);var fe=t.p+"static/media/star+.4046d1d2bf6ba05a1ba8049a83b6ed88.svg",de=function(e){var n=e.onChangeTerm,t=e.setOnlyFriends,r=e.onlyFriends,a=e.SetTermFunction,s=e.setOnChangeTerm;console.log("InputButtonUsersRender");var i=(0,g.I0)();return(0,L.jsx)("div",{children:(0,L.jsx)(ce.Z,{children:(0,L.jsxs)(ie,{direction:"horizontal",gap:3,className:"mx-1",children:[(0,L.jsxs)(ue.Z,{children:[(0,L.jsx)(ue.Z.Text,{children:(0,L.jsx)(le.Z,{fluid:!0,src:fe,className:w})}),(0,L.jsx)(ue.Z.Checkbox,{checked:r,onChange:function(e){i(t(e.target.checked))}}),(0,L.jsx)(ce.Z.Control,{type:"text",value:n,onChange:function(e){s(e.currentTarget.value)},placeholder:"find users...",autoFocus:!0})," "]}),(0,L.jsx)("div",{className:"vr"})," ",(0,L.jsx)(oe.Z,{onClick:a,type:"submit",children:"Find"})]})})})},ve=function(){var e=(0,g.I0)(),n=m._B.setOnlyFriends,t=m._B.setTerm,r=(0,g.v9)(p),a=(0,g.v9)((function(e){return e.usersPage.term})),s=(0,x.useState)(a),i=(0,E.Z)(s,2),c=i[0],o=i[1];return(0,L.jsx)(de,{onChangeTerm:c,onlyFriends:r,setOnChangeTerm:o,SetTermFunction:function(){e(t(c))},setOnlyFriends:n})},pe=t(1087),he=t(6110);var ge=t.p+"static/media/star-.bad0ce863655224a286a5a44a7b01c83.svg",me=function(e){var n=e.users,t=e.unfollowAPI,r=e.followAPI,a=e.followingInProgress,s=e.isAuth,i=e.patch,c=e.pageWidth;console.log("UserItems");var o="";"users"===i&&(o=function(e){var n="";return e<460&&(n="grid1col"),e>=460&&e<800&&(n="grid2col"),e>=800&&e<1200&&(n="grid3col"),e>=1200&&e<1600&&(n="grid4col"),e>=1600&&e<2e3&&(n="grid5col"),e>=2e3&&(n="grid6col"),n}(c)),"dialogs"===i&&(o="grid1col paddingTop55");var u=(0,x.memo)(le.Z);return(0,L.jsxs)("div",{className:o,children:[" ",n.map((function(e){var n=a.some((function(n){return n===e.id})),c=e.followed?t:r,o=(0,L.jsx)(u,{fluid:!0,className:I,src:e.followed?fe:ge,alt:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",onClick:function(){n||(s?c(e.id):alert("You are not authorized, please Login"))}}),l=(0,L.jsx)(u,{fluid:!0,className:y,src:null!==e.photos.small?e.photos.small:he,alt:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),f=(0,L.jsxs)("span",{className:"".concat(P," ").concat(C," ").concat("users"===i?_:N),children:[e.name&&e.name," "]}),d=(0,L.jsxs)("span",{className:"".concat(P," ").concat(b," ").concat("users"===i?_:N),children:[e.status&&e.status," "]});return(0,L.jsxs)("div",{className:Z,children:[o,(0,L.jsxs)(pe.OL,{to:"/messages/"+e.id,children:[" ",l," ",f," ",d," "]})]},e.id)}))]})},xe=function(){var e=(0,g.I0)(),n=(0,g.v9)(h),t=(0,g.v9)(d),r=(0,g.v9)(l),a=(0,g.v9)(v),s=(0,g.v9)((function(e){return e.app.patch})),i=(0,g.v9)((function(e){return e.app.pageWidth}));return(0,L.jsxs)("div",{className:"my-4",children:[" ",(0,L.jsx)(me,{users:n,unfollowAPI:function(n){e((0,m.Ow)(n,r))},followAPI:function(n){e((0,m.AC)(n,r))},followingInProgress:t,isAuth:a,patch:s,pageWidth:i})]})},je=t(5870),ye=function(){var e=je.PN.setDialog2InitialState,n=(0,g.v9)(l),t=(0,g.v9)(u),r=(0,g.v9)(f),a=(0,g.v9)((function(e){return e.app.patch})),s=(0,g.v9)(p),i=(0,g.v9)((function(e){return e.usersPage.term})),c=(0,g.I0)();(0,x.useEffect)((function(){c((0,m.Uk)())}),[c,s,i,n]),(0,x.useEffect)((function(){c(e())}),[e,c]);var o=(0,L.jsxs)("div",{children:[" ",(0,L.jsxs)("div",{className:"d-flex justify-content-center opacity-50 mt-2 ",children:[" Total: ",t]}),(0,L.jsx)("div",{className:k})]}),d=(0,x.useMemo)((function(){return(0,L.jsx)(ne,{})}),[]),v=(0,x.useMemo)((function(){return(0,L.jsx)(ve,{})}),[]);return(0,L.jsxs)("div",{children:[r&&(0,L.jsx)(j.Z,{})," ",(0,L.jsxs)("div",{className:"users"===a?"":F,children:[" ",(0,L.jsx)("h2",{className:U.Z.pageHeader,children:"\u0427\u0430\u0442\u044b"})," ","users"===a&&d," ",v," ","users"===a&&o," "]}),(0,L.jsx)(xe,{})]})}}}]);
//# sourceMappingURL=902.8d984a5d.chunk.js.map