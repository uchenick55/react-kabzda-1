"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[902],{3902:function(e,n,t){t.r(n),t.d(n,{default:function(){return xe}});var r="NOT_FOUND";var a=function(e,n){return e===n};function s(e,n){var t="object"===typeof n?n:{equalityCheck:n},s=t.equalityCheck,i=void 0===s?a:s,o=t.maxSize,c=void 0===o?1:o,u=t.resultEqualityCheck,l=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!e(n[a],t[a]))return!1;return!0}}(i),f=1===c?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:r},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(l):function(e,n){var t=[];function a(e){var a=t.findIndex((function(t){return n(e,t.key)}));if(a>-1){var s=t[a];return a>0&&(t.splice(a,1),t.unshift(s)),s.value}return r}return{get:a,put:function(n,s){a(n)===r&&(t.unshift({key:n,value:s}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(c,l);function d(){var n=f.get(arguments);if(n===r){if(n=e.apply(null,arguments),u){var t=f.getEntries().find((function(e){return u(e.value,n)}));t&&(n=t.value)}f.put(arguments,n)}return n}return d.clearCache=function(){return f.clear()},d}function i(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s,i=0,o={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(o=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=o.memoizeOptions,l=void 0===u?t:u,f=Array.isArray(l)?l:[l],d=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}(r),v=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(f)),m=e((function(){for(var e=[],n=d.length,t=0;t<n;t++)e.push(d[t].apply(null,arguments));return s=v.apply(null,e)}));return Object.assign(m,{resultFunc:c,memoizedResultFunc:v,dependencies:d,lastResult:function(){return s},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),m}}var o=i(s),c=function(e){return e.usersPage.pageSize},u=function(e){return e.usersPage.totalUsersCount},l=function(e){return e.usersPage.currentPage},f=function(e){return e.usersPage.followingInProgress},d=function(e){return e.auth.isAuth},v=function(e){return e.usersPage.onlyFriends},m=o((function(e){return e.usersPage.users}),(function(e){return e})),p=t(8687),h=t(5732),g=t(2791),x="Users_userPhoto__5FOrl",_="Users_nameStatusCommon__IX8+8",j="Users_maxWidthcommon__XFAer",y="Users_maxWidth1Col__xpaYZ",P="Users_name__NXsmd",C="Users_status__dd8C6",N="Users_Relative__EtQqz",b="Users_line__EXs9E",Z="Users_favImage__Fih2I",w="Users_star__9qeVm",k="Users_usersHeaderDialogsPage__U9MWc",I=t(9603),U=t(9439),E=(t(7632),t(1413)),F=t(5987),A=t(1694),O=t.n(A),S=t(162),z=t(6445),M=t(184),R=["active","disabled","className","style","activeLabel","children"],T=["children"],W=g.forwardRef((function(e,n){var t=e.active,r=e.disabled,a=e.className,s=e.style,i=e.activeLabel,o=e.children,c=(0,F.Z)(e,R),u=t||r?"span":z.Z;return(0,M.jsx)("li",{ref:n,style:s,className:O()(a,"page-item",{active:t,disabled:r}),children:(0,M.jsxs)(u,(0,E.Z)((0,E.Z)({className:"page-link"},c),{},{children:[o,t&&i&&(0,M.jsx)("span",{className:"visually-hidden",children:i})]}))})}));W.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},W.displayName="PageItem";var L=W;function q(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=g.forwardRef((function(e,r){var a=e.children,s=(0,F.Z)(e,T);return(0,M.jsxs)(W,(0,E.Z)((0,E.Z)({},s),{},{ref:r,children:[(0,M.jsx)("span",{"aria-hidden":"true",children:a||n}),(0,M.jsx)("span",{className:"visually-hidden",children:t})]}))}));return r.displayName=e,r}var B=q("First","\xab"),H=q("Prev","\u2039","Previous"),X=q("Ellipsis","\u2026","More"),D=q("Next","\u203a"),V=q("Last","\xbb"),G=["bsPrefix","className","size"],Y=g.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.size,s=(0,F.Z)(e,G),i=(0,S.vE)(t,"pagination");return(0,M.jsx)("ul",(0,E.Z)((0,E.Z)({ref:n},s),{},{className:O()(r,i,a&&"".concat(i,"-").concat(a))}))}));Y.displayName="Pagination";var Q=Object.assign(Y,{First:B,Prev:H,Ellipsis:X,Item:L,Next:D,Last:V}),J="Pagination_pagination__utrCy",K=function(e){var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,a=e.onPageChanged,s=e.currentRangeLocal,i=e.onChangeRangeLocal;console.log("PaginationByCourse");for(var o=Math.ceil(n/t),c=[],u=1;u<=o;u++)c.push(u);var l=1+6*(s-1),f=6*s,d=c.filter((function(e){return e>=l&&e<=f})),v=function(e){"prevPortion"===e&&s>1&&i(-1),"nextPortion"===e&&i(1)},m=d.map((function(e){return(0,M.jsxs)(Q.Item,{active:e===r,onClick:function(){a(e)},children:[e," "]},e)}));return(0,M.jsx)("div",{className:J,children:(0,M.jsxs)(Q,{className:"pagination align-items-center justify-content-center",children:[" ",(0,M.jsx)(Q.Prev,{onClick:function(){v("prevPortion")}})," ",m," ",(0,M.jsx)(Q.Next,{onClick:function(){v("nextPortion")}})," "]})})},$=function(){var e=(0,p.I0)(),n=h._B.setCurrentPage,t=(0,p.v9)(u),r=(0,p.v9)(c),a=(0,p.v9)(l),s=(0,p.v9)(v),i=(0,p.v9)((function(e){return e.usersPage.term})),o=(0,g.useState)(1),f=(0,U.Z)(o,2),d=f[0],m=f[1],x=function(t){console.log("Pagination Container \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"),e(n(t))};return(0,g.useEffect)((function(){1!==a&&(x(1),m(1))}),[s,i]),(0,M.jsx)("div",{children:(0,M.jsx)(K,{totalUsersCount:t,pageSize:r,currentPage:a,onPageChanged:x,currentRangeLocal:d,onChangeRangeLocal:function(e){m(d+e)}})})},ee=t(3433);function ne(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.Hz,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S.cs,r=[];return Object.entries(e).forEach((function(e){var a=(0,U.Z)(e,2),s=a[0],i=a[1];null!=i&&("object"===typeof i?n.forEach((function(e){var n=i[e];if(null!=n){var a=e!==t?"-".concat(e):"";r.push("".concat(s).concat(a,"-").concat(n))}})):r.push("".concat(s,"-").concat(i)))})),r}var te=["as","bsPrefix","className","direction","gap"],re=g.forwardRef((function(e,n){var t=e.as,r=void 0===t?"div":t,a=e.bsPrefix,s=e.className,i=e.direction,o=e.gap,c=(0,F.Z)(e,te);a=(0,S.vE)(a,"horizontal"===i?"hstack":"vstack");var u=(0,S.pi)(),l=(0,S.zG)();return(0,M.jsx)(r,(0,E.Z)((0,E.Z)({},c),{},{ref:n,className:O().apply(void 0,[s,a].concat((0,ee.Z)(ne({gap:o},u,l))))}))}));re.displayName="Stack";var ae=re,se=t(5313),ie=t(3360),oe=t(9410),ce=t(2592);var ue=t.p+"static/media/star+.4046d1d2bf6ba05a1ba8049a83b6ed88.svg",le=function(e){var n=e.onChangeTerm,t=e.setOnlyFriends,r=e.onlyFriends,a=e.SetTermFunction,s=e.setOnChangeTerm;console.log("InputButtonUsersRender");var i=(0,p.I0)();return(0,M.jsx)("div",{children:(0,M.jsx)(se.Z,{children:(0,M.jsxs)(ae,{direction:"horizontal",gap:3,className:"mx-1",children:[(0,M.jsxs)(oe.Z,{children:[(0,M.jsx)(oe.Z.Text,{children:(0,M.jsx)(ce.Z,{fluid:!0,src:ue,className:Z})}),(0,M.jsx)(oe.Z.Checkbox,{checked:r,onChange:function(e){i(t(e.target.checked))}}),(0,M.jsx)(se.Z.Control,{type:"text",value:n,onChange:function(e){s(e.currentTarget.value)},placeholder:"find users...",autoFocus:!0})," "]}),(0,M.jsx)("div",{className:"vr"})," ",(0,M.jsx)(ie.Z,{onClick:a,type:"submit",children:"Find"})]})})})},fe=function(){var e=(0,p.I0)(),n=h._B.setOnlyFriends,t=h._B.setTerm,r=(0,p.v9)(v),a=(0,p.v9)((function(e){return e.usersPage.term})),s=(0,g.useState)(a),i=(0,U.Z)(s,2),o=i[0],c=i[1];return(0,M.jsx)(le,{onChangeTerm:o,onlyFriends:r,setOnChangeTerm:c,SetTermFunction:function(){e(t(o))},setOnlyFriends:n})},de=t(1087),ve=t(6110);var me=t.p+"static/media/star-.bad0ce863655224a286a5a44a7b01c83.svg",pe=function(e){var n=e.users,t=e.unfollowAPI,r=e.followAPI,a=e.followingInProgress,s=e.isAuth,i=e.patch,o=e.pageWidth;console.log("UserItems");var c="";"users"===i&&(c=function(e){var n="";return e<460&&(n="grid1col"),e>=460&&e<800&&(n="grid2col"),e>=800&&e<1200&&(n="grid3col"),e>=1200&&e<1600&&(n="grid4col"),e>=1600&&e<2e3&&(n="grid5col"),e>=2e3&&(n="grid6col"),n}(o)),"dialogs"===i&&(c="grid1col paddingTop55");var u=(0,g.memo)(ce.Z);return(0,M.jsxs)("div",{className:c,children:[" ",n.map((function(e){var n=a.some((function(n){return n===e.id})),o=e.followed?t:r,c=(0,M.jsx)(u,{fluid:!0,className:w,src:e.followed?ue:me,alt:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",onClick:function(){n||(s?o(e.id):alert("You are not authorized, please Login"))}}),l=(0,M.jsx)(u,{fluid:!0,className:x,src:null!==e.photos.small?e.photos.small:ve,alt:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),f=(0,M.jsxs)("span",{className:"".concat(_," ").concat(P," ").concat("users"===i?j:y),children:[e.name&&e.name," "]}),d=(0,M.jsxs)("span",{className:"".concat(_," ").concat(C," ").concat("users"===i?j:y),children:[e.status&&e.status," "]});return(0,M.jsxs)("div",{className:N,children:[c,(0,M.jsxs)(de.OL,{to:"/messages/"+e.id,children:[" ",l," ",f," ",d," "]})]},e.id)}))]})},he=function(){var e=(0,p.I0)(),n=(0,p.v9)(m),t=(0,p.v9)(f),r=(0,p.v9)(l),a=(0,p.v9)(d),s=(0,p.v9)((function(e){return e.app.patch})),i=(0,p.v9)((function(e){return e.app.pageWidth}));return(0,M.jsxs)("div",{className:"my-4",children:[" ",(0,M.jsx)(pe,{users:n,unfollowAPI:function(n){e((0,h.Ow)(n,r))},followAPI:function(n){e((0,h.AC)(n,r))},followingInProgress:t,isAuth:a,patch:s,pageWidth:i})]})},ge=t(5870),xe=function(){console.log("===>>> UsersContainerFC ");var e=ge.PN.setDialog2InitialState,n=(0,p.v9)(l),t=(0,p.v9)(u),r=(0,p.v9)((function(e){return e.app.patch})),a=(0,p.v9)(v),s=(0,p.v9)((function(e){return e.usersPage.term})),i=(0,p.v9)((function(e){return e.dialog2.d2Item})),o=(0,p.I0)();(0,g.useEffect)((function(){o((0,h.Uk)())}),[o,a,s,n]),(0,g.useEffect)((function(){i.id&&o(e())}),[e,o,i]);var c=(0,M.jsxs)("div",{children:[" ",(0,M.jsxs)("div",{className:"d-flex justify-content-center opacity-50 mt-2 ",children:[" Total: ",t]}),(0,M.jsx)("div",{className:b})]}),f=(0,g.useMemo)((function(){return(0,M.jsx)($,{})}),[]),d=(0,g.useMemo)((function(){return(0,M.jsx)(fe,{})}),[]);return(0,M.jsxs)("div",{children:[(0,M.jsxs)("div",{className:"users"===r?"":k,children:[" ",(0,M.jsx)("h2",{className:I.Z.pageHeader,children:"\u0427\u0430\u0442\u044b"})," ","users"===r&&f," ",d," ","users"===r&&c," "]}),(0,M.jsx)(he,{})]})}},9603:function(e,n){n.Z={pageHeader:"common_pageHeader__q6GZ3",center:"common_center__il3qC",textMaxWidthCommon:"common_textMaxWidthCommon__Sc3Hi",textMaxWidthShort:"common_textMaxWidthShort__X1+BN",textMaxWidth18rem:"common_textMaxWidth18rem__Vv4xN",minwidth:"common_minwidth__MMj4g",cursorPointer:"common_cursorPointer__nfAEV",toCenter:"common_toCenter__rOaC2"}}}]);
//# sourceMappingURL=902.fb0e63eb.chunk.js.map