"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[91],{2091:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(5671),o=t(3144),u=t(136),s=t(2882),a=t(2791),i=t(8687),c=t(2938),l="Users_userPhoto__UooOC",f="Users_users__uG5mD",g="Users_inputFindUsers__KZpZG",h=t(6110),p=t(3504),d=t(885),v={selected:"Pagination_selected__cyt5G"},m=t(2056),C=t(184),P=function(e){for(var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,o=e.onPageChanged,u=e.PortionSize,s=void 0===u?10:u,i=e.currentRangeLocal,c=e.onChangeRangeLocal,l=(0,a.useState)(""),f=(0,d.Z)(l,2),g=f[0],h=f[1],p=Math.ceil(n/t),P=[],x=1;x<=p;x++)P.push(x);var y=1+s*(i-1),j=s*i,w=P.filter((function(e){return e>=y&&e<=j}));return(0,C.jsxs)("div",{children:[i>1?(0,C.jsx)("button",{onClick:function(){i>1&&c(-1)},children:"Prev"}):(0,C.jsx)("button",{disabled:!0,children:"Prev"}),(0,C.jsx)(m.j,{children:w.map((function(e,n){return(0,C.jsx)("span",{className:v.rangeList,onMouseLeave:function(){h(0)},onClick:function(){o(e)},onMouseOver:function(){h(e)},children:e===r||e===g?(0,C.jsxs)("span",{className:v.selected,children:[e," "]}):(0,C.jsxs)("span",{children:[e," "]})},n)}))}),(0,C.jsx)("button",{onClick:function(){i<Math.ceil(p/s)&&c(1)},children:"Next"})]})},x=t(4989),y=t(1083),j=function(e){var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,o=e.onPageChanged,u=e.users,s=e.followingInProgress,a=e.unfollowAPI,i=e.isAuth,c=e.followAPI,d=e.SetTermFunction,v=e.onChangeTerm,m=e.onChangeTermFunction,j=e.onChangeRangeLocal,w=e.currentRangeLocal,k=e.myID;x.d&&console.log("Users");try{var T=function(e){var n=e.u,t=e.followUnfollowAPICallback,r=e.buttonText;return(0,C.jsx)("span",{children:(0,C.jsxs)("button",{disabled:s.some((function(e){return e===n.id}))||n.id===k,onClick:function(){i?t(n.id):alert("You are not authorized, please Login")},children:[" ",r]})})},U=u.map((function(e){return(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{children:(0,C.jsx)(p.OL,{to:"/profile/"+e.id,children:(0,C.jsx)("img",{alt:"userPhoto",className:l,src:null!=e.photos.small?e.photos.small:h})})}),(0,C.jsxs)("div",{children:[" My FriendList:"," ",e.followed?(0,C.jsx)(T,{u:e,followUnfollowAPICallback:a,buttonText:"Remove"}):(0,C.jsx)(T,{u:e,followUnfollowAPICallback:c,buttonText:"Add"})]}),(0,C.jsxs)("div",{children:["Name: ",e.name]}),(0,C.jsx)("div",{children:e.status}),(0,C.jsx)("div",{children:e.id})]},e.id)}));return(0,C.jsxs)("div",{className:f,children:[(0,C.jsxs)("div",{children:[" Total users: ",n,"        "]}),(0,C.jsx)("div",{children:(0,C.jsx)(P,{totalUsersCount:n,pageSize:t,currentPage:r,onPageChanged:o,currentRangeLocal:w,onChangeRangeLocal:j})}),(0,C.jsxs)("form",{className:g,children:["  ",(0,C.jsx)("input",{value:v,onChange:function(e){m(e)},onBlur:d,placeholder:"find users",autoFocus:!0}),(0,C.jsx)("button",{onClick:function(e){e.preventDefault(),d()},children:"Find"})]}),(0,C.jsx)(y.Z,{child:U,height:window.screen.availHeight-312,firstInsideContainer:"UsersUp",secondInsideContainer:"UsersDown",containerElement:"UserContainer"})," "]})}catch(S){console.log(S)}},w=t(6922),k="NOT_FOUND";var T=function(e,n){return e===n};function U(e,n){var t="object"===typeof n?n:{equalityCheck:n},r=t.equalityCheck,o=void 0===r?T:r,u=t.maxSize,s=void 0===u?1:u,a=t.resultEqualityCheck,i=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,o=0;o<r;o++)if(!e(n[o],t[o]))return!1;return!0}}(o),c=1===s?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:k},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(i):function(e,n){var t=[];function r(e){var r=t.findIndex((function(t){return n(e,t.key)}));if(r>-1){var o=t[r];return r>0&&(t.splice(r,1),t.unshift(o)),o.value}return k}return{get:r,put:function(n,o){r(n)===k&&(t.unshift({key:n,value:o}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(s,i);function l(){var n=c.get(arguments);if(n===k){if(n=e.apply(null,arguments),a){var t=c.getEntries(),r=t.find((function(e){return a(e.value,n)}));r&&(n=r.value)}c.put(arguments,n)}return n}return l.clearCache=function(){return c.clear()},l}function S(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}function A(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var o=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var u,s=0,a={memoizeOptions:void 0},i=r.pop();if("object"===typeof i&&(a=i,i=r.pop()),"function"!==typeof i)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof i+"]");var c=a,l=c.memoizeOptions,f=void 0===l?t:l,g=Array.isArray(f)?f:[f],h=S(r),p=e.apply(void 0,[function(){return s++,i.apply(null,arguments)}].concat(g)),d=e((function(){for(var e=[],n=h.length,t=0;t<n;t++)e.push(h[t].apply(null,arguments));return u=p.apply(null,e)}));return Object.assign(d,{resultFunc:i,memoizedResultFunc:p,dependencies:h,lastResult:function(){return u},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),d};return o}var I=A(U),b=function(e){return e.usersPage.pageSize},L=function(e){return e.usersPage.totalUsersCount},F=function(e){return e.usersPage.currentPage},R=function(e){return e.usersPage.isFetching},z=function(e){return e.usersPage.followingInProgress},_=function(e){return e.auth.isAuth},D=I((function(e){return e.usersPage.users}),(function(e){return e})),N=function(e){(0,u.Z)(t,e);var n=(0,s.Z)(t);function t(e){var o;return(0,r.Z)(this,t),(o=n.call(this,e)).onChangeTermFunction=function(e){o.setState({onChangeTerm:e.currentTarget.value})},o.onChangeRangeLocal=function(e){o.setState({currentRangeLocal:o.state.currentRangeLocal+e})},o.SetTermFunction=function(){o.props.setTerm(o.state.onChangeTerm)},o.onPageChanged=function(e){var n=o.props,t=n.setCurrentPage,r=n.getUsersThunkCreator,u=n.pageSize,s=n.term;t(e),r(e,u,s)},o.followAPI=function(e){o.props.followThunkCreator(e,o.props.currentPage,o.props.pageSize,o.props.term)},o.unfollowAPI=function(e){o.props.unfollowThunkCreator(e,o.props.currentPage,o.props.pageSize,o.props.term)},o.state={onChangeTerm:o.props.term,currentRangeLocal:1},o}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getUsersThunkCreator)(e.currentPage,e.pageSize,e.term)}},{key:"componentDidUpdate",value:function(e,n,t){if(e.term!==this.props.term){this.props.setCurrentPage(1),this.setState({currentRangeLocal:1});var r=this.props;(0,r.getUsersThunkCreator)(1,r.pageSize,r.term)}}},{key:"render",value:function(){var e=this.props,n=e.isFetching,t=e.totalUsersCount,r=e.pageSize,o=e.currentPage,u=e.users,s=e.followingInProgress,a=e.isAuth;return(0,C.jsxs)(C.Fragment,{children:[n?(0,C.jsx)(w.Z,{}):null,(0,C.jsx)(j,{onPageChanged:this.onPageChanged,totalUsersCount:t,pageSize:r,currentPage:o,users:u,unfollowAPI:this.unfollowAPI,followAPI:this.followAPI,followingInProgress:s,isAuth:a,SetTermFunction:this.SetTermFunction,onChangeTerm:this.state.onChangeTerm,onChangeTermFunction:this.onChangeTermFunction,currentRangeLocal:this.state.currentRangeLocal,onChangeRangeLocal:this.onChangeRangeLocal,myID:this.props.myID})]})}}]),t}(a.Component),O=(0,i.$j)((function(e){return{users:D(e),pageSize:b(e),totalUsersCount:L(e),currentPage:F(e),isFetching:R(e),followingInProgress:z(e),isAuth:_(e),term:e.usersPage.term,myID:e.auth.myID}}),{setCurrentPage:c.D4,getUsersThunkCreator:c.Uk,followThunkCreator:c.AC,unfollowThunkCreator:c.Ow,setTerm:c.nS})(N),Z=function(){return(0,C.jsx)(O,{})}}}]);
//# sourceMappingURL=91.51ac6f0d.chunk.js.map