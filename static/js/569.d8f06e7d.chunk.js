"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[569],{8979:function(e,s,a){a(2791);s.Z=a.p+"static/media/send-svg2.12d8e771d6d27bcd4485de69966afd04.svg"},1569:function(e,s,a){a.r(s),a.d(s,{default:function(){return ie}});var t=a(2791),r=a(8687),i=a(5870),l="dialog2Messages2COM_dialog2Messages2Common__yrugD",n="dialog2Render_Fixed__yAlTJ",o="dialog2Render_dialog2HeaderCommon__YO-4Y",d="dialog2Render_dialog2ListCommon__ZMqFo",c="dialog2Render_MobileDialogWidth__ahAt-",g="dialog2Render_DesktopDialogWidth__zSxVR",h="dialog2Render_Dialog2ItemCardExt__LODJo",m="dialog2Render_Dialog2ItemCardInt__HQqPI",u="dialog2Render_Dialog2ItemCardName__zSixE",M="dialog2Render_Dialog2ItemCardId__A8R-f",x="dialog2Render_Dialog2ItemCardPhoto__jPmgw",_="dialog2Render_Dialog2ItemCardNewMsgCnt__TrWvv",D="dialog2Render_Dialog2ItemCardMsgTime__2bCd+",p=a(6110),f=a(1087),v=a(184),j=function(e){var s=e.userName,a=e.hasNewMessages,t=e.photos,r=e.lastDialogActivityDate,i=e.newMessagesCount,l=e.id;return(0,v.jsx)("div",{className:h,children:(0,v.jsx)(f.OL,{to:"/messages/"+l,children:(0,v.jsxs)("div",{className:m,children:[(0,v.jsx)("div",{className:u,children:s}),"   ",(0,v.jsx)("div",{className:M,children:l}),"   ",a&&(0,v.jsx)("div",{className:_,children:i})," ",(0,v.jsx)("img",{src:t.small?t.small:p,className:x,alt:"CardPhoto"})," ",(0,v.jsx)("div",{className:D,children:r.slice(11,16)})]})})})},I=t.memo(j),N=function(e){var s=e.PageWidth,a=e.MobileWidth,t=e.patch,r=e.Dialog2All,i=[];return(0,v.jsx)("div",{children:("messages"===t&&s>a||"dialog2"===t)&&(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"".concat(n," ").concat(o," ").concat(s<a?c:g),children:" \u043f\u043e\u0438\u0441\u043a, \u0431\u0435\u0437 \u043a\u043d\u043e\u043f\u043a\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c, \u0441 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u043f\u043e\u0441\u043b\u0435 \u0432\u0432\u043e\u0434\u0430."}),(0,v.jsx)("div",{className:"".concat(n," ").concat(d," ").concat(s<a?c:g),children:r.map((function(e){var s=e.id,a=e.userName,t=e.hasNewMessages,r=e.lastDialogActivityDate,l=e.newMessagesCount,n=e.photos;return i.includes(s)?(0,v.jsx)("div",{}):(i.push(s),(0,v.jsx)(I,{userName:a,hasNewMessages:t,photos:n,lastDialogActivityDate:r,newMessagesCount:l,id:s},s))}))})]})})},T=t.memo(N),b="messages2Render_Fixed__baHQ8",C="messages2Render_messages2NameAndProfileLink__gsVN6",w="messages2Render_messages2ChooseDialog__JKbif",A="messages2Render_messages2RenderMessages__Ebe0U",R="messages2Render_messages2PrintMessage__dhozP",Z="messages2Render_MobileMessagesLeft__6JOQ+",S="messages2Render_DesktopMessagesLeft__rsM5T",W="messages2Render_Msg2HeaderName__Mw++x",y="messages2Render_Msg2Headerid__UXsSw",k="messages2Render_Msg2HeaderPhoto__XGI9W",P="messages2Render_Msg2HeaderActivityDate__ZWTOr",U=function(e){var s=e.id,a=e.body,t=e.Msg2DeleteMessage,r=(e.addedAt,e.senderId,e.senderName,e.recipientId);e.recipientName,e.viewed;return console.log("Messages2Item"),(0,v.jsxs)("div",{children:[(0,v.jsx)("span",{onClick:function(){t(s)},children:a})," ","- ",(0,v.jsx)("span",{children:r})]})},E=t.memo(U),L=a(5705),F=a(1724),H=a(6670),O=a(3360),G=a(2592),$=a(8979),B="MessagesFormik_sendSwg__TECWd",V={newMessage:""},z=F.Ry({}),J=function(e){var s=e.Msg2SendMessage,a=e.MSG2ScrollBottom;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(L.J9,{initialValues:V,validationSchema:z,onSubmit:function(e,t){var r=t.resetForm;s(e.newMessage),r(),a()},children:function(e){e.handleReset;var s=e.values;return(0,v.jsx)(L.l0,{children:(0,v.jsxs)("div",{className:"d-flex d-inline-block justify-content-center align-items-center",children:[(0,v.jsx)("div",{className:"col-9",children:(0,v.jsx)(H.rZ,{label:"",autoFocus:!1,name:"newMessage",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",leftLabelLength:""})}),(0,v.jsx)("div",{children:(0,v.jsx)(O.Z,{variant:"light",className:"mx-2",type:"submit",disabled:!s.newMessage,children:(0,v.jsx)(G.Z,{src:$.Z,className:B,alt:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",title:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})})})]})})}})})},q=t.memo(J),Q=function(e){e.Dialog2All,e.userId;var s=e.D2Item,a=s&&s.photos&&s.photos.small?s.photos.small:p;return(0,v.jsx)("div",{children:s&&(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:W,children:s&&s.userName}),(0,v.jsx)("div",{className:y,children:s&&s.id}),(0,v.jsx)("img",{className:k,src:a,alt:"photoSrc"}),(0,v.jsxs)("div",{className:P,children:["\u0411\u044b\u043b(\u0430): "," ",s&&s.lastUserActivityDate&&s.lastUserActivityDate.slice(0,10)]})]})})},X=t.memo(Q),Y=function(e){var s=e.PageWidth,a=e.MobileWidth,t=e.patch,r=e.MessagesNewerThen,i=e.Msg2DeleteMessage,l=e.Msg2SendMessage,n=e.Dialog2All,o=e.userId,d=e.D2Item,c=e.MSG2ScrollBottom;return(0,v.jsxs)("div",{children:["dialog2"===t&&s>a&&(0,v.jsx)("div",{className:"".concat(b," ").concat(w),children:" \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433"}),"messages"===t&&(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"".concat(b," ").concat(C," ").concat(s<a?Z:S),children:(0,v.jsx)(X,{Dialog2All:n,userId:o,D2Item:d})}),(0,v.jsxs)("div",{className:"".concat(b," ").concat(A," ").concat(s<a?Z:S),children:[r.map((function(e){var s=e.id,a=e.body,t=e.addedAt,r=e.senderId,l=e.senderName,n=e.recipientId,o=e.recipientName,d=e.viewed;return(0,v.jsx)(E,{id:s,body:a,Msg2DeleteMessage:i,addedAt:t,senderId:r,senderName:l,recipientId:n,recipientName:o,viewed:d},s)})),(0,v.jsx)("br",{}),(0,v.jsx)("div",{className:"second-block"})," "]}),(0,v.jsx)("div",{className:"".concat(b," ").concat(R," ").concat(s<a?Z:S),children:(0,v.jsx)(q,{Msg2SendMessage:l,MSG2ScrollBottom:c})})]})]})},K=function(e){var s=e.patch,a=e.PageWidth,t=e.MobileWidth,r=e.Dialog2All,i=e.MessagesNewerThen,n=e.Msg2DeleteMessage,o=e.Msg2SendMessage,d=e.userId,c=e.D2Item,g=e.MSG2ScrollBottom;return(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)(T,{PageWidth:a,MobileWidth:t,patch:s,Dialog2All:r}),(0,v.jsx)(Y,{PageWidth:a,MobileWidth:t,patch:s,MessagesNewerThen:i,Msg2DeleteMessage:n,Msg2SendMessage:o,Dialog2All:r,userId:d,D2Item:c,MSG2ScrollBottom:g})]})},ee=a(7781),se=a(1852),ae=a(3990),te=i.rP.setD2UserId,re=i.rP.setD2Item,ie=(0,ee.qC)((0,r.$j)((function(e){return{patch:e.app.patch,PageWidth:e.app.PageWidth,MobileWidth:e.app.MobileWidth,Dialog2All:e.dialog2.Dialog2All,MessagesNewerThen:e.dialog2.MessagesNewerThen,d2UserId:e.dialog2.d2UserId,D2Item:e.dialog2.D2Item}}),{putDialog2StartThCr:i.H3,getDialog2AllThCr:i.sz,postDialog2MessageThCr:i.D9,getDialog2MessageIdViewedThCr:i.xX,postDialog2MessageIdToSpamThCr:i.ho,deleteDialog2MessageIdThCr:i.fv,putDialog2MessageIdRestoreThCr:i.HY,getDialog2MessagesNewerThenThCr:i.vu,getDailog2UnreadMessagesThCr:i.mO,setD2UserId:te,setD2Item:re}),se.Z,ae.Z)((function(e){var s=e.putDialog2StartThCr,a=e.getDialog2AllThCr,r=e.postDialog2MessageThCr,i=(e.getDialog2MessageIdViewedThCr,e.postDialog2MessageIdToSpamThCr,e.deleteDialog2MessageIdThCr),l=(e.putDialog2MessageIdRestoreThCr,e.getDialog2MessagesNewerThenThCr),n=(e.getDailog2UnreadMessagesThCr,e.patch),o=e.PageWidth,d=e.MobileWidth,c=e.Dialog2All,g=e.userId,h=e.MessagesNewerThen,m=e.setD2UserId,u=e.d2UserId,M=e.setD2Item,x=e.D2Item,_=(0,t.useCallback)((function(e){i(e,u,"2022-04-30T19:10:31.843")}),[u]);(0,t.useEffect)((function(){0!==g&&(console.log("\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0438\u0437 URL \u0432 \u0441\u0442\u0435\u0439\u0442 userId"),m(g))}),[g]),(0,t.useEffect)((function(){0!==u&&x.id!==u&&(console.log("\u041e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c setD2Item \u043f\u0440\u0438 \u0441\u043c\u0435\u043d\u0435 d2UserId"),M(u))}),[u,M]),(0,t.useEffect)((function(){x||(console.log("\u041e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c setD2Item \u0435\u0441\u043b\u0438 !D2Item"),M(u))}),[x,u,c,M]),(0,t.useEffect)((function(){"dialog2"===n&&(console.log("useEffect \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b dialog"),a(u,1,10))}),[n]),(0,t.useEffect)((function(){"messages"===n&&(console.log("useEffect \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u0441\u043c\u0435\u043d\u0435 d2UserId"),l(u,"2022-04-30T19:10:31.843"))}),[u,n]),(0,t.useEffect)((function(){"messages"===n&&(console.log("useEffect \u043d\u0430\u0447\u0430\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433 \u043f\u0440\u0438 \u043f\u0440\u044f\u043c\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0435 \u0438 \u043f\u0435\u0440\u0432\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435"),s(g))}),[]);var D=document.querySelector(".second-block");return(0,v.jsx)("div",{children:(0,v.jsx)(K,{patch:n,PageWidth:o,MobileWidth:d,Dialog2All:c,MessagesNewerThen:h,Msg2DeleteMessage:_,Msg2SendMessage:function(e){r(u,e,"2022-04-30T19:10:31.843")},userId:g,D2Item:x,MSG2ScrollBottom:function(){D&&D.scrollIntoView(!0)}})})}))},6670:function(e,s,a){a.d(s,{$m:function(){return x},rZ:function(){return M}});var t=a(1413),r=a(9439),i=a(5987),l=a(5705),n={errorInputTextArea:"formik1_errorInputTextArea__vpmAv",errorText:"formik1_errorText__eDWui",labelWidth:"formik1_labelWidth__cwal9"},o=(a(7632),a(9410)),d=a(5313),c=a(184),g=["label","children"],h=["label","autoFocus","type","leftLabelLength"],m=["children"],u=function(e){e.label;var s=e.children,a=(0,i.Z)(e,g),t=(0,l.U$)(a.props),o=(0,r.Z)(t,1)[0];return(0,c.jsxs)(c.Fragment,{children:[s," ",o.touched&&o.error&&(0,c.jsx)("div",{className:n.errorText,children:o.error})," "]})},M=function(e){var s=e.label,a=e.autoFocus,g=e.type,m=e.leftLabelLength,M=(0,i.Z)(e,h),x=(0,l.U$)(M),_=(0,r.Z)(x,2),D=_[0],p=_[1];return(0,c.jsxs)(u,{label:s,props:M,children:[" ",(0,c.jsxs)(o.Z,{className:"my-1",size:"sm",children:[" ",m&&(0,c.jsxs)(o.Z.Text,{id:s,className:n.labelWidth,style:{width:m},children:[s,":"]}),(0,c.jsx)(d.Z.Control,(0,t.Z)((0,t.Z)((0,t.Z)({as:"textarea"===g?g:"input",type:"password"===g?g:void 0,className:p.touched&&p.error?n.errorInputTextArea:n.inputTextArea},D),M),{},{autoFocus:a}))]}),(0,c.jsx)("div",{className:n.errorText,children:p.touched&&p.error})]})},x=function(e){var s=e.children,a=(0,i.Z)(e,m),o=(0,l.U$)((0,t.Z)((0,t.Z)({},a),{},{type:"checkbox"})),d=(0,r.Z)(o,2),g=d[0],h=d[1];return(0,c.jsxs)("div",{children:[(0,c.jsxs)("label",{className:"checkbox-input",children:[(0,c.jsx)("input",(0,t.Z)((0,t.Z)({type:"checkbox"},g),a))," ",s]}),h.touched&&h.error&&(0,c.jsx)("div",{className:n.errorText,children:h.error})]})}},3990:function(e,s,a){var t=a(1413),r=(a(2791),a(8687)),i=a(7689),l=a(184),n=function(e){return{isAuth:e.auth.isAuth}};s.Z=function(e){return(0,r.$j)(n,null)((function(s){return s.isAuth?(0,l.jsx)(e,(0,t.Z)({},s)):(0,l.jsx)(i.Fg,{to:"../login"})}))}},1852:function(e,s,a){var t=a(1413),r=(a(2791),a(7689)),i=a(8687),l=a(184);s.Z=function(e){return(0,i.$j)(null,null)((function(s){var a={params:(0,r.UO)()},i=Number(a.params["*"]);return(0,l.jsx)(e,(0,t.Z)((0,t.Z)({},s),{},{userId:i}))}))}}}]);
//# sourceMappingURL=569.d8f06e7d.chunk.js.map