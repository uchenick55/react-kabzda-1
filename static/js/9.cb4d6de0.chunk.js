"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[9],{5009:function(e,n,r){r.r(n),r.d(n,{default:function(){return Me}});var t=r(5671),a=r(3144),s=r(136),o=r(7277),i=r(2791),l=r(8687),c=r(5732),u=r(9439),d="Users_userPhoto__5FOrl",f="Users_line__EXs9E",g="Users_favImage__Fih2I",h="Users_myCol__c9t1g",p="Users_myImg__dQ1cN",m="Users_myCard__CAJcm",v=(r(7632),r(1413)),x=r(5987),y=r(1694),C=r.n(y),P=r(162),j=r(6445),Z=r(184),N=["active","disabled","className","style","activeLabel","children"],w=["children"],b=i.forwardRef((function(e,n){var r=e.active,t=e.disabled,a=e.className,s=e.style,o=e.activeLabel,i=e.children,l=(0,x.Z)(e,N),c=r||t?"span":j.Z;return(0,Z.jsx)("li",{ref:n,style:s,className:C()(a,"page-item",{active:r,disabled:t}),children:(0,Z.jsxs)(c,(0,v.Z)((0,v.Z)({className:"page-link"},l),{},{children:[i,r&&o&&(0,Z.jsx)("span",{className:"visually-hidden",children:o})]}))})}));b.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},b.displayName="PageItem";var F=b;function k(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,t=i.forwardRef((function(e,t){var a=e.children,s=(0,x.Z)(e,w);return(0,Z.jsxs)(b,(0,v.Z)((0,v.Z)({},s),{},{ref:t,children:[(0,Z.jsx)("span",{"aria-hidden":"true",children:a||n}),(0,Z.jsx)("span",{className:"visually-hidden",children:r})]}))}));return t.displayName=e,t}var I=k("First","\xab"),T=k("Prev","\u2039","Previous"),A=k("Ellipsis","\u2026","More"),S=k("Next","\u203a"),L=k("Last","\xbb"),R=["bsPrefix","className","size"],U=i.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,a=e.size,s=(0,x.Z)(e,R),o=(0,P.vE)(r,"pagination");return(0,Z.jsx)("ul",(0,v.Z)((0,v.Z)({ref:n},s),{},{className:C()(t,o,a&&"".concat(o,"-").concat(a))}))}));U.displayName="Pagination";var _=Object.assign(U,{First:I,Prev:T,Ellipsis:A,Item:F,Next:S,Last:L}),z="Pagination_pagination__utrCy",O=function(e){for(var n=e.totalUsersCount,r=e.pageSize,t=e.currentPage,a=e.onPageChanged,s=e.PortionSize,o=void 0===s?6:s,i=e.currentRangeLocal,l=e.onChangeRangeLocal,c=Math.ceil(n/r),u=[],d=1;d<=c;d++)u.push(d);var f=1+o*(i-1),g=o*i,h=u.filter((function(e){return e>=f&&e<=g})),p=function(e){"prevPortion"===e&&i>1&&l(-1),"nextPortion"===e&&l(1)},m=h.map((function(e){return(0,Z.jsxs)(_.Item,{active:e===t,onClick:function(){a(e)},children:[e," "]},e)}));return(0,Z.jsx)("div",{className:z,children:(0,Z.jsxs)(_,{className:"pagination align-items-center justify-content-center",children:[" ",(0,Z.jsx)(_.Prev,{onClick:function(){p("prevPortion")}})," ",m," ",(0,Z.jsx)(_.Next,{onClick:function(){p("nextPortion")}}),"  "]})})},E=r(4266),M=r(5313),D=r(3360),H=r(9410),B=r(2592);var W=r.p+"static/media/star+.8f12c1f646656dcb9d3b823059f13349.svg",q=function(e){var n=e.onChangeTerm,r=e.onChangeTermFunction,t=e.SetTermFunction,a=e.handleClick,s=e.setOnlyFriends,o=e.onlyFriends;return(0,Z.jsx)("div",{children:(0,Z.jsx)(M.Z,{children:(0,Z.jsxs)(E.Z,{direction:"horizontal",gap:3,className:"mx-1",children:[(0,Z.jsxs)(H.Z,{children:[(0,Z.jsx)(H.Z.Text,{children:(0,Z.jsx)(B.Z,{fluid:!0,src:W,className:g})}),(0,Z.jsx)(H.Z.Checkbox,{checked:o,onChange:function(e){e&&e.target&&s(e.target.checked)}}),(0,Z.jsx)(M.Z.Control,{type:"text",value:n,onChange:function(e){r(e)},onBlur:t,placeholder:"find users..."})," "]}),(0,Z.jsx)("div",{className:"vr"})," ",(0,Z.jsx)(D.Z,{onClick:a,type:"submit",children:"Find"})]})})})},J=r(7022),Q=r(9743),X=r(9603),Y=r(6543),$=r(7472),G=["bsPrefix","className","variant","as"],K=i.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,a=e.variant,s=e.as,o=void 0===s?"img":s,i=(0,x.Z)(e,G),l=(0,P.vE)(r,"card-img");return(0,Z.jsx)(o,(0,v.Z)({ref:n,className:C()(a?"".concat(l,"-").concat(a):l,t)},i))}));K.displayName="CardImg";var V=K,ee=i.createContext(null);ee.displayName="CardHeaderContext";var ne=ee,re=["bsPrefix","className","as"],te=i.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,a=e.as,s=void 0===a?"div":a,o=(0,x.Z)(e,re),l=(0,P.vE)(r,"card-header"),c=(0,i.useMemo)((function(){return{cardHeaderBsPrefix:l}}),[l]);return(0,Z.jsx)(ne.Provider,{value:c,children:(0,Z.jsx)(s,(0,v.Z)((0,v.Z)({ref:n},o),{},{className:C()(t,l)}))})}));te.displayName="CardHeader";var ae=te,se=["bsPrefix","className","bg","text","border","body","children","as"],oe=(0,$.Z)("h5"),ie=(0,$.Z)("h6"),le=(0,Y.Z)("card-body"),ce=(0,Y.Z)("card-title",{Component:oe}),ue=(0,Y.Z)("card-subtitle",{Component:ie}),de=(0,Y.Z)("card-link",{Component:"a"}),fe=(0,Y.Z)("card-text",{Component:"p"}),ge=(0,Y.Z)("card-footer"),he=(0,Y.Z)("card-img-overlay"),pe=i.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,a=e.bg,s=e.text,o=e.border,i=e.body,l=e.children,c=e.as,u=void 0===c?"div":c,d=(0,x.Z)(e,se),f=(0,P.vE)(r,"card");return(0,Z.jsx)(u,(0,v.Z)((0,v.Z)({ref:n},d),{},{className:C()(t,f,a&&"bg-".concat(a),s&&"text-".concat(s),o&&"border-".concat(o)),children:i?(0,Z.jsx)(le,{children:l}):l}))}));pe.displayName="Card",pe.defaultProps={body:!1};var me=Object.assign(pe,{Img:V,Title:ce,Subtitle:ue,Body:le,Link:de,Text:fe,Header:ae,Footer:ge,ImgOverlay:he}),ve=r(2677),xe=r(1087),ye=r(6110);var Ce=r.p+"static/media/dialog-svgrepo-com.299239adca60e0536c40a6aea5f6fee4.svg";var Pe=r.p+"static/media/star-.0741470d42a207292c915853e443c7c4.svg",je=function(e){var n=e.u,r=e.followUnfollowAPICallback,t=e.followingInProgress,a=e.isAuth,s=t.some((function(e){return e===n.id}));return(0,Z.jsx)("span",{children:(0,Z.jsx)(B.Z,{className:p,fluid:!0,src:n.followed?W:Pe,alt:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",onClick:function(){s||(a?r(n.id):alert("You are not authorized, please Login"))}})})},Ze=function(e){var n=e.users,r=e.unfollowAPI,t=e.followAPI,a=e.followingInProgress,s=e.isAuth;return(0,Z.jsx)("div",{children:n.map((function(e){return(0,Z.jsxs)("div",{className:"my-2 col-12 col-sm-5 col-lg-2 d-inline-block",children:[" ",(0,Z.jsxs)(me,{className:m,children:["  ",(0,Z.jsxs)(me.Body,{children:[(0,Z.jsx)(me.Title,{className:"".concat(X.Z.textMaxWidthCommon," ").concat(X.Z.textMaxWidth8rem),children:e.name})," ",(0,Z.jsxs)(Q.Z,{children:[(0,Z.jsx)(ve.Z,{className:h,children:(0,Z.jsxs)(xe.OL,{to:"/profile/"+e.id,children:[" ",(0,Z.jsx)(B.Z,{fluid:!0,className:d,src:null!==e.photos.small?e.photos.small:ye,alt:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})]})}),(0,Z.jsx)(ve.Z,{className:h,children:(0,Z.jsxs)(xe.OL,{to:"/dialogs/"+e.id,children:["  ",(0,Z.jsx)(B.Z,{fluid:!0,src:Ce,alt:"\u041d\u0430\u0447\u0430\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433",title:"\u041d\u0430\u0447\u0430\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433",className:p})]})}),(0,Z.jsx)(ve.Z,{className:h,children:(0,Z.jsx)("div",{children:e.followed?(0,Z.jsx)(je,{u:e,followUnfollowAPICallback:r,followingInProgress:a,isAuth:s}):(0,Z.jsx)(je,{u:e,followUnfollowAPICallback:t,followingInProgress:a,isAuth:s})})})]}),(0,Z.jsx)(Q.Z,{className:"".concat(X.Z.textMaxWidthCommon," ").concat(X.Z.textMaxWidth8rem),children:e.status&&(0,Z.jsx)("div",{children:e.status})})]})]})]},e.id)}))})},Ne=function(e){var n=e.totalUsersCount,r=e.pageSize,t=e.currentPage,a=e.onPageChanged,s=e.users,o=e.followingInProgress,l=e.unfollowAPI,c=e.isAuth,d=e.followAPI,g=e.SetTermFunction,h=e.onChangeTerm,p=e.onChangeTermFunction,m=e.onChangeRangeLocal,v=e.currentRangeLocal,x=e.setOnlyFriends,y=e.onlyFriends,C=(0,i.useState)({message:""}),P=(0,u.Z)(C,2),j=P[0],N=P[1];if(j.message)return j.message;try{var w=(0,Z.jsxs)(Q.Z,{className:"mt-3",children:[" ",(0,Z.jsx)(O,{totalUsersCount:n,pageSize:r,currentPage:t,onPageChanged:a,currentRangeLocal:v,onChangeRangeLocal:m})]}),b=(0,Z.jsx)(q,{onChangeTerm:h,onChangeTermFunction:p,SetTermFunction:g,handleClick:function(e){e.preventDefault(),g()},setOnlyFriends:x,onlyFriends:y}),F=(0,Z.jsxs)(Q.Z,{children:[" ",(0,Z.jsxs)("div",{className:"d-flex justify-content-center opacity-50 mt-2 ",children:[" Total: ",n]}),(0,Z.jsx)("div",{className:f})]}),k=(0,Z.jsxs)(Q.Z,{children:[" ",(0,Z.jsx)(Ze,{users:s,unfollowAPI:l,followAPI:d,followingInProgress:o,isAuth:c})," "]});return(0,Z.jsx)("div",{children:(0,Z.jsxs)(J.Z,{fluid:!0,className:"d-block justify-content-center",children:[(0,Z.jsx)("h2",{className:X.Z.pageHeader,children:"Users"})," ",w,b," ",F," ",k,w]})})}catch(j){N(j)}},we=r(8570),be="NOT_FOUND";var Fe=function(e,n){return e===n};function ke(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,a=void 0===t?Fe:t,s=r.maxSize,o=void 0===s?1:s,i=r.resultEqualityCheck,l=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,a=0;a<t;a++)if(!e(n[a],r[a]))return!1;return!0}}(a),c=1===o?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:be},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(l):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var a=r[t];return t>0&&(r.splice(t,1),r.unshift(a)),a.value}return be}return{get:t,put:function(n,a){t(n)===be&&(r.unshift({key:n,value:a}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(o,l);function u(){var n=c.get(arguments);if(n===be){if(n=e.apply(null,arguments),i){var r=c.getEntries().find((function(e){return i(e.value,n)}));r&&(n=r.value)}c.put(arguments,n)}return n}return u.clearCache=function(){return c.clear()},u}function Ie(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];var s,o=0,i={memoizeOptions:void 0},l=t.pop();if("object"===typeof l&&(i=l,l=t.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var c=i.memoizeOptions,u=void 0===c?r:c,d=Array.isArray(u)?u:[u],f=function(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}(t),g=e.apply(void 0,[function(){return o++,l.apply(null,arguments)}].concat(d)),h=e((function(){for(var e=[],n=f.length,r=0;r<n;r++)e.push(f[r].apply(null,arguments));return s=g.apply(null,e)}));return Object.assign(h,{resultFunc:l,memoizedResultFunc:g,dependencies:f,lastResult:function(){return s},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),h}}var Te=Ie(ke),Ae=function(e){return e.usersPage.pageSize},Se=function(e){return e.usersPage.totalUsersCount},Le=function(e){return e.usersPage.currentPage},Re=function(e){return e.usersPage.isFetching},Ue=function(e){return e.usersPage.followingInProgress},_e=function(e){return e.auth.isAuth},ze=function(e){return e.usersPage.onlyFriends},Oe=Te((function(e){return e.usersPage.users}),(function(e){return e})),Ee=function(e){(0,s.Z)(r,e);var n=(0,o.Z)(r);function r(e){var a;return(0,t.Z)(this,r),(a=n.call(this,e)).onChangeTermFunction=function(e){a.setState({onChangeTerm:e.currentTarget.value})},a.onChangeRangeLocal=function(e){a.setState({currentRangeLocal:a.state.currentRangeLocal+e})},a.SetTermFunction=function(){a.props.setTerm(a.state.onChangeTerm)},a.onPageChanged=function(e){var n=a.props,r=n.setCurrentPage,t=n.getUsersThunkCreator,s=n.pageSize,o=n.term,i=n.onlyFriends;r(e),t(e,s,o,i,0)},a.followAPI=function(e){a.props.followThunkCreator(e,a.props.currentPage,a.props.pageSize,a.props.term,a.props.onlyFriends)},a.unfollowAPI=function(e){a.props.unfollowThunkCreator(e,a.props.currentPage,a.props.pageSize,a.props.term,a.props.onlyFriends)},a.state={onChangeTerm:a.props.term,currentRangeLocal:1},a}return(0,a.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getUsersThunkCreator)(e.currentPage,e.pageSize,e.term,e.onlyFriends,0)}},{key:"componentDidUpdate",value:function(e,n){if(e.term!==this.props.term||e.onlyFriends!==this.props.onlyFriends){this.props.setCurrentPage(1),this.setState({currentRangeLocal:1});var r=this.props;(0,r.getUsersThunkCreator)(1,r.pageSize,r.term,r.onlyFriends,0)}}},{key:"render",value:function(){var e=this.props,n=e.isFetching,r=e.totalUsersCount,t=e.pageSize,a=e.currentPage,s=e.users,o=e.followingInProgress,i=e.isAuth;return(0,Z.jsxs)(Z.Fragment,{children:[" ",n&&(0,Z.jsx)(we.Z,{}),(0,Z.jsx)(Ne,{onPageChanged:this.onPageChanged,totalUsersCount:r,pageSize:t,currentPage:a,users:s,unfollowAPI:this.unfollowAPI,followAPI:this.followAPI,followingInProgress:o,isAuth:i,SetTermFunction:this.SetTermFunction,onChangeTerm:this.state.onChangeTerm,onChangeTermFunction:this.onChangeTermFunction,currentRangeLocal:this.state.currentRangeLocal,onChangeRangeLocal:this.onChangeRangeLocal,setOnlyFriends:this.props.setOnlyFriends,onlyFriends:this.props.onlyFriends})]})}}]),r}(i.Component),Me=(0,l.$j)((function(e){return{users:Oe(e),pageSize:Ae(e),totalUsersCount:Se(e),currentPage:Le(e),isFetching:Re(e),followingInProgress:Ue(e),isAuth:_e(e),term:e.usersPage.term,myId:e.auth.myId,onlyFriends:ze(e)}}),{setCurrentPage:c.D4,getUsersThunkCreator:c.Uk,followThunkCreator:c.AC,unfollowThunkCreator:c.Ow,setTerm:c.nS,setOnlyFriends:c.F3})(Ee)}}]);
//# sourceMappingURL=9.cb4d6de0.chunk.js.map