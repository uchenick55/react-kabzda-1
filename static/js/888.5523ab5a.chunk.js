"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[888],{6888:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var o=n(7781),i=n(8687),r=n(81),l=n(1852),s=n(3990),a=n(2791),u="photo_profilePhotoIMG__mxxH2",c="photo_FileUploadInt__yz31V",d=n(9603),f=n(2592),v=n(5313),m=n(184),h=function(e){var t=e.photo,n=e.isMyProfile,o=e.onChangeLocal;return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:d.Z.toCenter,children:(0,m.jsx)(f.Z,{fluid:!0,alt:"userPhoto",className:"".concat(u," "),src:t})}),n&&(0,m.jsx)("div",{children:(0,m.jsx)(v.Z.Control,{type:"file",onChange:o,className:c})})]})},p=n(6110),x=function(){var e;console.log("PhotoContainer");var t=(0,i.I0)(),n=(0,i.v9)((function(e){return e.profilePage.profile})),o=(0,i.v9)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.userId})),l=(0,i.v9)((function(e){return e.auth.myId})),s=null!==n&&void 0!==n&&null!==(e=n.photos)&&void 0!==e&&e.large?n.photos.large:p,a=o===l;return(0,m.jsx)(h,{photo:s,isMyProfile:a,onChangeLocal:function(e){e.target&&e.target.files&&e.target.files.length>0&&t((0,r.Yr)(e.target.files[0]))}})},j=n(9439),g=n(5705),P=n(1724),b={HeaderEditProfileForm:"EditProfile_HeaderEditProfileForm__+ggeL",EditProfile:"EditProfile_EditProfile__KCw4z",EditProfileContactsFields:"EditProfile_EditProfileContactsFields__9QV1r",errorText:"EditProfile_errorText__piK3h"},E=n(6670),y=n(3360),Z=P.Ry({}),C=function(e){var t=e.putProfile,n=e.setEditMode,o=e.profile,i=e.editProfileStatus,r=e.setEditProfileStatus,l={FullName:null===o||void 0===o?void 0:o.fullName,AboutMe:null===o||void 0===o?void 0:o.aboutMe,LookingForAJob:null===o||void 0===o?void 0:o.lookingForAJob,LookingForAJobDescription:null===o||void 0===o?void 0:o.lookingForAJobDescription,contacts:null===o||void 0===o?void 0:o.contacts};return a.createElement(g.J9,{initialValues:l,validationSchema:Z,onSubmit:function(e,n){var o=n.resetForm;t(e),o()}},(function(e){var t=e.handleReset;return a.createElement(g.l0,{className:b.MyPosts},a.createElement("div",{},a.createElement("div",{className:b.HeaderEditProfileForm},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"),a.createElement(E.rZ,{label:"\u0418\u043c\u044f",autoFocus:!1,name:"FullName",type:"text",placeholder:"\u0418\u043c\u044f",leftLabelLength:"5rem"}),a.createElement(E.rZ,{label:"\u041e\u0431\u043e \u043c\u043d\u0435",autoFocus:!1,name:"AboutMe",type:"text",placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",leftLabelLength:"5rem"}),a.createElement(E.$m,{name:"LookingForAJob"},"\u0432 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b"),a.createElement(E.rZ,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",autoFocus:!1,name:"LookingForAJobDescription",type:"textarea",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",leftLabelLength:"5rem"}),a.createElement("h4",{},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),a.createElement("div",{className:b.EditProfileContactsFields},(null===o||void 0===o?void 0:o.contacts)&&Object.keys(null===o||void 0===o?void 0:o.contacts).map((function(e){return a.createElement("div",{key:e},a.createElement(E.rZ,{label:e,autoFocus:!1,name:"contacts["+e+"]",type:"text",placeholder:e,leftLabelLength:"5rem"}),a.createElement("div",{},i.map((function(t){return t.toLowerCase().includes(e.toLowerCase())?a.createElement("div",{key:t,className:b.errorText},t):null}))))}))),a.createElement("br"),a.createElement(y.Z,{type:"button",variant:"warning",onClick:function(){t(),r([])}},"\u0421\u0431\u0440\u043e\u0441")," ",a.createElement(y.Z,{type:"submit"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")," ",a.createElement(y.Z,{variant:"secondary",onClick:function(){n(!1),r([])}},"\u041e\u0442\u043c\u0435\u043d\u0430")))}))},k=(n(7632),function(e){var t=e.key1,n=e.Value;return(0,m.jsxs)("div",{children:[(0,m.jsxs)("b",{children:[t,": "]})," ",(0,m.jsx)("span",{title:n,children:n})]})}),_=(0,a.memo)((function(e){var t=e.profile,n=e.setEditMode,o=e.isMyProfile;return(0,m.jsxs)("div",{className:"".concat(d.Z.textMaxWidthCommon," "),children:[" ",(0,m.jsx)("h3",{title:null===t||void 0===t?void 0:t.fullName,children:null===t||void 0===t?void 0:t.fullName}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),": ",(0,m.jsxs)("span",{title:null===t||void 0===t?void 0:t.aboutMe,children:[" ",null===t||void 0===t?void 0:t.aboutMe]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b?"})," ",(0,m.jsx)("span",{title:null!==t&&void 0!==t&&t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442",children:null!==t&&void 0!==t&&t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"})," ",(0,m.jsx)("span",{title:null===t||void 0===t?void 0:t.lookingForAJobDescription,children:null===t||void 0===t?void 0:t.lookingForAJobDescription})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"userId:"})," ",(0,m.jsx)("span",{title:null===t||void 0===t?void 0:t.userId.toString(),children:null===t||void 0===t?void 0:t.userId})," "]}),(0,m.jsx)("ul",{children:t&&Object.keys(t.contacts).map((function(e,n){var o=Object.values(t.contacts)[n];return(0,m.jsxs)("li",{children:[(0,m.jsx)(k,{key1:e,Value:o})," "]},e)}))}),o&&(0,m.jsx)(y.Z,{onClick:function(){n(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c "})]})})),I=(0,a.memo)((function(e){var t=e.profile,n=e.isMyProfile,o=e.putProfile,i=e.editProfileStatus,r=e.setEditProfileStatus,l=e.isProfileEditedSuccesssfully;console.log("ProfileInfo");var s=(0,a.useState)(!1),u=(0,j.Z)(s,2),c=u[0],f=u[1];(0,a.useEffect)((function(){l&&(f(!1),setTimeout((function(){r([])}),2e3))}),[i,l,r]);var v=(0,m.jsx)(_,{profile:t,setEditMode:f,isMyProfile:n}),h=(0,m.jsx)(C,{putProfile:o,setEditMode:f,profile:t,editProfileStatus:i,setEditProfileStatus:r});return(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:d.Z.pageHeader,children:"Profile"})," ",!c&&v," ",c&&h," "]})})),F=function(){console.log("ProfileInfoContainer");var e=r.ef.setEditProfileStatus,t=(0,i.I0)(),n=(0,i.v9)((function(e){return e.profilePage.profile})),o=(0,i.v9)((function(e){return e.auth.myId})),l=(0,i.v9)((function(e){var t,n;return null===(t=e.profilePage)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.userId})),s=(0,i.v9)((function(e){return e.profilePage.editProfileStatus})),a=(0,i.v9)((function(e){return e.app.notify})),u=l===o,c=!1;return a.forEach((function(e){"Edited successfully!"===e.message&&(c=!0)})),(0,m.jsx)(I,{profile:n,isMyProfile:u,putProfile:function(e){var n=Object.assign({},{userId:o},e);t((0,r.hv)(n))},editProfileStatus:s,setEditProfileStatus:e,isProfileEditedSuccesssfully:c})},M=n(9410),S=function(e){var t=e.userId,n=e.myId,o=e.status,i=e.putStatusThunkCreator,r=(0,a.useState)(!1),l=(0,j.Z)(r,2),s=l[0],u=l[1],c=(0,a.useState)(""),d=(0,j.Z)(c,2),f=d[0],h=d[1],p=function(){u(!1),i(f)};return(0,m.jsxs)(M.Z,{className:"my-3",onClick:function(){t===n&&(u(!0),h(o))},children:[(0,m.jsx)(M.Z.Text,{id:"basic-addon1",children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",(0,m.jsx)(v.Z.Control,{value:s?f:o,title:s?"\u041a\u043b\u0438\u043a/\u0441\u043c\u0435\u043d\u0430 \u0444\u043e\u043a\u0443\u0441\u0430/enter - \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f":"\u041a\u043b\u0438\u043a \u0434\u043b\u044f - \u043f\u0440\u0430\u0432\u043a\u0438",onChange:function(e){var t=e.currentTarget.value;h(t)},autoFocus:!0,onBlur:p,placeholder:s?"\u0437\u0430\u0434\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441":"\u043d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430",onKeyPress:function(e){13===e.charCode&&p()},disabled:!s})]})},N=function(){console.log("StatusContainer");var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.auth.myId})),n=(0,i.v9)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.userId})),o=(0,i.v9)((function(e){return e.profilePage.status}));return(0,m.jsx)("div",{children:(0,m.jsx)(S,{myId:t,userId:n,status:o,putStatusThunkCreator:function(t){e((0,r.FY)(t))}})})},L="MyPosts_posts__v8PmM",A="MyPosts_legendStyle__kuSLI",J="MyPosts_item__No0HI",T=function(e){var t=e.message,n=e.like;return(0,m.jsxs)("div",{className:J,children:[(0,m.jsx)("img",{alt:"\u041c\u0438\u0441\u0442\u0435\u0440 \u0431\u0438\u043d \u043d\u0430 \u043f\u0440\u043e\u0433\u0443\u043b\u043a\u0435",src:"https://i.pinimg.com/originals/03/b6/fe/03b6fe528accfd011629f5271e90e9ac.jpg"}),t,(0,m.jsx)("div",{children:(0,m.jsxs)("span",{children:["Like ",n]})})]})},w=n(7022),H=function(e){var t=e.addPost,n=(0,a.useState)(""),o=(0,j.Z)(n,2),i=o[0],r=o[1];return(0,m.jsx)("div",{children:(0,m.jsxs)(M.Z,{children:[(0,m.jsx)(v.Z.Control,{value:i,onChange:function(e){return r(e.target.value)},placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435...",onKeyPress:function(e){13===e.charCode&&(i&&t(i),r(""))}}),(0,m.jsxs)(y.Z,{disabled:!i,onClick:function(){i&&t(i),r("")},children:[" ","Submit"]}),(0,m.jsx)(y.Z,{disabled:!i,variant:"warning",type:"button",onClick:function(){return r("")},children:"Reset"})]})})},D=function(e){var t=e.posts,n=e.addPost;return(0,m.jsxs)(w.Z,{children:[(0,m.jsx)("div",{className:A,children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"}),(0,m.jsx)(H,{addPost:n}),(0,m.jsxs)("div",{className:L,children:[t.map((function(e,t){return(0,m.jsx)(T,{message:e.message,like:e.like},t)}))," "]})]})},O=r.ef.addPostActionCreator,V=function(){console.log("MyPostsContainer");var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.profilePage.posts}));return(0,m.jsx)(D,{posts:t,addPost:function(t){e(O(t))}})},K=n(9743),R=n(2677),$=(0,o.qC)(l.Z,s.Z)((function(e){var t=e.userId,n=(0,i.I0)();(0,a.useEffect)((function(){n((0,r.aI)(t))}),[t,n]);var o=0===t,l=(0,a.useMemo)((function(){return(0,m.jsx)(V,{})}),[]);return(0,m.jsxs)("div",{children:[(0,m.jsxs)(K.Z,{children:[(0,m.jsxs)(R.Z,{lg:6,md:6,sm:12,children:[(0,a.useMemo)((function(){return(0,m.jsx)(x,{})}),[])," "]}),(0,m.jsxs)(R.Z,{lg:6,md:6,sm:12,children:[(0,a.useMemo)((function(){return(0,m.jsx)(F,{})}),[])," "]})]}),(0,a.useMemo)((function(){return(0,m.jsx)(N,{})}),[]),o&&l," "]})}))},3990:function(e,t,n){var o=n(1413),i=(n(2791),n(8687)),r=n(7689),l=n(184),s=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){return(0,i.$j)(s,null)((function(t){return t.isAuth?(0,l.jsx)(e,(0,o.Z)({},t)):(0,l.jsx)(r.Fg,{to:"../login"})}))}},1852:function(e,t,n){var o=n(1413),i=(n(2791),n(7689)),r=n(8687),l=n(184);t.Z=function(e){return(0,r.$j)(null,null)((function(t){var n={params:(0,i.UO)()},r=Number(n.params["*"]);return(0,l.jsx)(e,(0,o.Z)((0,o.Z)({},t),{},{userId:r}))}))}}}]);
//# sourceMappingURL=888.5523ab5a.chunk.js.map